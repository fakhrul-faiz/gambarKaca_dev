var NP=Object.defineProperty;var SP=(e,t,r)=>t in e?NP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Jd=(e,t,r)=>SP(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var xr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _P(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Sw={exports:{}},_u={},_w={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hl=Symbol.for("react.element"),kP=Symbol.for("react.portal"),PP=Symbol.for("react.fragment"),CP=Symbol.for("react.strict_mode"),AP=Symbol.for("react.profiler"),OP=Symbol.for("react.provider"),EP=Symbol.for("react.context"),TP=Symbol.for("react.forward_ref"),MP=Symbol.for("react.suspense"),IP=Symbol.for("react.memo"),DP=Symbol.for("react.lazy"),Z0=Symbol.iterator;function $P(e){return e===null||typeof e!="object"?null:(e=Z0&&e[Z0]||e["@@iterator"],typeof e=="function"?e:null)}var kw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pw=Object.assign,Cw={};function ai(e,t,r){this.props=e,this.context=t,this.refs=Cw,this.updater=r||kw}ai.prototype.isReactComponent={};ai.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ai.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Aw(){}Aw.prototype=ai.prototype;function sp(e,t,r){this.props=e,this.context=t,this.refs=Cw,this.updater=r||kw}var ap=sp.prototype=new Aw;ap.constructor=sp;Pw(ap,ai.prototype);ap.isPureReactComponent=!0;var ex=Array.isArray,Ow=Object.prototype.hasOwnProperty,ip={current:null},Ew={key:!0,ref:!0,__self:!0,__source:!0};function Tw(e,t,r){var n,a={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Ow.call(t,n)&&!Ew.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Hl,type:e,key:i,ref:l,props:a,_owner:ip.current}}function LP(e,t){return{$$typeof:Hl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hl}function RP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var tx=/\/+/g;function Xd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RP(""+e.key):t.toString(36)}function Zo(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Hl:case kP:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+Xd(l,0):n,ex(a)?(r="",e!=null&&(r=e.replace(tx,"$&/")+"/"),Zo(a,t,r,"",function(d){return d})):a!=null&&(lp(a)&&(a=LP(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(tx,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",ex(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Xd(i,o);l+=Zo(i,t,r,c,a)}else if(c=$P(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Xd(i,o++),l+=Zo(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function go(e,t,r){if(e==null)return e;var n=[],a=0;return Zo(e,n,"","",function(i){return t.call(r,i,a++)}),n}function FP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},ec={transition:null},UP={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:ec,ReactCurrentOwner:ip};function Mw(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:go,forEach:function(e,t,r){go(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return go(e,function(){t++}),t},toArray:function(e){return go(e,function(t){return t})||[]},only:function(e){if(!lp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=ai;re.Fragment=PP;re.Profiler=AP;re.PureComponent=sp;re.StrictMode=CP;re.Suspense=MP;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UP;re.act=Mw;re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Pw({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=ip.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Ow.call(t,c)&&!Ew.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Hl,type:e.type,key:a,ref:i,props:n,_owner:l}};re.createContext=function(e){return e={$$typeof:EP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OP,_context:e},e.Consumer=e};re.createElement=Tw;re.createFactory=function(e){var t=Tw.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:TP,render:e}};re.isValidElement=lp;re.lazy=function(e){return{$$typeof:DP,_payload:{_status:-1,_result:e},_init:FP}};re.memo=function(e,t){return{$$typeof:IP,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=ec.transition;ec.transition={};try{e()}finally{ec.transition=t}};re.unstable_act=Mw;re.useCallback=function(e,t){return jt.current.useCallback(e,t)};re.useContext=function(e){return jt.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};re.useEffect=function(e,t){return jt.current.useEffect(e,t)};re.useId=function(){return jt.current.useId()};re.useImperativeHandle=function(e,t,r){return jt.current.useImperativeHandle(e,t,r)};re.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return jt.current.useMemo(e,t)};re.useReducer=function(e,t,r){return jt.current.useReducer(e,t,r)};re.useRef=function(e){return jt.current.useRef(e)};re.useState=function(e){return jt.current.useState(e)};re.useSyncExternalStore=function(e,t,r){return jt.current.useSyncExternalStore(e,t,r)};re.useTransition=function(){return jt.current.useTransition()};re.version="18.3.1";_w.exports=re;var w=_w.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP=w,zP=Symbol.for("react.element"),WP=Symbol.for("react.fragment"),KP=Object.prototype.hasOwnProperty,qP=BP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HP={key:!0,ref:!0,__self:!0,__source:!0};function Iw(e,t,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)KP.call(t,n)&&!HP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:zP,type:e,key:i,ref:l,props:a,_owner:qP.current}}_u.Fragment=WP;_u.jsx=Iw;_u.jsxs=Iw;Sw.exports=_u;var s=Sw.exports,Dw={exports:{}},sr={},$w={exports:{}},Lw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,B){var Y=I.length;I.push(B);e:for(;0<Y;){var R=Y-1>>>1,D=I[R];if(0<a(D,B))I[R]=B,I[Y]=D,Y=R;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var B=I[0],Y=I.pop();if(Y!==B){I[0]=Y;e:for(var R=0,D=I.length,ne=D>>>1;R<ne;){var ve=2*(R+1)-1,oe=I[ve],$e=ve+1,Br=I[$e];if(0>a(oe,Y))$e<D&&0>a(Br,oe)?(I[R]=Br,I[$e]=Y,R=$e):(I[R]=oe,I[ve]=Y,R=ve);else if($e<D&&0>a(Br,Y))I[R]=Br,I[$e]=Y,R=$e;else break e}}return B}function a(I,B){var Y=I.sortIndex-B.sortIndex;return Y!==0?Y:I.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,f=null,h=3,m=!1,x=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(I){for(var B=r(d);B!==null;){if(B.callback===null)n(d);else if(B.startTime<=I)n(d),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(d)}}function S(I){if(g=!1,v(I),!x)if(r(c)!==null)x=!0,M(j);else{var B=r(d);B!==null&&U(S,B.startTime-I)}}function j(I,B){x=!1,g&&(g=!1,p(k),k=-1),m=!0;var Y=h;try{for(v(B),f=r(c);f!==null&&(!(f.expirationTime>B)||I&&!P());){var R=f.callback;if(typeof R=="function"){f.callback=null,h=f.priorityLevel;var D=R(f.expirationTime<=B);B=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(c)&&n(c),v(B)}else n(c);f=r(c)}if(f!==null)var ne=!0;else{var ve=r(d);ve!==null&&U(S,ve.startTime-B),ne=!1}return ne}finally{f=null,h=Y,m=!1}}var N=!1,_=null,k=-1,A=5,O=-1;function P(){return!(e.unstable_now()-O<A)}function C(){if(_!==null){var I=e.unstable_now();O=I;var B=!0;try{B=_(!0,I)}finally{B?E():(N=!1,_=null)}}else N=!1}var E;if(typeof y=="function")E=function(){y(C)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=C,E=function(){z.postMessage(null)}}else E=function(){b(C,0)};function M(I){_=I,N||(N=!0,E())}function U(I,B){k=b(function(){I(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,M(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var Y=h;h=B;try{return I()}finally{h=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,B){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Y=h;h=I;try{return B()}finally{h=Y}},e.unstable_scheduleCallback=function(I,B,Y){var R=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?R+Y:R):Y=R,I){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Y+D,I={id:u++,callback:B,priorityLevel:I,startTime:Y,expirationTime:D,sortIndex:-1},Y>R?(I.sortIndex=Y,t(d,I),r(c)===null&&I===r(d)&&(g?(p(k),k=-1):g=!0,U(S,Y-R))):(I.sortIndex=D,t(c,I),x||m||(x=!0,M(j))),I},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(I){var B=h;return function(){var Y=h;h=B;try{return I.apply(this,arguments)}finally{h=Y}}}})(Lw);$w.exports=Lw;var VP=$w.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YP=w,Xt=VP;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rw=new Set,ul={};function na(e,t){Ua(e,t),Ua(e+"Capture",t)}function Ua(e,t){for(ul[e]=t,e=0;e<t.length;e++)Rw.add(t[e])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nh=Object.prototype.hasOwnProperty,GP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rx={},nx={};function JP(e){return nh.call(nx,e)?!0:nh.call(rx,e)?!1:GP.test(e)?nx[e]=!0:(rx[e]=!0,!1)}function XP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function QP(e,t,r,n){if(t===null||typeof t>"u"||XP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nt(e,t,r,n,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lt[e]=new Nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lt[t]=new Nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lt[e]=new Nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lt[e]=new Nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lt[e]=new Nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lt[e]=new Nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lt[e]=new Nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lt[e]=new Nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lt[e]=new Nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var op=/[\-:]([a-z])/g;function cp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(op,cp);lt[t]=new Nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(op,cp);lt[t]=new Nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(op,cp);lt[t]=new Nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lt[e]=new Nt(e,1,!1,e.toLowerCase(),null,!1,!1)});lt.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lt[e]=new Nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function up(e,t,r,n){var a=lt.hasOwnProperty(t)?lt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QP(t,r,a,n)&&(r=null),n||a===null?JP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pn=YP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xo=Symbol.for("react.element"),va=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),sh=Symbol.for("react.profiler"),Fw=Symbol.for("react.provider"),Uw=Symbol.for("react.context"),fp=Symbol.for("react.forward_ref"),ah=Symbol.for("react.suspense"),ih=Symbol.for("react.suspense_list"),hp=Symbol.for("react.memo"),Rn=Symbol.for("react.lazy"),Bw=Symbol.for("react.offscreen"),sx=Symbol.iterator;function wi(e){return e===null||typeof e!="object"?null:(e=sx&&e[sx]||e["@@iterator"],typeof e=="function"?e:null)}var De=Object.assign,Qd;function Fi(e){if(Qd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Qd=t&&t[1]||""}return`
`+Qd+e}var Zd=!1;function ef(e,t){if(!e||Zd)return"";Zd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Zd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Fi(e):""}function ZP(e){switch(e.tag){case 5:return Fi(e.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 2:case 15:return e=ef(e.type,!1),e;case 11:return e=ef(e.type.render,!1),e;case 1:return e=ef(e.type,!0),e;default:return""}}function lh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case va:return"Portal";case sh:return"Profiler";case dp:return"StrictMode";case ah:return"Suspense";case ih:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uw:return(e.displayName||"Context")+".Consumer";case Fw:return(e._context.displayName||"Context")+".Provider";case fp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hp:return t=e.displayName||null,t!==null?t:lh(e.type)||"Memo";case Rn:t=e._payload,e=e._init;try{return lh(e(t))}catch{}}return null}function eC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lh(t);case 8:return t===dp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function is(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tC(e){var t=zw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vo(e){e._valueTracker||(e._valueTracker=tC(e))}function Ww(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function oh(e,t){var r=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ax(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=is(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kw(e,t){t=t.checked,t!=null&&up(e,"checked",t,!1)}function ch(e,t){Kw(e,t);var r=is(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?uh(e,t.type,r):t.hasOwnProperty("defaultValue")&&uh(e,t.type,is(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ix(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function uh(e,t,r){(t!=="number"||fc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ui=Array.isArray;function Ta(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+is(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function dh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($(92));if(Ui(r)){if(1<r.length)throw Error($(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:is(r)}}function qw(e,t){var r=is(t.value),n=is(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ox(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yo,Vw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yo=yo||document.createElement("div"),yo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rC=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(e){rC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hi[t]=Hi[e]})});function Yw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Hi.hasOwnProperty(e)&&Hi[e]?(""+t).trim():t+"px"}function Gw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Yw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var nC=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hh(e,t){if(t){if(nC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function mh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ph=null;function mp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gh=null,Ma=null,Ia=null;function cx(e){if(e=Gl(e)){if(typeof gh!="function")throw Error($(280));var t=e.stateNode;t&&(t=Ou(t),gh(e.stateNode,e.type,t))}}function Jw(e){Ma?Ia?Ia.push(e):Ia=[e]:Ma=e}function Xw(){if(Ma){var e=Ma,t=Ia;if(Ia=Ma=null,cx(e),t)for(e=0;e<t.length;e++)cx(t[e])}}function Qw(e,t){return e(t)}function Zw(){}var tf=!1;function ej(e,t,r){if(tf)return e(t,r);tf=!0;try{return Qw(e,t,r)}finally{tf=!1,(Ma!==null||Ia!==null)&&(Zw(),Xw())}}function fl(e,t){var r=e.stateNode;if(r===null)return null;var n=Ou(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($(231,t,typeof r));return r}var xh=!1;if(xn)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){xh=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{xh=!1}function sC(e,t,r,n,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Vi=!1,hc=null,mc=!1,vh=null,aC={onError:function(e){Vi=!0,hc=e}};function iC(e,t,r,n,a,i,l,o,c){Vi=!1,hc=null,sC.apply(aC,arguments)}function lC(e,t,r,n,a,i,l,o,c){if(iC.apply(this,arguments),Vi){if(Vi){var d=hc;Vi=!1,hc=null}else throw Error($(198));mc||(mc=!0,vh=d)}}function sa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ux(e){if(sa(e)!==e)throw Error($(188))}function oC(e){var t=e.alternate;if(!t){if(t=sa(e),t===null)throw Error($(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return ux(a),e;if(i===n)return ux(a),t;i=i.sibling}throw Error($(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?e:t}function rj(e){return e=oC(e),e!==null?nj(e):null}function nj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nj(e);if(t!==null)return t;e=e.sibling}return null}var sj=Xt.unstable_scheduleCallback,dx=Xt.unstable_cancelCallback,cC=Xt.unstable_shouldYield,uC=Xt.unstable_requestPaint,Re=Xt.unstable_now,dC=Xt.unstable_getCurrentPriorityLevel,pp=Xt.unstable_ImmediatePriority,aj=Xt.unstable_UserBlockingPriority,pc=Xt.unstable_NormalPriority,fC=Xt.unstable_LowPriority,ij=Xt.unstable_IdlePriority,ku=null,Hr=null;function hC(e){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(ku,e,void 0,(e.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:gC,mC=Math.log,pC=Math.LN2;function gC(e){return e>>>=0,e===0?32:31-(mC(e)/pC|0)|0}var bo=64,wo=4194304;function Bi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=Bi(o):(i&=l,i!==0&&(n=Bi(i)))}else l=r&~a,l!==0?n=Bi(l):i!==0&&(n=Bi(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Dr(t),a=1<<r,n|=e[r],t&=~a;return n}function xC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Dr(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=xC(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function yh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lj(){var e=bo;return bo<<=1,!(bo&4194240)&&(bo=64),e}function rf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dr(t),e[t]=r}function yC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Dr(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function gp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Dr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var fe=0;function oj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cj,xp,uj,dj,fj,bh=!1,jo=[],Yn=null,Gn=null,Jn=null,hl=new Map,ml=new Map,zn=[],bC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fx(e,t){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":hl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(t.pointerId)}}function Ni(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Gl(t),t!==null&&xp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function wC(e,t,r,n,a){switch(t){case"focusin":return Yn=Ni(Yn,e,t,r,n,a),!0;case"dragenter":return Gn=Ni(Gn,e,t,r,n,a),!0;case"mouseover":return Jn=Ni(Jn,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return hl.set(i,Ni(hl.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ml.set(i,Ni(ml.get(i)||null,e,t,r,n,a)),!0}return!1}function hj(e){var t=Ms(e.target);if(t!==null){var r=sa(t);if(r!==null){if(t=r.tag,t===13){if(t=tj(r),t!==null){e.blockedOn=t,fj(e.priority,function(){uj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ph=n,r.target.dispatchEvent(n),ph=null}else return t=Gl(r),t!==null&&xp(t),e.blockedOn=r,!1;t.shift()}return!0}function hx(e,t,r){tc(e)&&r.delete(t)}function jC(){bh=!1,Yn!==null&&tc(Yn)&&(Yn=null),Gn!==null&&tc(Gn)&&(Gn=null),Jn!==null&&tc(Jn)&&(Jn=null),hl.forEach(hx),ml.forEach(hx)}function Si(e,t){e.blockedOn===t&&(e.blockedOn=null,bh||(bh=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,jC)))}function pl(e){function t(a){return Si(a,e)}if(0<jo.length){Si(jo[0],e);for(var r=1;r<jo.length;r++){var n=jo[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yn!==null&&Si(Yn,e),Gn!==null&&Si(Gn,e),Jn!==null&&Si(Jn,e),hl.forEach(t),ml.forEach(t),r=0;r<zn.length;r++)n=zn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<zn.length&&(r=zn[0],r.blockedOn===null);)hj(r),r.blockedOn===null&&zn.shift()}var Da=Pn.ReactCurrentBatchConfig,xc=!0;function NC(e,t,r,n){var a=fe,i=Da.transition;Da.transition=null;try{fe=1,vp(e,t,r,n)}finally{fe=a,Da.transition=i}}function SC(e,t,r,n){var a=fe,i=Da.transition;Da.transition=null;try{fe=4,vp(e,t,r,n)}finally{fe=a,Da.transition=i}}function vp(e,t,r,n){if(xc){var a=wh(e,t,r,n);if(a===null)hf(e,t,n,vc,r),fx(e,n);else if(wC(a,e,t,r,n))n.stopPropagation();else if(fx(e,n),t&4&&-1<bC.indexOf(e)){for(;a!==null;){var i=Gl(a);if(i!==null&&cj(i),i=wh(e,t,r,n),i===null&&hf(e,t,n,vc,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else hf(e,t,n,null,r)}}var vc=null;function wh(e,t,r,n){if(vc=null,e=mp(n),e=Ms(e),e!==null)if(t=sa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vc=e,null}function mj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dC()){case pp:return 1;case aj:return 4;case pc:case fC:return 16;case ij:return 536870912;default:return 16}default:return 16}}var Hn=null,yp=null,rc=null;function pj(){if(rc)return rc;var e,t=yp,r=t.length,n,a="value"in Hn?Hn.value:Hn.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===a[i-n];n++);return rc=a.slice(e,1<n?1-n:void 0)}function nc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function No(){return!0}function mx(){return!1}function ar(e){function t(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?No:mx,this.isPropagationStopped=mx,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=No)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=No)},persist:function(){},isPersistent:No}),t}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bp=ar(ii),Yl=De({},ii,{view:0,detail:0}),_C=ar(Yl),nf,sf,_i,Pu=De({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(nf=e.screenX-_i.screenX,sf=e.screenY-_i.screenY):sf=nf=0,_i=e),nf)},movementY:function(e){return"movementY"in e?e.movementY:sf}}),px=ar(Pu),kC=De({},Pu,{dataTransfer:0}),PC=ar(kC),CC=De({},Yl,{relatedTarget:0}),af=ar(CC),AC=De({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),OC=ar(AC),EC=De({},ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TC=ar(EC),MC=De({},ii,{data:0}),gx=ar(MC),IC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$C={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$C[e])?!!t[e]:!1}function wp(){return LC}var RC=De({},Yl,{key:function(e){if(e.key){var t=IC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wp,charCode:function(e){return e.type==="keypress"?nc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FC=ar(RC),UC=De({},Pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xx=ar(UC),BC=De({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wp}),zC=ar(BC),WC=De({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),KC=ar(WC),qC=De({},Pu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HC=ar(qC),VC=[9,13,27,32],jp=xn&&"CompositionEvent"in window,Yi=null;xn&&"documentMode"in document&&(Yi=document.documentMode);var YC=xn&&"TextEvent"in window&&!Yi,gj=xn&&(!jp||Yi&&8<Yi&&11>=Yi),vx=" ",yx=!1;function xj(e,t){switch(e){case"keyup":return VC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ba=!1;function GC(e,t){switch(e){case"compositionend":return vj(t);case"keypress":return t.which!==32?null:(yx=!0,vx);case"textInput":return e=t.data,e===vx&&yx?null:e;default:return null}}function JC(e,t){if(ba)return e==="compositionend"||!jp&&xj(e,t)?(e=pj(),rc=yp=Hn=null,ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gj&&t.locale!=="ko"?null:t.data;default:return null}}var XC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XC[e.type]:t==="textarea"}function yj(e,t,r,n){Jw(n),t=yc(t,"onChange"),0<t.length&&(r=new bp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gi=null,gl=null;function QC(e){Oj(e,0)}function Cu(e){var t=Na(e);if(Ww(t))return e}function ZC(e,t){if(e==="change")return t}var bj=!1;if(xn){var lf;if(xn){var of="oninput"in document;if(!of){var wx=document.createElement("div");wx.setAttribute("oninput","return;"),of=typeof wx.oninput=="function"}lf=of}else lf=!1;bj=lf&&(!document.documentMode||9<document.documentMode)}function jx(){Gi&&(Gi.detachEvent("onpropertychange",wj),gl=Gi=null)}function wj(e){if(e.propertyName==="value"&&Cu(gl)){var t=[];yj(t,gl,e,mp(e)),ej(QC,t)}}function eA(e,t,r){e==="focusin"?(jx(),Gi=t,gl=r,Gi.attachEvent("onpropertychange",wj)):e==="focusout"&&jx()}function tA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(gl)}function rA(e,t){if(e==="click")return Cu(t)}function nA(e,t){if(e==="input"||e==="change")return Cu(t)}function sA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lr=typeof Object.is=="function"?Object.is:sA;function xl(e,t){if(Lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!nh.call(t,a)||!Lr(e[a],t[a]))return!1}return!0}function Nx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sx(e,t){var r=Nx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nx(r)}}function jj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nj(){for(var e=window,t=fc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fc(e.document)}return t}function Np(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aA(e){var t=Nj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&jj(r.ownerDocument.documentElement,r)){if(n!==null&&Np(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Sx(r,i);var l=Sx(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iA=xn&&"documentMode"in document&&11>=document.documentMode,wa=null,jh=null,Ji=null,Nh=!1;function _x(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nh||wa==null||wa!==fc(n)||(n=wa,"selectionStart"in n&&Np(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ji&&xl(Ji,n)||(Ji=n,n=yc(jh,"onSelect"),0<n.length&&(t=new bp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=wa)))}function So(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ja={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionend:So("Transition","TransitionEnd")},cf={},Sj={};xn&&(Sj=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Au(e){if(cf[e])return cf[e];if(!ja[e])return e;var t=ja[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Sj)return cf[e]=t[r];return e}var _j=Au("animationend"),kj=Au("animationiteration"),Pj=Au("animationstart"),Cj=Au("transitionend"),Aj=new Map,kx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(e,t){Aj.set(e,t),na(t,[e])}for(var uf=0;uf<kx.length;uf++){var df=kx[uf],lA=df.toLowerCase(),oA=df[0].toUpperCase()+df.slice(1);fs(lA,"on"+oA)}fs(_j,"onAnimationEnd");fs(kj,"onAnimationIteration");fs(Pj,"onAnimationStart");fs("dblclick","onDoubleClick");fs("focusin","onFocus");fs("focusout","onBlur");fs(Cj,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));na("onBeforeInput",["compositionend","keypress","textInput","paste"]);na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("cancel close invalid load scroll toggle".split(" ").concat(zi));function Px(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,lC(n,t,void 0,e),e.currentTarget=null}function Oj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Px(a,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Px(a,o,d),i=c}}}if(mc)throw e=vh,mc=!1,vh=null,e}function Ne(e,t){var r=t[Ch];r===void 0&&(r=t[Ch]=new Set);var n=e+"__bubble";r.has(n)||(Ej(t,e,2,!1),r.add(n))}function ff(e,t,r){var n=0;t&&(n|=4),Ej(r,e,n,t)}var _o="_reactListening"+Math.random().toString(36).slice(2);function vl(e){if(!e[_o]){e[_o]=!0,Rw.forEach(function(r){r!=="selectionchange"&&(cA.has(r)||ff(r,!1,e),ff(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_o]||(t[_o]=!0,ff("selectionchange",!1,t))}}function Ej(e,t,r,n){switch(mj(t)){case 1:var a=NC;break;case 4:a=SC;break;default:a=vp}r=a.bind(null,t,r,e),a=void 0,!xh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function hf(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=Ms(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}ej(function(){var d=i,u=mp(r),f=[];e:{var h=Aj.get(e);if(h!==void 0){var m=bp,x=e;switch(e){case"keypress":if(nc(r)===0)break e;case"keydown":case"keyup":m=FC;break;case"focusin":x="focus",m=af;break;case"focusout":x="blur",m=af;break;case"beforeblur":case"afterblur":m=af;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=px;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=zC;break;case _j:case kj:case Pj:m=OC;break;case Cj:m=KC;break;case"scroll":m=_C;break;case"wheel":m=HC;break;case"copy":case"cut":case"paste":m=TC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=xx}var g=(t&4)!==0,b=!g&&e==="scroll",p=g?h!==null?h+"Capture":null:h;g=[];for(var y=d,v;y!==null;){v=y;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,p!==null&&(S=fl(y,p),S!=null&&g.push(yl(y,S,v)))),b)break;y=y.return}0<g.length&&(h=new m(h,x,null,r,u),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==ph&&(x=r.relatedTarget||r.fromElement)&&(Ms(x)||x[vn]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=d,x=x?Ms(x):null,x!==null&&(b=sa(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=d),m!==x)){if(g=px,S="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=xx,S="onPointerLeave",p="onPointerEnter",y="pointer"),b=m==null?h:Na(m),v=x==null?h:Na(x),h=new g(S,y+"leave",m,r,u),h.target=b,h.relatedTarget=v,S=null,Ms(u)===d&&(g=new g(p,y+"enter",x,r,u),g.target=v,g.relatedTarget=b,S=g),b=S,m&&x)t:{for(g=m,p=x,y=0,v=g;v;v=ua(v))y++;for(v=0,S=p;S;S=ua(S))v++;for(;0<y-v;)g=ua(g),y--;for(;0<v-y;)p=ua(p),v--;for(;y--;){if(g===p||p!==null&&g===p.alternate)break t;g=ua(g),p=ua(p)}g=null}else g=null;m!==null&&Cx(f,h,m,g,!1),x!==null&&b!==null&&Cx(f,b,x,g,!0)}}e:{if(h=d?Na(d):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=ZC;else if(bx(h))if(bj)j=nA;else{j=tA;var N=eA}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=rA);if(j&&(j=j(e,d))){yj(f,j,r,u);break e}N&&N(e,h,d),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&uh(h,"number",h.value)}switch(N=d?Na(d):window,e){case"focusin":(bx(N)||N.contentEditable==="true")&&(wa=N,jh=d,Ji=null);break;case"focusout":Ji=jh=wa=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,_x(f,r,u);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":_x(f,r,u)}var _;if(jp)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ba?xj(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(gj&&r.locale!=="ko"&&(ba||k!=="onCompositionStart"?k==="onCompositionEnd"&&ba&&(_=pj()):(Hn=u,yp="value"in Hn?Hn.value:Hn.textContent,ba=!0)),N=yc(d,k),0<N.length&&(k=new gx(k,e,null,r,u),f.push({event:k,listeners:N}),_?k.data=_:(_=vj(r),_!==null&&(k.data=_)))),(_=YC?GC(e,r):JC(e,r))&&(d=yc(d,"onBeforeInput"),0<d.length&&(u=new gx("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=_))}Oj(f,t)})}function yl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function yc(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=fl(e,r),i!=null&&n.unshift(yl(e,i,a)),i=fl(e,t),i!=null&&n.push(yl(e,i,a))),e=e.return}return n}function ua(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cx(e,t,r,n,a){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=fl(r,i),c!=null&&l.unshift(yl(r,c,o))):a||(c=fl(r,i),c!=null&&l.push(yl(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var uA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function Ax(e){return(typeof e=="string"?e:""+e).replace(uA,`
`).replace(dA,"")}function ko(e,t,r){if(t=Ax(t),Ax(e)!==t&&r)throw Error($(425))}function bc(){}var Sh=null,_h=null;function kh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ph=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,Ox=typeof Promise=="function"?Promise:void 0,hA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ox<"u"?function(e){return Ox.resolve(null).then(e).catch(mA)}:Ph;function mA(e){setTimeout(function(){throw e})}function mf(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),pl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);pl(t)}function Xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ex(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),Kr="__reactFiber$"+li,bl="__reactProps$"+li,vn="__reactContainer$"+li,Ch="__reactEvents$"+li,pA="__reactListeners$"+li,gA="__reactHandles$"+li;function Ms(e){var t=e[Kr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vn]||r[Kr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ex(e);e!==null;){if(r=e[Kr])return r;e=Ex(e)}return t}e=r,r=e.parentNode}return null}function Gl(e){return e=e[Kr]||e[vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Na(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Ou(e){return e[bl]||null}var Ah=[],Sa=-1;function hs(e){return{current:e}}function _e(e){0>Sa||(e.current=Ah[Sa],Ah[Sa]=null,Sa--)}function je(e,t){Sa++,Ah[Sa]=e.current,e.current=t}var ls={},xt=hs(ls),Mt=hs(!1),Vs=ls;function Ba(e,t){var r=e.type.contextTypes;if(!r)return ls;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function It(e){return e=e.childContextTypes,e!=null}function wc(){_e(Mt),_e(xt)}function Tx(e,t,r){if(xt.current!==ls)throw Error($(168));je(xt,t),je(Mt,r)}function Tj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error($(108,eC(e)||"Unknown",a));return De({},r,n)}function jc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ls,Vs=xt.current,je(xt,e),je(Mt,Mt.current),!0}function Mx(e,t,r){var n=e.stateNode;if(!n)throw Error($(169));r?(e=Tj(e,t,Vs),n.__reactInternalMemoizedMergedChildContext=e,_e(Mt),_e(xt),je(xt,e)):_e(Mt),je(Mt,r)}var on=null,Eu=!1,pf=!1;function Mj(e){on===null?on=[e]:on.push(e)}function xA(e){Eu=!0,Mj(e)}function ms(){if(!pf&&on!==null){pf=!0;var e=0,t=fe;try{var r=on;for(fe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}on=null,Eu=!1}catch(a){throw on!==null&&(on=on.slice(e+1)),sj(pp,ms),a}finally{fe=t,pf=!1}}return null}var _a=[],ka=0,Nc=null,Sc=0,dr=[],fr=0,Ys=null,dn=1,fn="";function ks(e,t){_a[ka++]=Sc,_a[ka++]=Nc,Nc=e,Sc=t}function Ij(e,t,r){dr[fr++]=dn,dr[fr++]=fn,dr[fr++]=Ys,Ys=e;var n=dn;e=fn;var a=32-Dr(n)-1;n&=~(1<<a),r+=1;var i=32-Dr(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,dn=1<<32-Dr(t)+a|r<<a|n,fn=i+e}else dn=1<<i|r<<a|n,fn=e}function Sp(e){e.return!==null&&(ks(e,1),Ij(e,1,0))}function _p(e){for(;e===Nc;)Nc=_a[--ka],_a[ka]=null,Sc=_a[--ka],_a[ka]=null;for(;e===Ys;)Ys=dr[--fr],dr[fr]=null,fn=dr[--fr],dr[fr]=null,dn=dr[--fr],dr[fr]=null}var Gt=null,Yt=null,Oe=!1,Or=null;function Dj(e,t){var r=mr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ix(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gt=e,Yt=Xn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gt=e,Yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ys!==null?{id:dn,overflow:fn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=mr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Gt=e,Yt=null,!0):!1;default:return!1}}function Oh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eh(e){if(Oe){var t=Yt;if(t){var r=t;if(!Ix(e,t)){if(Oh(e))throw Error($(418));t=Xn(r.nextSibling);var n=Gt;t&&Ix(e,t)?Dj(n,r):(e.flags=e.flags&-4097|2,Oe=!1,Gt=e)}}else{if(Oh(e))throw Error($(418));e.flags=e.flags&-4097|2,Oe=!1,Gt=e}}}function Dx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gt=e}function Po(e){if(e!==Gt)return!1;if(!Oe)return Dx(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kh(e.type,e.memoizedProps)),t&&(t=Yt)){if(Oh(e))throw $j(),Error($(418));for(;t;)Dj(e,t),t=Xn(t.nextSibling)}if(Dx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Yt=Xn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Yt=null}}else Yt=Gt?Xn(e.stateNode.nextSibling):null;return!0}function $j(){for(var e=Yt;e;)e=Xn(e.nextSibling)}function za(){Yt=Gt=null,Oe=!1}function kp(e){Or===null?Or=[e]:Or.push(e)}var vA=Pn.ReactCurrentBatchConfig;function ki(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var n=r.stateNode}if(!n)throw Error($(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!r._owner)throw Error($(290,e))}return e}function Co(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $x(e){var t=e._init;return t(e._payload)}function Lj(e){function t(p,y){if(e){var v=p.deletions;v===null?(p.deletions=[y],p.flags|=16):v.push(y)}}function r(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function n(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function a(p,y){return p=ts(p,y),p.index=0,p.sibling=null,p}function i(p,y,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<y?(p.flags|=2,y):v):(p.flags|=2,y)):(p.flags|=1048576,y)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,y,v,S){return y===null||y.tag!==6?(y=jf(v,p.mode,S),y.return=p,y):(y=a(y,v),y.return=p,y)}function c(p,y,v,S){var j=v.type;return j===ya?u(p,y,v.props.children,S,v.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Rn&&$x(j)===y.type)?(S=a(y,v.props),S.ref=ki(p,y,v),S.return=p,S):(S=uc(v.type,v.key,v.props,null,p.mode,S),S.ref=ki(p,y,v),S.return=p,S)}function d(p,y,v,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Nf(v,p.mode,S),y.return=p,y):(y=a(y,v.children||[]),y.return=p,y)}function u(p,y,v,S,j){return y===null||y.tag!==7?(y=zs(v,p.mode,S,j),y.return=p,y):(y=a(y,v),y.return=p,y)}function f(p,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=jf(""+y,p.mode,v),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xo:return v=uc(y.type,y.key,y.props,null,p.mode,v),v.ref=ki(p,null,y),v.return=p,v;case va:return y=Nf(y,p.mode,v),y.return=p,y;case Rn:var S=y._init;return f(p,S(y._payload),v)}if(Ui(y)||wi(y))return y=zs(y,p.mode,v,null),y.return=p,y;Co(p,y)}return null}function h(p,y,v,S){var j=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:o(p,y,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case xo:return v.key===j?c(p,y,v,S):null;case va:return v.key===j?d(p,y,v,S):null;case Rn:return j=v._init,h(p,y,j(v._payload),S)}if(Ui(v)||wi(v))return j!==null?null:u(p,y,v,S,null);Co(p,v)}return null}function m(p,y,v,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(v)||null,o(y,p,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case xo:return p=p.get(S.key===null?v:S.key)||null,c(y,p,S,j);case va:return p=p.get(S.key===null?v:S.key)||null,d(y,p,S,j);case Rn:var N=S._init;return m(p,y,v,N(S._payload),j)}if(Ui(S)||wi(S))return p=p.get(v)||null,u(y,p,S,j,null);Co(y,S)}return null}function x(p,y,v,S){for(var j=null,N=null,_=y,k=y=0,A=null;_!==null&&k<v.length;k++){_.index>k?(A=_,_=null):A=_.sibling;var O=h(p,_,v[k],S);if(O===null){_===null&&(_=A);break}e&&_&&O.alternate===null&&t(p,_),y=i(O,y,k),N===null?j=O:N.sibling=O,N=O,_=A}if(k===v.length)return r(p,_),Oe&&ks(p,k),j;if(_===null){for(;k<v.length;k++)_=f(p,v[k],S),_!==null&&(y=i(_,y,k),N===null?j=_:N.sibling=_,N=_);return Oe&&ks(p,k),j}for(_=n(p,_);k<v.length;k++)A=m(_,p,k,v[k],S),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?k:A.key),y=i(A,y,k),N===null?j=A:N.sibling=A,N=A);return e&&_.forEach(function(P){return t(p,P)}),Oe&&ks(p,k),j}function g(p,y,v,S){var j=wi(v);if(typeof j!="function")throw Error($(150));if(v=j.call(v),v==null)throw Error($(151));for(var N=j=null,_=y,k=y=0,A=null,O=v.next();_!==null&&!O.done;k++,O=v.next()){_.index>k?(A=_,_=null):A=_.sibling;var P=h(p,_,O.value,S);if(P===null){_===null&&(_=A);break}e&&_&&P.alternate===null&&t(p,_),y=i(P,y,k),N===null?j=P:N.sibling=P,N=P,_=A}if(O.done)return r(p,_),Oe&&ks(p,k),j;if(_===null){for(;!O.done;k++,O=v.next())O=f(p,O.value,S),O!==null&&(y=i(O,y,k),N===null?j=O:N.sibling=O,N=O);return Oe&&ks(p,k),j}for(_=n(p,_);!O.done;k++,O=v.next())O=m(_,p,k,O.value,S),O!==null&&(e&&O.alternate!==null&&_.delete(O.key===null?k:O.key),y=i(O,y,k),N===null?j=O:N.sibling=O,N=O);return e&&_.forEach(function(C){return t(p,C)}),Oe&&ks(p,k),j}function b(p,y,v,S){if(typeof v=="object"&&v!==null&&v.type===ya&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case xo:e:{for(var j=v.key,N=y;N!==null;){if(N.key===j){if(j=v.type,j===ya){if(N.tag===7){r(p,N.sibling),y=a(N,v.props.children),y.return=p,p=y;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Rn&&$x(j)===N.type){r(p,N.sibling),y=a(N,v.props),y.ref=ki(p,N,v),y.return=p,p=y;break e}r(p,N);break}else t(p,N);N=N.sibling}v.type===ya?(y=zs(v.props.children,p.mode,S,v.key),y.return=p,p=y):(S=uc(v.type,v.key,v.props,null,p.mode,S),S.ref=ki(p,y,v),S.return=p,p=S)}return l(p);case va:e:{for(N=v.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){r(p,y.sibling),y=a(y,v.children||[]),y.return=p,p=y;break e}else{r(p,y);break}else t(p,y);y=y.sibling}y=Nf(v,p.mode,S),y.return=p,p=y}return l(p);case Rn:return N=v._init,b(p,y,N(v._payload),S)}if(Ui(v))return x(p,y,v,S);if(wi(v))return g(p,y,v,S);Co(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(r(p,y.sibling),y=a(y,v),y.return=p,p=y):(r(p,y),y=jf(v,p.mode,S),y.return=p,p=y),l(p)):r(p,y)}return b}var Wa=Lj(!0),Rj=Lj(!1),_c=hs(null),kc=null,Pa=null,Pp=null;function Cp(){Pp=Pa=kc=null}function Ap(e){var t=_c.current;_e(_c),e._currentValue=t}function Th(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $a(e,t){kc=e,Pp=Pa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ot=!0),e.firstContext=null)}function vr(e){var t=e._currentValue;if(Pp!==e)if(e={context:e,memoizedValue:t,next:null},Pa===null){if(kc===null)throw Error($(308));Pa=e,kc.dependencies={lanes:0,firstContext:e}}else Pa=Pa.next=e;return t}var Is=null;function Op(e){Is===null?Is=[e]:Is.push(e)}function Fj(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Op(t)):(r.next=a.next,a.next=r),t.interleaved=r,yn(e,n)}function yn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fn=!1;function Ep(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ae&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,yn(e,r)}return a=n.interleaved,a===null?(t.next=t,Op(n)):(t.next=a.next,a.next=t),n.interleaved=t,yn(e,r)}function sc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gp(e,r)}}function Lx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Pc(e,t,r,n){var a=e.updateQueue;Fn=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;l=0,u=d=c=null,o=i;do{var h=o.lane,m=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,g=o;switch(h=t,m=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=De({},f,h);break e;case 2:Fn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=m,c=f):u=u.next=m,l|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Js|=l,e.lanes=l,e.memoizedState=f}}function Rx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error($(191,a));a.call(n)}}}var Jl={},Vr=hs(Jl),wl=hs(Jl),jl=hs(Jl);function Ds(e){if(e===Jl)throw Error($(174));return e}function Tp(e,t){switch(je(jl,t),je(wl,e),je(Vr,Jl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fh(t,e)}_e(Vr),je(Vr,t)}function Ka(){_e(Vr),_e(wl),_e(jl)}function Bj(e){Ds(jl.current);var t=Ds(Vr.current),r=fh(t,e.type);t!==r&&(je(wl,e),je(Vr,r))}function Mp(e){wl.current===e&&(_e(Vr),_e(wl))}var Me=hs(0);function Cc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gf=[];function Ip(){for(var e=0;e<gf.length;e++)gf[e]._workInProgressVersionPrimary=null;gf.length=0}var ac=Pn.ReactCurrentDispatcher,xf=Pn.ReactCurrentBatchConfig,Gs=0,Ie=null,Ke=null,Je=null,Ac=!1,Xi=!1,Nl=0,yA=0;function ct(){throw Error($(321))}function Dp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lr(e[r],t[r]))return!1;return!0}function $p(e,t,r,n,a,i){if(Gs=i,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ac.current=e===null||e.memoizedState===null?NA:SA,e=r(n,a),Xi){i=0;do{if(Xi=!1,Nl=0,25<=i)throw Error($(301));i+=1,Je=Ke=null,t.updateQueue=null,ac.current=_A,e=r(n,a)}while(Xi)}if(ac.current=Oc,t=Ke!==null&&Ke.next!==null,Gs=0,Je=Ke=Ie=null,Ac=!1,t)throw Error($(300));return e}function Lp(){var e=Nl!==0;return Nl=0,e}function Wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ie.memoizedState=Je=e:Je=Je.next=e,Je}function yr(){if(Ke===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Je===null?Ie.memoizedState:Je.next;if(t!==null)Je=t,Ke=e;else{if(e===null)throw Error($(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Je===null?Ie.memoizedState=Je=e:Je=Je.next=e}return Je}function Sl(e,t){return typeof t=="function"?t(e):t}function vf(e){var t=yr(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=Ke,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((Gs&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=f,l=n):c=c.next=f,Ie.lanes|=u,Js|=u}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,Lr(n,t.memoizedState)||(Ot=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ie.lanes|=i,Js|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function yf(e){var t=yr(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);Lr(i,t.memoizedState)||(Ot=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function zj(){}function Wj(e,t){var r=Ie,n=yr(),a=t(),i=!Lr(n.memoizedState,a);if(i&&(n.memoizedState=a,Ot=!0),n=n.queue,Rp(Hj.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Je!==null&&Je.memoizedState.tag&1){if(r.flags|=2048,_l(9,qj.bind(null,r,n,a,t),void 0,null),Xe===null)throw Error($(349));Gs&30||Kj(r,t,a)}return a}function Kj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function qj(e,t,r,n){t.value=r,t.getSnapshot=n,Vj(t)&&Yj(e)}function Hj(e,t,r){return r(function(){Vj(t)&&Yj(e)})}function Vj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lr(e,r)}catch{return!0}}function Yj(e){var t=yn(e,1);t!==null&&$r(t,e,1,-1)}function Fx(e){var t=Wr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:e},t.queue=e,e=e.dispatch=jA.bind(null,Ie,e),[t.memoizedState,e]}function _l(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Gj(){return yr().memoizedState}function ic(e,t,r,n){var a=Wr();Ie.flags|=e,a.memoizedState=_l(1|t,r,void 0,n===void 0?null:n)}function Tu(e,t,r,n){var a=yr();n=n===void 0?null:n;var i=void 0;if(Ke!==null){var l=Ke.memoizedState;if(i=l.destroy,n!==null&&Dp(n,l.deps)){a.memoizedState=_l(t,r,i,n);return}}Ie.flags|=e,a.memoizedState=_l(1|t,r,i,n)}function Ux(e,t){return ic(8390656,8,e,t)}function Rp(e,t){return Tu(2048,8,e,t)}function Jj(e,t){return Tu(4,2,e,t)}function Xj(e,t){return Tu(4,4,e,t)}function Qj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zj(e,t,r){return r=r!=null?r.concat([e]):null,Tu(4,4,Qj.bind(null,t,e),r)}function Fp(){}function e1(e,t){var r=yr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Dp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function t1(e,t){var r=yr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Dp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function r1(e,t,r){return Gs&21?(Lr(r,t)||(r=lj(),Ie.lanes|=r,Js|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ot=!0),e.memoizedState=r)}function bA(e,t){var r=fe;fe=r!==0&&4>r?r:4,e(!0);var n=xf.transition;xf.transition={};try{e(!1),t()}finally{fe=r,xf.transition=n}}function n1(){return yr().memoizedState}function wA(e,t,r){var n=es(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},s1(e))a1(t,r);else if(r=Fj(e,t,r,n),r!==null){var a=wt();$r(r,e,n,a),i1(r,t,n)}}function jA(e,t,r){var n=es(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(s1(e))a1(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,Lr(o,l)){var c=t.interleaved;c===null?(a.next=a,Op(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Fj(e,t,a,n),r!==null&&(a=wt(),$r(r,e,n,a),i1(r,t,n))}}function s1(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function a1(e,t){Xi=Ac=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function i1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gp(e,r)}}var Oc={readContext:vr,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},NA={readContext:vr,useCallback:function(e,t){return Wr().memoizedState=[e,t===void 0?null:t],e},useContext:vr,useEffect:Ux,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ic(4194308,4,Qj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ic(4194308,4,e,t)},useInsertionEffect:function(e,t){return ic(4,2,e,t)},useMemo:function(e,t){var r=Wr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Wr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=wA.bind(null,Ie,e),[n.memoizedState,e]},useRef:function(e){var t=Wr();return e={current:e},t.memoizedState=e},useState:Fx,useDebugValue:Fp,useDeferredValue:function(e){return Wr().memoizedState=e},useTransition:function(){var e=Fx(!1),t=e[0];return e=bA.bind(null,e[1]),Wr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ie,a=Wr();if(Oe){if(r===void 0)throw Error($(407));r=r()}else{if(r=t(),Xe===null)throw Error($(349));Gs&30||Kj(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Ux(Hj.bind(null,n,i,e),[e]),n.flags|=2048,_l(9,qj.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Wr(),t=Xe.identifierPrefix;if(Oe){var r=fn,n=dn;r=(n&~(1<<32-Dr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Nl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=yA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},SA={readContext:vr,useCallback:e1,useContext:vr,useEffect:Rp,useImperativeHandle:Zj,useInsertionEffect:Jj,useLayoutEffect:Xj,useMemo:t1,useReducer:vf,useRef:Gj,useState:function(){return vf(Sl)},useDebugValue:Fp,useDeferredValue:function(e){var t=yr();return r1(t,Ke.memoizedState,e)},useTransition:function(){var e=vf(Sl)[0],t=yr().memoizedState;return[e,t]},useMutableSource:zj,useSyncExternalStore:Wj,useId:n1,unstable_isNewReconciler:!1},_A={readContext:vr,useCallback:e1,useContext:vr,useEffect:Rp,useImperativeHandle:Zj,useInsertionEffect:Jj,useLayoutEffect:Xj,useMemo:t1,useReducer:yf,useRef:Gj,useState:function(){return yf(Sl)},useDebugValue:Fp,useDeferredValue:function(e){var t=yr();return Ke===null?t.memoizedState=e:r1(t,Ke.memoizedState,e)},useTransition:function(){var e=yf(Sl)[0],t=yr().memoizedState;return[e,t]},useMutableSource:zj,useSyncExternalStore:Wj,useId:n1,unstable_isNewReconciler:!1};function Pr(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Mh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:De({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Mu={isMounted:function(e){return(e=e._reactInternals)?sa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=wt(),a=es(e),i=pn(n,a);i.payload=t,r!=null&&(i.callback=r),t=Qn(e,i,a),t!==null&&($r(t,e,a,n),sc(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=wt(),a=es(e),i=pn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Qn(e,i,a),t!==null&&($r(t,e,a,n),sc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=wt(),n=es(e),a=pn(r,n);a.tag=2,t!=null&&(a.callback=t),t=Qn(e,a,n),t!==null&&($r(t,e,n,r),sc(t,e,n))}};function Bx(e,t,r,n,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!xl(r,n)||!xl(a,i):!0}function l1(e,t,r){var n=!1,a=ls,i=t.contextType;return typeof i=="object"&&i!==null?i=vr(i):(a=It(t)?Vs:xt.current,n=t.contextTypes,i=(n=n!=null)?Ba(e,a):ls),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function zx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Mu.enqueueReplaceState(t,t.state,null)}function Ih(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ep(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=vr(i):(i=It(t)?Vs:xt.current,a.context=Ba(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Mh(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Mu.enqueueReplaceState(a,a.state,null),Pc(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function qa(e,t){try{var r="",n=t;do r+=ZP(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function bf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Dh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kA=typeof WeakMap=="function"?WeakMap:Map;function o1(e,t,r){r=pn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Tc||(Tc=!0,qh=n),Dh(e,t)},r}function c1(e,t,r){r=pn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Dh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Dh(e,t),typeof n!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Wx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new kA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=UA.bind(null,e,t,r),t.then(e,e))}function Kx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=pn(-1,1),t.tag=2,Qn(r,t,1))),r.lanes|=1),e)}var PA=Pn.ReactCurrentOwner,Ot=!1;function yt(e,t,r,n){t.child=e===null?Rj(t,null,r,n):Wa(t,e.child,r,n)}function Hx(e,t,r,n,a){r=r.render;var i=t.ref;return $a(t,a),n=$p(e,t,r,n,i,a),r=Lp(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bn(e,t,a)):(Oe&&r&&Sp(t),t.flags|=1,yt(e,t,n,a),t.child)}function Vx(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Vp(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,u1(e,t,i,n,a)):(e=uc(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:xl,r(l,n)&&e.ref===t.ref)return bn(e,t,a)}return t.flags|=1,e=ts(i,n),e.ref=t.ref,e.return=t,t.child=e}function u1(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(xl(i,n)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ot=!0);else return t.lanes=e.lanes,bn(e,t,a)}return $h(e,t,r,n,a)}function d1(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Aa,Wt),Wt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(Aa,Wt),Wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,je(Aa,Wt),Wt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,je(Aa,Wt),Wt|=n;return yt(e,t,a,r),t.child}function f1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function $h(e,t,r,n,a){var i=It(r)?Vs:xt.current;return i=Ba(t,i),$a(t,a),r=$p(e,t,r,n,i,a),n=Lp(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bn(e,t,a)):(Oe&&n&&Sp(t),t.flags|=1,yt(e,t,r,a),t.child)}function Yx(e,t,r,n,a){if(It(r)){var i=!0;jc(t)}else i=!1;if($a(t,a),t.stateNode===null)lc(e,t),l1(t,r,n),Ih(t,r,n,a),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=vr(d):(d=It(r)?Vs:xt.current,d=Ba(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&zx(t,l,n,d),Fn=!1;var h=t.memoizedState;l.state=h,Pc(t,n,l,a),c=t.memoizedState,o!==n||h!==c||Mt.current||Fn?(typeof u=="function"&&(Mh(t,r,u,n),c=t.memoizedState),(o=Fn||Bx(t,r,o,n,h,c,d))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Uj(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Pr(t.type,o),l.props=d,f=t.pendingProps,h=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=vr(c):(c=It(r)?Vs:xt.current,c=Ba(t,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==f||h!==c)&&zx(t,l,n,c),Fn=!1,h=t.memoizedState,l.state=h,Pc(t,n,l,a);var x=t.memoizedState;o!==f||h!==x||Mt.current||Fn?(typeof m=="function"&&(Mh(t,r,m,n),x=t.memoizedState),(d=Fn||Bx(t,r,d,n,h,x,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),l.props=n,l.state=x,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Lh(e,t,r,n,i,a)}function Lh(e,t,r,n,a,i){f1(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&Mx(t,r,!1),bn(e,t,i);n=t.stateNode,PA.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Wa(t,e.child,null,i),t.child=Wa(t,null,o,i)):yt(e,t,o,i),t.memoizedState=n.state,a&&Mx(t,r,!0),t.child}function h1(e){var t=e.stateNode;t.pendingContext?Tx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tx(e,t.context,!1),Tp(e,t.containerInfo)}function Gx(e,t,r,n,a){return za(),kp(a),t.flags|=256,yt(e,t,r,n),t.child}var Rh={dehydrated:null,treeContext:null,retryLane:0};function Fh(e){return{baseLanes:e,cachePool:null,transitions:null}}function m1(e,t,r){var n=t.pendingProps,a=Me.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),je(Me,a&1),e===null)return Eh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=$u(l,n,0,null),e=zs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fh(r),t.memoizedState=Rh,e):Up(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return CA(e,t,l,n,o,a,r);if(i){i=n.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ts(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=ts(o,i):(i=zs(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?Fh(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Rh,n}return i=e.child,e=i.sibling,n=ts(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Up(e,t){return t=$u({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ao(e,t,r,n){return n!==null&&kp(n),Wa(t,e.child,null,r),e=Up(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function CA(e,t,r,n,a,i,l){if(r)return t.flags&256?(t.flags&=-257,n=bf(Error($(422))),Ao(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=$u({mode:"visible",children:n.children},a,0,null),i=zs(i,a,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Wa(t,e.child,null,l),t.child.memoizedState=Fh(l),t.memoizedState=Rh,i);if(!(t.mode&1))return Ao(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error($(419)),n=bf(i,n,void 0),Ao(e,t,l,n)}if(o=(l&e.childLanes)!==0,Ot||o){if(n=Xe,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,yn(e,a),$r(n,e,a,-1))}return Hp(),n=bf(Error($(421))),Ao(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=BA.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Yt=Xn(a.nextSibling),Gt=t,Oe=!0,Or=null,e!==null&&(dr[fr++]=dn,dr[fr++]=fn,dr[fr++]=Ys,dn=e.id,fn=e.overflow,Ys=t),t=Up(t,n.children),t.flags|=4096,t)}function Jx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Th(e.return,t,r)}function wf(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function p1(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(yt(e,t,n.children,r),n=Me.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jx(e,r,t);else if(e.tag===19)Jx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(je(Me,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Cc(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),wf(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Cc(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}wf(t,!0,r,null,i);break;case"together":wf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Js|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,r=ts(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ts(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function AA(e,t,r){switch(t.tag){case 3:h1(t),za();break;case 5:Bj(t);break;case 1:It(t.type)&&jc(t);break;case 4:Tp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;je(_c,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(je(Me,Me.current&1),t.flags|=128,null):r&t.child.childLanes?m1(e,t,r):(je(Me,Me.current&1),e=bn(e,t,r),e!==null?e.sibling:null);je(Me,Me.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return p1(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),je(Me,Me.current),n)break;return null;case 22:case 23:return t.lanes=0,d1(e,t,r)}return bn(e,t,r)}var g1,Uh,x1,v1;g1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Uh=function(){};x1=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ds(Vr.current);var i=null;switch(r){case"input":a=oh(e,a),n=oh(e,n),i=[];break;case"select":a=De({},a,{value:void 0}),n=De({},n,{value:void 0}),i=[];break;case"textarea":a=dh(e,a),n=dh(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=bc)}hh(r,n);var l;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ul.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ul.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ne("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};v1=function(e,t,r,n){r!==n&&(t.flags|=4)};function Pi(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function OA(e,t,r){var n=t.pendingProps;switch(_p(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return It(t.type)&&wc(),ut(t),null;case 3:return n=t.stateNode,Ka(),_e(Mt),_e(xt),Ip(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Po(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Or!==null&&(Yh(Or),Or=null))),Uh(e,t),ut(t),null;case 5:Mp(t);var a=Ds(jl.current);if(r=t.type,e!==null&&t.stateNode!=null)x1(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error($(166));return ut(t),null}if(e=Ds(Vr.current),Po(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Kr]=t,n[bl]=i,e=(t.mode&1)!==0,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(a=0;a<zi.length;a++)Ne(zi[a],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":ax(n,i),Ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",n);break;case"textarea":lx(n,i),Ne("invalid",n)}hh(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&ko(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ko(n.textContent,o,e),a=["children",""+o]):ul.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Ne("scroll",n)}switch(r){case"input":vo(n),ix(n,i,!0);break;case"textarea":vo(n),ox(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=bc)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Kr]=t,e[bl]=n,g1(e,t,!1,!1),t.stateNode=e;e:{switch(l=mh(r,n),r){case"dialog":Ne("cancel",e),Ne("close",e),a=n;break;case"iframe":case"object":case"embed":Ne("load",e),a=n;break;case"video":case"audio":for(a=0;a<zi.length;a++)Ne(zi[a],e);a=n;break;case"source":Ne("error",e),a=n;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),a=n;break;case"details":Ne("toggle",e),a=n;break;case"input":ax(e,n),a=oh(e,n),Ne("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=De({},n,{value:void 0}),Ne("invalid",e);break;case"textarea":lx(e,n),a=dh(e,n),Ne("invalid",e);break;default:a=n}hh(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Gw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vw(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&dl(e,c):typeof c=="number"&&dl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ul.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ne("scroll",e):c!=null&&up(e,i,c,l))}switch(r){case"input":vo(e),ix(e,n,!1);break;case"textarea":vo(e),ox(e);break;case"option":n.value!=null&&e.setAttribute("value",""+is(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ta(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ta(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=bc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)v1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($(166));if(r=Ds(jl.current),Ds(Vr.current),Po(t)){if(n=t.stateNode,r=t.memoizedProps,n[Kr]=t,(i=n.nodeValue!==r)&&(e=Gt,e!==null))switch(e.tag){case 3:ko(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ko(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kr]=t,t.stateNode=n}return ut(t),null;case 13:if(_e(Me),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&Yt!==null&&t.mode&1&&!(t.flags&128))$j(),za(),t.flags|=98560,i=!1;else if(i=Po(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Kr]=t}else za(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),i=!1}else Or!==null&&(Yh(Or),Or=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Me.current&1?qe===0&&(qe=3):Hp())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return Ka(),Uh(e,t),e===null&&vl(t.stateNode.containerInfo),ut(t),null;case 10:return Ap(t.type._context),ut(t),null;case 17:return It(t.type)&&wc(),ut(t),null;case 19:if(_e(Me),i=t.memoizedState,i===null)return ut(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)Pi(i,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Cc(e),l!==null){for(t.flags|=128,Pi(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(Me,Me.current&1|2),t.child}e=e.sibling}i.tail!==null&&Re()>Ha&&(t.flags|=128,n=!0,Pi(i,!1),t.lanes=4194304)}else{if(!n)if(e=Cc(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Pi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Oe)return ut(t),null}else 2*Re()-i.renderingStartTime>Ha&&r!==1073741824&&(t.flags|=128,n=!0,Pi(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Re(),t.sibling=null,r=Me.current,je(Me,n?r&1|2:r&1),t):(ut(t),null);case 22:case 23:return qp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Wt&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function EA(e,t){switch(_p(t),t.tag){case 1:return It(t.type)&&wc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ka(),_e(Mt),_e(xt),Ip(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mp(t),null;case 13:if(_e(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Me),null;case 4:return Ka(),null;case 10:return Ap(t.type._context),null;case 22:case 23:return qp(),null;case 24:return null;default:return null}}var Oo=!1,ht=!1,TA=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ca(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Le(e,t,n)}else r.current=null}function Bh(e,t,r){try{r()}catch(n){Le(e,t,n)}}var Xx=!1;function MA(e,t){if(Sh=xc,e=Nj(),Np(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(o=l+a),f!==i||n!==0&&f.nodeType!==3||(c=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++d===a&&(o=l),h===i&&++u===n&&(c=l),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(_h={focusedElem:e,selectionRange:r},xc=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,b=x.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:Pr(t.type,g),b);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(S){Le(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return x=Xx,Xx=!1,x}function Qi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Bh(t,r,i)}a=a.next}while(a!==n)}}function Iu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function zh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function y1(e){var t=e.alternate;t!==null&&(e.alternate=null,y1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kr],delete t[bl],delete t[Ch],delete t[pA],delete t[gA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b1(e){return e.tag===5||e.tag===3||e.tag===4}function Qx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=bc));else if(n!==4&&(e=e.child,e!==null))for(Wh(e,t,r),e=e.sibling;e!==null;)Wh(e,t,r),e=e.sibling}function Kh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Kh(e,t,r),e=e.sibling;e!==null;)Kh(e,t,r),e=e.sibling}var nt=null,Cr=!1;function Mn(e,t,r){for(r=r.child;r!==null;)w1(e,t,r),r=r.sibling}function w1(e,t,r){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(ku,r)}catch{}switch(r.tag){case 5:ht||Ca(r,t);case 6:var n=nt,a=Cr;nt=null,Mn(e,t,r),nt=n,Cr=a,nt!==null&&(Cr?(e=nt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):nt.removeChild(r.stateNode));break;case 18:nt!==null&&(Cr?(e=nt,r=r.stateNode,e.nodeType===8?mf(e.parentNode,r):e.nodeType===1&&mf(e,r),pl(e)):mf(nt,r.stateNode));break;case 4:n=nt,a=Cr,nt=r.stateNode.containerInfo,Cr=!0,Mn(e,t,r),nt=n,Cr=a;break;case 0:case 11:case 14:case 15:if(!ht&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Bh(r,t,l),a=a.next}while(a!==n)}Mn(e,t,r);break;case 1:if(!ht&&(Ca(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Le(r,t,o)}Mn(e,t,r);break;case 21:Mn(e,t,r);break;case 22:r.mode&1?(ht=(n=ht)||r.memoizedState!==null,Mn(e,t,r),ht=n):Mn(e,t,r);break;default:Mn(e,t,r)}}function Zx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new TA),t.forEach(function(n){var a=zA.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function _r(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:nt=o.stateNode,Cr=!1;break e;case 3:nt=o.stateNode.containerInfo,Cr=!0;break e;case 4:nt=o.stateNode.containerInfo,Cr=!0;break e}o=o.return}if(nt===null)throw Error($(160));w1(i,l,a),nt=null,Cr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Le(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)j1(t,e),t=t.sibling}function j1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_r(t,e),zr(e),n&4){try{Qi(3,e,e.return),Iu(3,e)}catch(g){Le(e,e.return,g)}try{Qi(5,e,e.return)}catch(g){Le(e,e.return,g)}}break;case 1:_r(t,e),zr(e),n&512&&r!==null&&Ca(r,r.return);break;case 5:if(_r(t,e),zr(e),n&512&&r!==null&&Ca(r,r.return),e.flags&32){var a=e.stateNode;try{dl(a,"")}catch(g){Le(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Kw(a,i),mh(o,l);var d=mh(o,i);for(l=0;l<c.length;l+=2){var u=c[l],f=c[l+1];u==="style"?Gw(a,f):u==="dangerouslySetInnerHTML"?Vw(a,f):u==="children"?dl(a,f):up(a,u,f,d)}switch(o){case"input":ch(a,i);break;case"textarea":qw(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ta(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ta(a,!!i.multiple,i.defaultValue,!0):Ta(a,!!i.multiple,i.multiple?[]:"",!1))}a[bl]=i}catch(g){Le(e,e.return,g)}}break;case 6:if(_r(t,e),zr(e),n&4){if(e.stateNode===null)throw Error($(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Le(e,e.return,g)}}break;case 3:if(_r(t,e),zr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{pl(t.containerInfo)}catch(g){Le(e,e.return,g)}break;case 4:_r(t,e),zr(e);break;case 13:_r(t,e),zr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Wp=Re())),n&4&&Zx(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ht=(d=ht)||u,_r(t,e),ht=d):_r(t,e),zr(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(W=e,u=e.child;u!==null;){for(f=W=u;W!==null;){switch(h=W,m=h.child,h.tag){case 0:case 11:case 14:case 15:Qi(4,h,h.return);break;case 1:Ca(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Le(n,r,g)}}break;case 5:Ca(h,h.return);break;case 22:if(h.memoizedState!==null){tv(f);continue}}m!==null?(m.return=h,W=m):tv(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Yw("display",l))}catch(g){Le(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){Le(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_r(t,e),zr(e),n&4&&Zx(e);break;case 21:break;default:_r(t,e),zr(e)}}function zr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(b1(r)){var n=r;break e}r=r.return}throw Error($(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(dl(a,""),n.flags&=-33);var i=Qx(e);Kh(e,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Qx(e);Wh(e,o,l);break;default:throw Error($(161))}}catch(c){Le(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IA(e,t,r){W=e,N1(e)}function N1(e,t,r){for(var n=(e.mode&1)!==0;W!==null;){var a=W,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||Oo;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||ht;o=Oo;var d=ht;if(Oo=l,(ht=c)&&!d)for(W=a;W!==null;)l=W,c=l.child,l.tag===22&&l.memoizedState!==null?rv(a):c!==null?(c.return=l,W=c):rv(a);for(;i!==null;)W=i,N1(i),i=i.sibling;W=a,Oo=o,ht=d}ev(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,W=i):ev(e)}}function ev(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ht||Iu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ht)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Pr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Rx(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Rx(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&pl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}ht||t.flags&512&&zh(t)}catch(h){Le(t,t.return,h)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function tv(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function rv(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Iu(4,t)}catch(c){Le(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Le(t,a,c)}}var i=t.return;try{zh(t)}catch(c){Le(t,i,c)}break;case 5:var l=t.return;try{zh(t)}catch(c){Le(t,l,c)}}}catch(c){Le(t,t.return,c)}if(t===e){W=null;break}var o=t.sibling;if(o!==null){o.return=t.return,W=o;break}W=t.return}}var DA=Math.ceil,Ec=Pn.ReactCurrentDispatcher,Bp=Pn.ReactCurrentOwner,gr=Pn.ReactCurrentBatchConfig,ae=0,Xe=null,Be=null,it=0,Wt=0,Aa=hs(0),qe=0,kl=null,Js=0,Du=0,zp=0,Zi=null,Ct=null,Wp=0,Ha=1/0,an=null,Tc=!1,qh=null,Zn=null,Eo=!1,Vn=null,Mc=0,el=0,Hh=null,oc=-1,cc=0;function wt(){return ae&6?Re():oc!==-1?oc:oc=Re()}function es(e){return e.mode&1?ae&2&&it!==0?it&-it:vA.transition!==null?(cc===0&&(cc=lj()),cc):(e=fe,e!==0||(e=window.event,e=e===void 0?16:mj(e.type)),e):1}function $r(e,t,r,n){if(50<el)throw el=0,Hh=null,Error($(185));Vl(e,r,n),(!(ae&2)||e!==Xe)&&(e===Xe&&(!(ae&2)&&(Du|=r),qe===4&&Wn(e,it)),Dt(e,n),r===1&&ae===0&&!(t.mode&1)&&(Ha=Re()+500,Eu&&ms()))}function Dt(e,t){var r=e.callbackNode;vC(e,t);var n=gc(e,e===Xe?it:0);if(n===0)r!==null&&dx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&dx(r),t===1)e.tag===0?xA(nv.bind(null,e)):Mj(nv.bind(null,e)),hA(function(){!(ae&6)&&ms()}),r=null;else{switch(oj(n)){case 1:r=pp;break;case 4:r=aj;break;case 16:r=pc;break;case 536870912:r=ij;break;default:r=pc}r=E1(r,S1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function S1(e,t){if(oc=-1,cc=0,ae&6)throw Error($(327));var r=e.callbackNode;if(La()&&e.callbackNode!==r)return null;var n=gc(e,e===Xe?it:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ic(e,n);else{t=n;var a=ae;ae|=2;var i=k1();(Xe!==e||it!==t)&&(an=null,Ha=Re()+500,Bs(e,t));do try{RA();break}catch(o){_1(e,o)}while(!0);Cp(),Ec.current=i,ae=a,Be!==null?t=0:(Xe=null,it=0,t=qe)}if(t!==0){if(t===2&&(a=yh(e),a!==0&&(n=a,t=Vh(e,a))),t===1)throw r=kl,Bs(e,0),Wn(e,n),Dt(e,Re()),r;if(t===6)Wn(e,n);else{if(a=e.current.alternate,!(n&30)&&!$A(a)&&(t=Ic(e,n),t===2&&(i=yh(e),i!==0&&(n=i,t=Vh(e,i))),t===1))throw r=kl,Bs(e,0),Wn(e,n),Dt(e,Re()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error($(345));case 2:Ps(e,Ct,an);break;case 3:if(Wn(e,n),(n&130023424)===n&&(t=Wp+500-Re(),10<t)){if(gc(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){wt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ph(Ps.bind(null,e,Ct,an),t);break}Ps(e,Ct,an);break;case 4:if(Wn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-Dr(n);i=1<<l,l=t[l],l>a&&(a=l),n&=~i}if(n=a,n=Re()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*DA(n/1960))-n,10<n){e.timeoutHandle=Ph(Ps.bind(null,e,Ct,an),n);break}Ps(e,Ct,an);break;case 5:Ps(e,Ct,an);break;default:throw Error($(329))}}}return Dt(e,Re()),e.callbackNode===r?S1.bind(null,e):null}function Vh(e,t){var r=Zi;return e.current.memoizedState.isDehydrated&&(Bs(e,t).flags|=256),e=Ic(e,t),e!==2&&(t=Ct,Ct=r,t!==null&&Yh(t)),e}function Yh(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function $A(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Lr(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wn(e,t){for(t&=~zp,t&=~Du,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Dr(t),n=1<<r;e[r]=-1,t&=~n}}function nv(e){if(ae&6)throw Error($(327));La();var t=gc(e,0);if(!(t&1))return Dt(e,Re()),null;var r=Ic(e,t);if(e.tag!==0&&r===2){var n=yh(e);n!==0&&(t=n,r=Vh(e,n))}if(r===1)throw r=kl,Bs(e,0),Wn(e,t),Dt(e,Re()),r;if(r===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e,Ct,an),Dt(e,Re()),null}function Kp(e,t){var r=ae;ae|=1;try{return e(t)}finally{ae=r,ae===0&&(Ha=Re()+500,Eu&&ms())}}function Xs(e){Vn!==null&&Vn.tag===0&&!(ae&6)&&La();var t=ae;ae|=1;var r=gr.transition,n=fe;try{if(gr.transition=null,fe=1,e)return e()}finally{fe=n,gr.transition=r,ae=t,!(ae&6)&&ms()}}function qp(){Wt=Aa.current,_e(Aa)}function Bs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,fA(r)),Be!==null)for(r=Be.return;r!==null;){var n=r;switch(_p(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wc();break;case 3:Ka(),_e(Mt),_e(xt),Ip();break;case 5:Mp(n);break;case 4:Ka();break;case 13:_e(Me);break;case 19:_e(Me);break;case 10:Ap(n.type._context);break;case 22:case 23:qp()}r=r.return}if(Xe=e,Be=e=ts(e.current,null),it=Wt=t,qe=0,kl=null,zp=Du=Js=0,Ct=Zi=null,Is!==null){for(t=0;t<Is.length;t++)if(r=Is[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}Is=null}return e}function _1(e,t){do{var r=Be;try{if(Cp(),ac.current=Oc,Ac){for(var n=Ie.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ac=!1}if(Gs=0,Je=Ke=Ie=null,Xi=!1,Nl=0,Bp.current=null,r===null||r.return===null){qe=1,kl=t,Be=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=it,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Kx(l);if(m!==null){m.flags&=-257,qx(m,l,o,i,t),m.mode&1&&Wx(i,d,t),t=m,c=d;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){Wx(i,d,t),Hp();break e}c=Error($(426))}}else if(Oe&&o.mode&1){var b=Kx(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),qx(b,l,o,i,t),kp(qa(c,o));break e}}i=c=qa(c,o),qe!==4&&(qe=2),Zi===null?Zi=[i]:Zi.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=o1(i,c,t);Lx(i,p);break e;case 1:o=c;var y=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Zn===null||!Zn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=c1(i,o,t);Lx(i,S);break e}}i=i.return}while(i!==null)}C1(r)}catch(j){t=j,Be===r&&r!==null&&(Be=r=r.return);continue}break}while(!0)}function k1(){var e=Ec.current;return Ec.current=Oc,e===null?Oc:e}function Hp(){(qe===0||qe===3||qe===2)&&(qe=4),Xe===null||!(Js&268435455)&&!(Du&268435455)||Wn(Xe,it)}function Ic(e,t){var r=ae;ae|=2;var n=k1();(Xe!==e||it!==t)&&(an=null,Bs(e,t));do try{LA();break}catch(a){_1(e,a)}while(!0);if(Cp(),ae=r,Ec.current=n,Be!==null)throw Error($(261));return Xe=null,it=0,qe}function LA(){for(;Be!==null;)P1(Be)}function RA(){for(;Be!==null&&!cC();)P1(Be)}function P1(e){var t=O1(e.alternate,e,Wt);e.memoizedProps=e.pendingProps,t===null?C1(e):Be=t,Bp.current=null}function C1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=EA(r,t),r!==null){r.flags&=32767,Be=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Be=null;return}}else if(r=OA(r,t,Wt),r!==null){Be=r;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);qe===0&&(qe=5)}function Ps(e,t,r){var n=fe,a=gr.transition;try{gr.transition=null,fe=1,FA(e,t,r,n)}finally{gr.transition=a,fe=n}return null}function FA(e,t,r,n){do La();while(Vn!==null);if(ae&6)throw Error($(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(yC(e,i),e===Xe&&(Be=Xe=null,it=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Eo||(Eo=!0,E1(pc,function(){return La(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=gr.transition,gr.transition=null;var l=fe;fe=1;var o=ae;ae|=4,Bp.current=null,MA(e,r),j1(r,e),aA(_h),xc=!!Sh,_h=Sh=null,e.current=r,IA(r),uC(),ae=o,fe=l,gr.transition=i}else e.current=r;if(Eo&&(Eo=!1,Vn=e,Mc=a),i=e.pendingLanes,i===0&&(Zn=null),hC(r.stateNode),Dt(e,Re()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Tc)throw Tc=!1,e=qh,qh=null,e;return Mc&1&&e.tag!==0&&La(),i=e.pendingLanes,i&1?e===Hh?el++:(el=0,Hh=e):el=0,ms(),null}function La(){if(Vn!==null){var e=oj(Mc),t=gr.transition,r=fe;try{if(gr.transition=null,fe=16>e?16:e,Vn===null)var n=!1;else{if(e=Vn,Vn=null,Mc=0,ae&6)throw Error($(331));var a=ae;for(ae|=4,W=e.current;W!==null;){var i=W,l=i.child;if(W.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(W=d;W!==null;){var u=W;switch(u.tag){case 0:case 11:case 15:Qi(8,u,i)}var f=u.child;if(f!==null)f.return=u,W=f;else for(;W!==null;){u=W;var h=u.sibling,m=u.return;if(y1(u),u===d){W=null;break}if(h!==null){h.return=m,W=h;break}W=m}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}W=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,W=l;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qi(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,W=p;break e}W=i.return}}var y=e.current;for(W=y;W!==null;){l=W;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,W=v;else e:for(l=y;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Iu(9,o)}}catch(j){Le(o,o.return,j)}if(o===l){W=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,W=S;break e}W=o.return}}if(ae=a,ms(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(ku,e)}catch{}n=!0}return n}finally{fe=r,gr.transition=t}}return!1}function sv(e,t,r){t=qa(r,t),t=o1(e,t,1),e=Qn(e,t,1),t=wt(),e!==null&&(Vl(e,1,t),Dt(e,t))}function Le(e,t,r){if(e.tag===3)sv(e,e,r);else for(;t!==null;){if(t.tag===3){sv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zn===null||!Zn.has(n))){e=qa(r,e),e=c1(t,e,1),t=Qn(t,e,1),e=wt(),t!==null&&(Vl(t,1,e),Dt(t,e));break}}t=t.return}}function UA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=wt(),e.pingedLanes|=e.suspendedLanes&r,Xe===e&&(it&r)===r&&(qe===4||qe===3&&(it&130023424)===it&&500>Re()-Wp?Bs(e,0):zp|=r),Dt(e,t)}function A1(e,t){t===0&&(e.mode&1?(t=wo,wo<<=1,!(wo&130023424)&&(wo=4194304)):t=1);var r=wt();e=yn(e,t),e!==null&&(Vl(e,t,r),Dt(e,r))}function BA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),A1(e,r)}function zA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(t),A1(e,r)}var O1;O1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)Ot=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ot=!1,AA(e,t,r);Ot=!!(e.flags&131072)}else Ot=!1,Oe&&t.flags&1048576&&Ij(t,Sc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;lc(e,t),e=t.pendingProps;var a=Ba(t,xt.current);$a(t,r),a=$p(null,t,n,e,a,r);var i=Lp();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,It(n)?(i=!0,jc(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ep(t),a.updater=Mu,t.stateNode=a,a._reactInternals=t,Ih(t,n,e,r),t=Lh(null,t,n,!0,i,r)):(t.tag=0,Oe&&i&&Sp(t),yt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(lc(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=KA(n),e=Pr(n,e),a){case 0:t=$h(null,t,n,e,r);break e;case 1:t=Yx(null,t,n,e,r);break e;case 11:t=Hx(null,t,n,e,r);break e;case 14:t=Vx(null,t,n,Pr(n.type,e),r);break e}throw Error($(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pr(n,a),$h(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pr(n,a),Yx(e,t,n,a,r);case 3:e:{if(h1(t),e===null)throw Error($(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Uj(e,t),Pc(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=qa(Error($(423)),t),t=Gx(e,t,n,r,a);break e}else if(n!==a){a=qa(Error($(424)),t),t=Gx(e,t,n,r,a);break e}else for(Yt=Xn(t.stateNode.containerInfo.firstChild),Gt=t,Oe=!0,Or=null,r=Rj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(za(),n===a){t=bn(e,t,r);break e}yt(e,t,n,r)}t=t.child}return t;case 5:return Bj(t),e===null&&Eh(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,kh(n,a)?l=null:i!==null&&kh(n,i)&&(t.flags|=32),f1(e,t),yt(e,t,l,r),t.child;case 6:return e===null&&Eh(t),null;case 13:return m1(e,t,r);case 4:return Tp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Wa(t,null,n,r):yt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pr(n,a),Hx(e,t,n,a,r);case 7:return yt(e,t,t.pendingProps,r),t.child;case 8:return yt(e,t,t.pendingProps.children,r),t.child;case 12:return yt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,je(_c,n._currentValue),n._currentValue=l,i!==null)if(Lr(i.value,l)){if(i.children===a.children&&!Mt.current){t=bn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=pn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Th(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error($(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Th(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}yt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,$a(t,r),a=vr(a),n=n(a),t.flags|=1,yt(e,t,n,r),t.child;case 14:return n=t.type,a=Pr(n,t.pendingProps),a=Pr(n.type,a),Vx(e,t,n,a,r);case 15:return u1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pr(n,a),lc(e,t),t.tag=1,It(n)?(e=!0,jc(t)):e=!1,$a(t,r),l1(t,n,a),Ih(t,n,a,r),Lh(null,t,n,!0,e,r);case 19:return p1(e,t,r);case 22:return d1(e,t,r)}throw Error($(156,t.tag))};function E1(e,t){return sj(e,t)}function WA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(e,t,r,n){return new WA(e,t,r,n)}function Vp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KA(e){if(typeof e=="function")return Vp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fp)return 11;if(e===hp)return 14}return 2}function ts(e,t){var r=e.alternate;return r===null?(r=mr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function uc(e,t,r,n,a,i){var l=2;if(n=e,typeof e=="function")Vp(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case ya:return zs(r.children,a,i,t);case dp:l=8,a|=8;break;case sh:return e=mr(12,r,t,a|2),e.elementType=sh,e.lanes=i,e;case ah:return e=mr(13,r,t,a),e.elementType=ah,e.lanes=i,e;case ih:return e=mr(19,r,t,a),e.elementType=ih,e.lanes=i,e;case Bw:return $u(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fw:l=10;break e;case Uw:l=9;break e;case fp:l=11;break e;case hp:l=14;break e;case Rn:l=16,n=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=mr(l,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function zs(e,t,r,n){return e=mr(7,e,n,t),e.lanes=r,e}function $u(e,t,r,n){return e=mr(22,e,n,t),e.elementType=Bw,e.lanes=r,e.stateNode={isHidden:!1},e}function jf(e,t,r){return e=mr(6,e,null,t),e.lanes=r,e}function Nf(e,t,r){return t=mr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qA(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rf(0),this.expirationTimes=rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Yp(e,t,r,n,a,i,l,o,c){return e=new qA(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=mr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ep(i),e}function HA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:va,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function T1(e){if(!e)return ls;e=e._reactInternals;e:{if(sa(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(It(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var r=e.type;if(It(r))return Tj(e,r,t)}return t}function M1(e,t,r,n,a,i,l,o,c){return e=Yp(r,n,!0,e,a,i,l,o,c),e.context=T1(null),r=e.current,n=wt(),a=es(r),i=pn(n,a),i.callback=t??null,Qn(r,i,a),e.current.lanes=a,Vl(e,a,n),Dt(e,n),e}function Lu(e,t,r,n){var a=t.current,i=wt(),l=es(a);return r=T1(r),t.context===null?t.context=r:t.pendingContext=r,t=pn(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Qn(a,t,l),e!==null&&($r(e,a,l,i),sc(e,a,l)),l}function Dc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function av(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Gp(e,t){av(e,t),(e=e.alternate)&&av(e,t)}function VA(){return null}var I1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jp(e){this._internalRoot=e}Ru.prototype.render=Jp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Lu(e,t,null,null)};Ru.prototype.unmount=Jp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xs(function(){Lu(null,e,null,null)}),t[vn]=null}};function Ru(e){this._internalRoot=e}Ru.prototype.unstable_scheduleHydration=function(e){if(e){var t=dj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<zn.length&&t!==0&&t<zn[r].priority;r++);zn.splice(r,0,e),r===0&&hj(e)}};function Xp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iv(){}function YA(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Dc(l);i.call(d)}}var l=M1(t,n,e,0,null,!1,!1,"",iv);return e._reactRootContainer=l,e[vn]=l.current,vl(e.nodeType===8?e.parentNode:e),Xs(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=Dc(c);o.call(d)}}var c=Yp(e,0,!1,null,null,!1,!1,"",iv);return e._reactRootContainer=c,e[vn]=c.current,vl(e.nodeType===8?e.parentNode:e),Xs(function(){Lu(t,c,r,n)}),c}function Uu(e,t,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Dc(l);o.call(c)}}Lu(t,l,e,a)}else l=YA(r,t,e,a,n);return Dc(l)}cj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Bi(t.pendingLanes);r!==0&&(gp(t,r|1),Dt(t,Re()),!(ae&6)&&(Ha=Re()+500,ms()))}break;case 13:Xs(function(){var n=yn(e,1);if(n!==null){var a=wt();$r(n,e,1,a)}}),Gp(e,1)}};xp=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var r=wt();$r(t,e,134217728,r)}Gp(e,134217728)}};uj=function(e){if(e.tag===13){var t=es(e),r=yn(e,t);if(r!==null){var n=wt();$r(r,e,t,n)}Gp(e,t)}};dj=function(){return fe};fj=function(e,t){var r=fe;try{return fe=e,t()}finally{fe=r}};gh=function(e,t,r){switch(t){case"input":if(ch(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ou(n);if(!a)throw Error($(90));Ww(n),ch(n,a)}}}break;case"textarea":qw(e,r);break;case"select":t=r.value,t!=null&&Ta(e,!!r.multiple,t,!1)}};Qw=Kp;Zw=Xs;var GA={usingClientEntryPoint:!1,Events:[Gl,Na,Ou,Jw,Xw,Kp]},Ci={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JA={bundleType:Ci.bundleType,version:Ci.version,rendererPackageName:Ci.rendererPackageName,rendererConfig:Ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rj(e),e===null?null:e.stateNode},findFiberByHostInstance:Ci.findFiberByHostInstance||VA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{ku=To.inject(JA),Hr=To}catch{}}sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GA;sr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xp(t))throw Error($(200));return HA(e,t,null,r)};sr.createRoot=function(e,t){if(!Xp(e))throw Error($(299));var r=!1,n="",a=I1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Yp(e,1,!1,null,null,r,!1,n,a),e[vn]=t.current,vl(e.nodeType===8?e.parentNode:e),new Jp(t)};sr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=rj(t),e=e===null?null:e.stateNode,e};sr.flushSync=function(e){return Xs(e)};sr.hydrate=function(e,t,r){if(!Fu(t))throw Error($(200));return Uu(null,e,t,!0,r)};sr.hydrateRoot=function(e,t,r){if(!Xp(e))throw Error($(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=I1;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=M1(t,null,e,1,r??null,a,!1,i,l),e[vn]=t.current,vl(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ru(t)};sr.render=function(e,t,r){if(!Fu(t))throw Error($(200));return Uu(null,e,t,!1,r)};sr.unmountComponentAtNode=function(e){if(!Fu(e))throw Error($(40));return e._reactRootContainer?(Xs(function(){Uu(null,null,e,!1,function(){e._reactRootContainer=null,e[vn]=null})}),!0):!1};sr.unstable_batchedUpdates=Kp;sr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Fu(r))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Uu(e,t,r,!1,n)};sr.version="18.3.1-next-f1338f8080-20240426";function D1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D1)}catch(e){console.error(e)}}D1(),Dw.exports=sr;var Qp=Dw.exports,$1,lv=Qp;$1=lv.createRoot,lv.hydrateRoot;const XA="modulepreload",QA=function(e){return"/"+e},ov={},Xl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=QA(c),c in ov)return;ov[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":XA,d||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),d)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},ZA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xl(async()=>{const{default:n}=await Promise.resolve().then(()=>oi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Zp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class eO extends Zp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cv extends Zp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uv extends Zp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gh||(Gh={}));var tO=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class rO{constructor(t,{headers:r={},customFetch:n,region:a=Gh.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=ZA(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return tO(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:l}=r;let o={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(o["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(o["Content-Type"]="application/json",u=JSON.stringify(l)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:u}).catch(g=>{throw new eO(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new cv(f);if(!f.ok)throw new uv(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return m==="application/json"?x=yield f.json():m==="application/octet-stream"?x=yield f.blob():m==="text/event-stream"?x=f:m==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof uv||a instanceof cv?a.context:void 0}}})}}var At={},eg={},Bu={},Ql={},zu={},Wu={},nO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Va=nO();const sO=Va.fetch,L1=Va.fetch.bind(Va),R1=Va.Headers,aO=Va.Request,iO=Va.Response,oi=Object.freeze(Object.defineProperty({__proto__:null,Headers:R1,Request:aO,Response:iO,default:L1,fetch:sO},Symbol.toStringTag,{value:"Module"})),lO=_P(oi);var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});let oO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ku.default=oO;var F1=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wu,"__esModule",{value:!0});const cO=F1(lO),uO=F1(Ku);let dO=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=cO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c;let d=null,u=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=p:u=JSON.parse(p))}const g=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),b=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{d=JSON.parse(g),Array.isArray(d)&&i.status===404&&(u=[],d=null,h=200,m="OK")}catch{i.status===404&&g===""?(h=204,m="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,h=200,m="OK"),d&&this.shouldThrowOnError)throw new uO.default(d)}return{error:d,data:u,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(a=a.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Wu.default=dO;var fO=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zu,"__esModule",{value:!0});const hO=fO(Wu);let mO=class extends hO.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:l="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${d}"; options=${c};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};zu.default=mO;var pO=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ql,"__esModule",{value:!0});const gO=pO(zu);let xO=class extends gO.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ql.default=xO;var vO=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bu,"__esModule",{value:!0});const Ai=vO(Ql);let yO=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new Ai.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const l=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Ai.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const l="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ai.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Ai.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ai.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bu.default=yO;var qu={},Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.version=void 0;Hu.version="0.0.0-automated";Object.defineProperty(qu,"__esModule",{value:!0});qu.DEFAULT_HEADERS=void 0;const bO=Hu;qu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${bO.version}`};var U1=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eg,"__esModule",{value:!0});const wO=U1(Bu),jO=U1(Ql),NO=qu;let SO=class B1{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},NO.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new wO.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new B1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let l;const o=new URL(`${this.url}/rpc/${t}`);let c;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{o.searchParams.append(u,f)})):(l="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new jO.default({method:l,url:o,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};eg.default=SO;var ci=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(At,"__esModule",{value:!0});At.PostgrestError=At.PostgrestBuilder=At.PostgrestTransformBuilder=At.PostgrestFilterBuilder=At.PostgrestQueryBuilder=At.PostgrestClient=void 0;const z1=ci(eg);At.PostgrestClient=z1.default;const W1=ci(Bu);At.PostgrestQueryBuilder=W1.default;const K1=ci(Ql);At.PostgrestFilterBuilder=K1.default;const q1=ci(zu);At.PostgrestTransformBuilder=q1.default;const H1=ci(Wu);At.PostgrestBuilder=H1.default;const V1=ci(Ku);At.PostgrestError=V1.default;var _O=At.default={PostgrestClient:z1.default,PostgrestQueryBuilder:W1.default,PostgrestFilterBuilder:K1.default,PostgrestTransformBuilder:q1.default,PostgrestBuilder:H1.default,PostgrestError:V1.default};const{PostgrestClient:kO,PostgrestQueryBuilder:kz,PostgrestFilterBuilder:Pz,PostgrestTransformBuilder:Cz,PostgrestBuilder:Az,PostgrestError:Oz}=_O;function PO(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const CO=PO(),AO="2.11.15",OO=`realtime-js/${AO}`,EO="1.0.0",Y1=1e4,TO=1e3;var tl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(tl||(tl={}));var dt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(dt||(dt={}));var Ar;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ar||(Ar={}));var Jh;(function(e){e.websocket="websocket"})(Jh||(Jh={}));var Ts;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ts||(Ts={}));class MO{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(t.slice(l,l+a));l=l+a;const c=n.decode(t.slice(l,l+i));l=l+i;const d=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class G1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var be;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(be||(be={}));const dv=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,l)=>(i[l]=IO(l,e,t,a),i),{})},IO=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,l=r[e];return i&&!n.includes(i)?J1(i,l):Xh(l)},J1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return RO(t,r)}switch(e){case be.bool:return DO(t);case be.float4:case be.float8:case be.int2:case be.int4:case be.int8:case be.numeric:case be.oid:return $O(t);case be.json:case be.jsonb:return LO(t);case be.timestamp:return FO(t);case be.abstime:case be.date:case be.daterange:case be.int4range:case be.int8range:case be.money:case be.reltime:case be.text:case be.time:case be.timestamptz:case be.timetz:case be.tsrange:case be.tstzrange:return Xh(t);default:return Xh(t)}},Xh=e=>e,DO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$O=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},LO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},RO=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>J1(t,o))}return e},FO=e=>typeof e=="string"?e.replace(" ","T"):e,X1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Sf{constructor(t,r,n={},a=Y1){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fv||(fv={}));class rl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rl.syncState(this.state,a,i,l),this.pendingDiffs.forEach(c=>{this.state=rl.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=rl.syncDiff(this.state,a,i,l),o())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),l=this.transformState(r),o={},c={};return this.map(i,(d,u)=>{l[d]||(c[d]=u)}),this.map(l,(d,u)=>{const f=i[d];if(f){const h=u.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),x=u.filter(b=>m.indexOf(b.presence_ref)<0),g=f.filter(b=>h.indexOf(b.presence_ref)<0);x.length>0&&(o[d]=x),g.length>0&&(c[d]=g)}else o[d]=u}),this.syncDiff(i,{joins:o,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var d;const u=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(c),u.length>0){const f=t[o].map(m=>m.presence_ref),h=u.filter(m=>f.indexOf(m.presence_ref)<0);t[o].unshift(...h)}n(o,u,c)}),this.map(l,(o,c)=>{let d=t[o];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[o]=d,a(o,d,c),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hv||(hv={}));var mv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(mv||(mv={}));var ln;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ln||(ln={}));class tg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Sf(this,Ar.join,this.params,this.timeout),this.rejoinTimer=new G1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ar.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new rl(this),this.broadcastEndpointURL=X1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:i,presence:l,private:o}}=this.params;this._onError(u=>t==null?void 0:t(ln.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(ln.CLOSED));const c={},d={broadcast:i,presence:l,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(ln.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,x=[];for(let g=0;g<m;g++){const b=h[g],{filter:{event:p,schema:y,table:v,filter:S}}=b,j=u&&u[g];if(j&&j.event===p&&j.schema===y&&j.table===v&&j.filter===S)x.push(Object.assign(Object.assign({},b),{id:j.id}));else{this.unsubscribe(),this.state=dt.errored,t==null||t(ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(ln.SUBSCRIBED);return}}).receive("error",u=>{this.state=dt.errored,t==null||t(ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=dt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ar.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Sf(this,Ar.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Sf(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:d,join:u}=Ar;if(n&&[o,c,d,u].indexOf(l)>=0&&n!==this._joinRef())return;let h=this._onMessage(l,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var x,g,b;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(g=m.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===l}).map(m=>m.callback(h,n)):(i=this.bindings[l])===null||i===void 0||i.filter(m=>{var x,g,b,p,y,v;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in m){const S=m.id,j=(x=m.filter)===null||x===void 0?void 0:x.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(y=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===l}).map(m=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:g,table:b,commit_timestamp:p,type:y,errors:v}=x;h=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:p,eventType:y,new:{},old:{},errors:v}),this._getPayloadRecords(x))}m.callback(h,n)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&tg.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ar.close,{},t)}_onError(t){this._on(Ar.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=dv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=dv(t.columns,t.old_record)),r}}const pv=()=>{},UO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BO{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Y1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pv,this.ref=0,this.logger=pv,this.conn=null,this.sendBuffer=[],this.serializer=new MO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...o)=>Xl(async()=>{const{default:c}=await Promise.resolve().then(()=>oi);return{default:c}},void 0).then(({default:c})=>c(...o)):l=fetch,(...o)=>l(...o)},this.endPoint=`${t}/${Jh.websocket}`,this.httpEndpoint=X1(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,l)=>l(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new G1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=CO),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:EO}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case tl.connecting:return Ts.Connecting;case tl.open:return Ts.Open;case tl.closing:return Ts.Closing;default:return Ts.Closed}}isConnected(){return this.connectionState()===Ts.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new tg(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:OO};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Ar.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(TO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:l}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${l&&"("+l+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,l)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ar.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([UO],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class rg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class zO extends rg{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Qh extends rg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var WO=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const Q1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xl(async()=>{const{default:n}=await Promise.resolve().then(()=>oi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},KO=()=>WO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xl(()=>Promise.resolve().then(()=>oi),void 0)).Response:Response}),Zh=e=>{if(Array.isArray(e))return e.map(r=>Zh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Zh(n)}),t};var aa=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const _f=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qO=(e,t,r)=>aa(void 0,void 0,void 0,function*(){const n=yield KO();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new zO(_f(a),e.status||500))}).catch(a=>{t(new Qh(_f(a),a))}):t(new Qh(_f(e),e))}),HO=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Zl(e,t,r,n,a,i){return aa(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,HO(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>qO(c,o,n))})})}function $c(e,t,r,n){return aa(this,void 0,void 0,function*(){return Zl(e,"GET",t,r,n)})}function Un(e,t,r,n,a){return aa(this,void 0,void 0,function*(){return Zl(e,"POST",t,n,a,r)})}function VO(e,t,r,n,a){return aa(this,void 0,void 0,function*(){return Zl(e,"PUT",t,n,a,r)})}function YO(e,t,r,n){return aa(this,void 0,void 0,function*(){return Zl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Z1(e,t,r,n,a){return aa(this,void 0,void 0,function*(){return Zl(e,"DELETE",t,n,a,r)})}var kt=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const GO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class JO{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Q1(a)}uploadOrUpdate(t,r,n,a){return kt(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},gv),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{})),h=yield f.json();return f.ok?{data:{path:d,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}upload(t,r,n){return kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return kt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:gv.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:u}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Ye(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return kt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Un(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new rg("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}update(t,r,n){return kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return kt(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Ye(a))return{data:null,error:a};throw a}})}copy(t,r,n){return kt(this,void 0,void 0,function*(){try{return{data:{path:(yield Un(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Ye(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return kt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Un(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(Ye(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return kt(this,void 0,void 0,function*(){try{const a=yield Un(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(Ye(a))return{data:null,error:a};throw a}})}download(t,r){return kt(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield $c(this.fetch,`${this.url}/${a}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ye(o))return{data:null,error:o};throw o}})}info(t){return kt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield $c(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Zh(n),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}exists(t){return kt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield YO(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ye(n)&&n instanceof Qh){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(t){return kt(this,void 0,void 0,function*(){try{return{data:yield Z1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}list(t,r,n){return kt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},GO),r),{prefix:t||""});return{data:yield Un(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Ye(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const XO="2.7.1",QO={"X-Client-Info":`storage-js/${XO}`};var da=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class ZO{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},QO),r),this.fetch=Q1(n)}listBuckets(){return da(this,void 0,void 0,function*(){try{return{data:yield $c(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ye(t))return{data:null,error:t};throw t}})}getBucket(t){return da(this,void 0,void 0,function*(){try{return{data:yield $c(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return da(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return da(this,void 0,void 0,function*(){try{return{data:yield VO(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}emptyBucket(t){return da(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}deleteBucket(t){return da(this,void 0,void 0,function*(){try{return{data:yield Z1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}}class eE extends ZO{constructor(t,r={},n){super(t,r,n)}from(t){return new JO(this.url,this.headers,t,this.fetch)}}const tE="2.50.3";let Wi="";typeof Deno<"u"?Wi="deno":typeof document<"u"?Wi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wi="react-native":Wi="node";const rE={"X-Client-Info":`supabase-js-${Wi}/${tE}`},nE={headers:rE},sE={schema:"public"},aE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iE={};var lE=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const oE=e=>{let t;return e?t=e:typeof fetch>"u"?t=L1:t=fetch,(...r)=>t(...r)},cE=()=>typeof Headers>"u"?R1:Headers,uE=(e,t,r)=>{const n=oE(r),a=cE();return(i,l)=>lE(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let d=new a(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},l),{headers:d}))})};var dE=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};function fE(e){return e.endsWith("/")?e:e+"/"}function hE(e,t){var r,n;const{db:a,auth:i,realtime:l,global:o}=e,{db:c,auth:d,realtime:u,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),l),global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>dE(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const eN="2.70.0",xa=30*1e3,em=3,kf=em*xa,mE="http://localhost:9999",pE="supabase.auth.token",gE={"X-Client-Info":`gotrue-js/${eN}`},tm="X-Supabase-Api-Version",tN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vE=6e5;class ng extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yE extends ng{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function bE(e){return Z(e)&&e.name==="AuthApiError"}class rN extends ng{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ps extends ng{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ln extends ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wE(e){return Z(e)&&e.name==="AuthSessionMissingError"}class Mo extends ps{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Io extends ps{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Do extends ps{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jE(e){return Z(e)&&e.name==="AuthImplicitGrantRedirectError"}class xv extends ps{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rm extends ps{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Pf(e){return Z(e)&&e.name==="AuthRetryableFetchError"}class vv extends ps{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class nl extends ps{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yv=` 	
\r=`.split(""),NE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<yv.length;t+=1)e[yv[t].charCodeAt(0)]=-2;for(let t=0;t<Lc.length;t+=1)e[Lc[t].charCodeAt(0)]=t;return e})();function bv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Lc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Lc[n]),t.queuedBits-=6}}function nN(e,t,r){const n=NE[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wv(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{kE(l,n,r)};for(let l=0;l<e.length;l+=1)nN(e.charCodeAt(l),a,i);return t.join("")}function SE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _E(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}SE(n,t)}}function kE(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function PE(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)nN(e.charCodeAt(a),r,n);return new Uint8Array(t)}function CE(e){const t=[];return _E(e,r=>t.push(r)),new Uint8Array(t)}function AE(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>bv(a,r,n)),bv(null,r,n),t.join("")}function OE(e){return Math.round(Date.now()/1e3)+e}function EE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const kr=()=>typeof window<"u"&&typeof document<"u",Ss={tested:!1,writable:!1},sl=()=>{if(!kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ss.tested)return Ss.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ss.tested=!0,Ss.writable=!0}catch{Ss.tested=!0,Ss.writable=!1}return Ss.writable};function TE(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const sN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xl(async()=>{const{default:n}=await Promise.resolve().then(()=>oi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ME=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",aN=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},$o=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Lo=async(e,t)=>{await e.removeItem(t)};class Vu{constructor(){this.promise=new Vu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Vu.promiseConstructor=Promise;function Cf(e){const t=e.split(".");if(t.length!==3)throw new nl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!xE.test(t[n]))throw new nl("JWT not in base64url format");return{header:JSON.parse(wv(t[0])),payload:JSON.parse(wv(t[1])),signature:PE(t[2]),raw:{header:t[0],payload:t[1]}}}async function IE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function DE(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){n(l);return}}catch(l){if(!t(i,l)){a(l);return}}})()})}function $E(e){return("0"+e.toString(16)).substr(-2)}function LE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,$E).join("")}async function RE(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function FE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await RE(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fa(e,t,r=!1){const n=LE();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await aN(e,`${t}-code-verifier`,a);const i=await FE(n);return[i,n===i?"plain":"s256"]}const UE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BE(e){const t=e.headers.get(tm);if(!t||!t.match(UE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function zE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function WE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const KE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ha(e){if(!KE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var qE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Cs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HE=[502,503,504];async function jv(e){var t;if(!ME(e))throw new rm(Cs(e),0);if(HE.includes(e.status))throw new rm(Cs(e),e.status);let r;try{r=await e.json()}catch(i){throw new rN(Cs(i),i)}let n;const a=BE(e);if(a&&a.getTime()>=tN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new vv(Cs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ln}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new vv(Cs(r),e.status,r.weak_password.reasons);throw new yE(Cs(r),e.status||500,n)}const VE=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function te(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[tm]||(i[tm]=tN["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await YE(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function YE(e,t,r,n,a,i){const l=VE(t,n,a,i);let o;try{o=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new rm(Cs(c),0)}if(o.ok||await jv(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await jv(c)}}function sn(e){var t;let r=null;QE(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=OE(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Nv(e){const t=sn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Kn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function GE(e){return{data:e,error:null}}function JE(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,l=qE(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function XE(e){return e}function QE(e){return e.access_token&&e.refresh_token&&e.expires_in}const Af=["global","local","others"];var ZE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class e4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=sN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Af[0]){if(Af.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Af.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Kn})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ZE(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:JE,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,l,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:XE});if(u.error)throw u.error;const f=await u.json(),h=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,m=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);d[`${b}Page`]=g}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Z(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){ha(t);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ha(t);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Kn})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ha(t);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Kn})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ha(t.userId);try{const{data:r,error:n}=await te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ha(t.userId),ha(t.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}}const t4={getItem:e=>sl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{sl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{sl()&&globalThis.localStorage.removeItem(e)}};function Sv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function r4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ma={debug:!!(globalThis&&sl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class n4 extends iN{}async function s4(e,t,r){ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ma.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new n4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ma.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}r4();const a4={url:mE,storageKey:pE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _v(e,t,r){return await r()}class Pl{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pl.nextInstanceID,Pl.nextInstanceID+=1,this.instanceID>0&&kr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},a4),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new e4({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=sN(a.fetch),this.lock=a.lock||_v,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:kr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=s4:this.lock=_v,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:sl()?this.storage=t4:(this.memoryStorage={},this.storage=Sv(this.memoryStorage)):(this.memoryStorage={},this.storage=Sv(this.memoryStorage)),kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${eN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=TE(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),kr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jE(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Z(r)?{error:r}:{error:new rN("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:sn}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:f,options:h}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await fa(this.storage,this.storageKey)),i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},xform:sn})}else if("phone"in t){const{phone:u,password:f,options:h}=t;i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:sn})}else throw new Io("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:o}=t;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Nv})}else if("phone"in t){const{phone:i,password:l,options:o}=t;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Nv})}else throw new Io("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Mo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,l,o,c,d,u,f,h,m;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:b,wallet:p,statement:y,options:v}=t;let S;if(kr())if(typeof p=="object")S=p;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))S=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=p}const j=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const N=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),y?{statement:y}:null));let _;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")_=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)_=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)x=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),g=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((d=v==null?void 0:v.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const N=await S.signMessage(new TextEncoder().encode(x),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:b,error:p}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:AE(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:sn});if(p)throw p;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Mo}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:p})}catch(b){if(Z(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await $o(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:l}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:sn});if(await Lo(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Mo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(Z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:l}=t,o=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:sn}),{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Mo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,l;try{if("email"in t){const{email:o,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await fa(this.storage,this.storageKey));const{error:f}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:d,error:u}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Io("You must provide either an email or phone number.")}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:sn});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Z(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await fa(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:GE})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ln;const{error:a}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:l}=await te(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:l,error:o}=await te(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new Io("You must provide either an email or phone number and a type")}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await $o(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<kf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kn}):await this._useSession(async r=>{var n,a,i;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ln}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Kn})})}catch(r){if(Z(r))return wE(r)&&(await this._removeSession(),await Lo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ln;const l=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await fa(this.storage,this.storageKey));const{data:d,error:u}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Kn});if(u)throw u;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ln;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:l}=Cf(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ln;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!kr())throw new Do("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Do(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Do("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xv("No code detected.");const{data:y,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:d}=t;if(!i||!o||!l||!d)throw new Do("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let h=u+f;c&&(h=parseInt(c));const m=h-u;m*1e3<=xa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const x=h-f;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,u);const{data:g,error:b}=await this._getUser(i);if(b)throw b;const p={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:l,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(Z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await $o(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(bE(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Lo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=EE(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await fa(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var l,o,c,d,u;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return kr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Z(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)throw l;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await DE(async a=>(a>0&&await IE(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sn})),(a,i)=>{const l=200*Math.pow(2,a);return i&&Pf(i)&&Date.now()+l-n<xa})}catch(n){if(this._debug(r,"error",n),Z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),kr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await $o(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<kf;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${kf}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Pf(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ln;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Vu;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new Ln;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),Z(i)){const l={session:null,error:i};return Pf(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await aN(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Lo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/xa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${xa}ms, refresh threshold is ${em} ticks`),a<=em&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof iN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await fa(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await te(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:o}=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(Z(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Cf(a.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n||(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+vE>Date.now()))return n;const{data:a,error:i}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new nl("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(l=>l.kid===t),!n)throw new nl("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};n=m.session.access_token}const{header:a,payload:i,signature:l,raw:{header:o,payload:c}}=Cf(n);if(zE(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:l},error:null}}const d=WE(a.alg),u=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,l,CE(`${o}.${c}`)))throw new nl("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}}Pl.nextInstanceID=0;const i4=Pl;class l4 extends i4{constructor(t){super(t)}}var o4=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class c4{constructor(t,r,n){var a,i,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=fE(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:sE,realtime:iE,auth:Object.assign(Object.assign({},aE),{storageKey:d}),global:nE},f=hE(n??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=f.auth)!==null&&l!==void 0?l:{},this.headers,f.global.fetch),this.fetch=uE(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new kO(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new rO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new eE(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return o4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:l,lock:o,debug:c},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l4({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:l,lock:o,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new BO(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const u4=(e,t,r)=>new c4(e,t,r),d4="https://fpyejmjcdjgkwfmkyzvt.supabase.co",f4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZweWVqbWpjZGpna3dmbWt5enZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzNDkyMjQsImV4cCI6MjA2NjkyNTIyNH0.OSpShjvdGcyOI2gsbcMzYY3UHVFcxcm0eO1SzJAMKho",J=u4(d4,f4),ui=e=>{const t={id:e.id,email:e.email,name:e.name,phone:e.phone||void 0,address:e.address||void 0,role:e.role,status:e.status,avatar:e.avatar_url||void 0,createdAt:new Date(e.created_at||"")};return e.role==="founder"?{...t,role:"founder",company:e.company||void 0,phone:e.phone||void 0,address:e.address||void 0,walletBalance:Number(e.wallet_balance)||0}:e.role==="talent"?{...t,role:"talent",bio:e.bio||void 0,portfolio:e.portfolio||[],rateLevel:e.rate_level||1,skills:e.skills||[],socialMedia:e.social_media||{},totalEarnings:Number(e.total_earnings)||0}:t},Rc=(e,t=[],r=[])=>({id:e.id,founderId:e.founder_id,title:e.title,description:e.description,productName:e.product_name,category:e.category,duration:e.duration,productImages:e.product_images||[],rateLevel:e.rate_level,mediaType:e.media_type,budget:Number(e.budget)||0,price:Number(e.price)||0,status:e.status,applicants:t,approvedTalents:r,createdAt:new Date(e.created_at||""),deadline:e.deadline?new Date(e.deadline):void 0}),sg=(e,t,r,n)=>({id:e.id,campaignId:e.campaign_id,talentId:e.talent_id,founderId:e.founder_id,talentName:r,campaignTitle:t,productName:n,status:e.status,payout:Number(e.payout)||0,createdAt:new Date(e.created_at||""),updatedAt:e.updated_at?new Date(e.updated_at):void 0,deliveryInfo:e.delivery_address?{address:e.delivery_address,trackingNumber:e.tracking_number||void 0,courier:e.courier||void 0}:void 0,reviewSubmission:e.review_media&&Array.isArray(e.review_media)&&e.review_media.length>0?{media:e.review_media.map(a=>({url:a.url,type:a.type})),submittedAt:e.review_submitted_at?new Date(e.review_submitted_at):new Date}:void 0}),h4=async(e,t,r)=>{try{console.log("Starting signup process for:",e,"role:",r.role);const{data:n}=await J.from("profiles").select("email").eq("email",e).single();if(n)throw new Error("An account with this email already exists. Please sign in instead.");const{data:a,error:i}=await J.auth.signUp({email:e,password:t,options:{data:{name:r.name,role:r.role,company:r.company,bio:r.bio}}});if(i)throw console.error("Supabase signup error:",i),i.message.includes("user_already_exists")||i.message.includes("already registered")?new Error("An account with this email already exists. Please sign in instead."):i.message.includes("invalid_email")?new Error("Please enter a valid email address."):i.message.includes("weak_password")?new Error("Password must be at least 6 characters long."):new Error(i.message||"Registration failed. Please try again.");return console.log("Signup successful:",a),a}catch(n){throw console.error("Registration error:",n),n.message.includes("already exists")||n.message.includes("valid email")||n.message.includes("Password must")?n:new Error("Registration failed. Please try again.")}},kv=async(e,t)=>{try{console.log("Starting signin process for:",e);const{data:r,error:n}=await J.auth.signInWithPassword({email:e,password:t});if(n)throw console.error("Supabase signin error:",n),n.message.includes("invalid_credentials")||n.message.includes("Invalid login")?new Error("Invalid email or password. Please check your credentials and try again."):n.message.includes("email_not_confirmed")?new Error("Please check your email and click the confirmation link before signing in."):n.message.includes("too_many_requests")?new Error("Too many login attempts. Please wait a few minutes and try again."):new Error(n.message||"Sign in failed. Please try again.");if(!r.user)throw new Error("Sign in failed. Please try again.");console.log("Auth successful, fetching profile for user:",r.user.id);const{data:a,error:i}=await J.from("profiles").select("*").eq("id",r.user.id).single();if(i)throw console.error("Profile fetch error:",i),new Error("Failed to load user profile. Please try again.");if(!a)throw new Error("User profile not found. Please contact support.");if(console.log("Profile loaded:",a),a.status==="suspended")throw new Error("Your account has been suspended. Please contact support.");if(a.status==="pending"&&a.role==="talent")throw new Error("Your account is pending approval. Please wait for admin approval before signing in.");const l=ui(a);return console.log("Converted profile:",l),{user:r.user,profile:l}}catch(r){throw console.error("Sign in error:",r),r}},m4=async()=>{const{error:e}=await J.auth.signOut();if(e)throw console.error("Sign out error:",e),new Error("Failed to sign out. Please try again.")},p4=async()=>{try{const{data:{user:e}}=await J.auth.getUser();if(!e)return null;const{data:t,error:r}=await J.from("profiles").select("*").eq("id",e.id).single();return r?(console.error("Get current user error:",r),null):t?ui(t):null}catch(e){return console.error("Get current user error:",e),null}},lN=async(e,t)=>{const{data:r,error:n}=await J.from("profiles").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return ui(r)},g4=async()=>{try{console.log("Fetching founders from database...");const{data:e,error:t}=await J.from("profiles").select("*").eq("role","founder").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching founders:",t),t;if(console.log("Raw founders data:",e),!e||e.length===0)return console.log("No founders found in database"),[];const r=e.map(n=>(console.log("Converting founder profile:",n),ui(n)));return console.log("Converted founders:",r),r}catch(e){throw console.error("getFounders error:",e),e}},Pv=async()=>{try{console.log("Fetching talents from database...");const{data:e,error:t}=await J.from("profiles").select("*").eq("role","talent").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching talents:",t),t;if(console.log("Raw talents data:",e),console.log("Number of talents found:",(e==null?void 0:e.length)||0),!e||e.length===0)return console.log("No talents found in database"),[];const r=e.map(n=>(console.log("Converting talent profile:",n),ui(n)));return console.log("Converted talents:",r),r}catch(e){throw console.error("getTalents error:",e),e}},nm=async(e,t)=>{try{console.log("Updating user status:",e,"to:",t);const{data:r,error:n}=await J.from("profiles").update({status:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw console.error("Error updating user status:",n),n;return console.log("User status updated successfully:",r),ui(r)}catch(r){throw console.error("updateUserStatus error:",r),r}},Cv=async()=>{try{console.log("Fetching campaigns from database...");const{data:e,error:t}=await J.from("campaigns").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching campaigns:",t),t;if(console.log("Raw campaigns data:",e),!e||e.length===0)return console.log("No campaigns found in database"),[];const r=await Promise.all(e.map(async n=>{const{data:a,error:i}=await J.from("campaign_applications").select("talent_id, status").eq("campaign_id",n.id);if(i)return console.error("Error fetching applications for campaign:",n.id,i),Rc(n,[],[]);const l=(a==null?void 0:a.filter(c=>c.status==="pending").map(c=>c.talent_id))||[],o=(a==null?void 0:a.filter(c=>c.status==="approved").map(c=>c.talent_id))||[];return Rc(n,l,o)}));return console.log("Campaigns with applications:",r),r}catch(e){throw console.error("getCampaigns error:",e),e}},x4=async e=>{var n;const{data:t,error:r}=await J.from("campaigns").insert({founder_id:e.founderId,title:e.title,description:e.description,product_name:e.productName,category:e.category,duration:e.duration,product_images:e.productImages,rate_level:e.rateLevel,media_type:e.mediaType,budget:e.budget,price:e.price,status:e.status,deadline:(n=e.deadline)==null?void 0:n.toISOString()}).select().single();if(r)throw r;return Rc(t)},oN=async(e,t)=>{const{data:r,error:n}=await J.from("campaigns").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return Rc(r)},v4=async e=>{const{error:t}=await J.from("campaigns").delete().eq("id",e);if(t)throw t},y4=async(e,t)=>{const{data:r}=await J.from("campaign_applications").select("id").eq("campaign_id",e).eq("talent_id",t);if(r&&r.length>0)throw new Error("You have already applied to this campaign.");const{data:n,error:a}=await J.from("campaign_applications").insert({campaign_id:e,talent_id:t,status:"pending"}).select().single();if(a)throw a;return n},Av=async(e,t,r)=>{const{data:n,error:a}=await J.from("campaign_applications").update({status:r}).eq("campaign_id",e).eq("talent_id",t).select().single();if(a)throw a;return n},Ro=async e=>{try{console.log("Fetching orders from database for user:",e);let t=J.from("orders").select(`
        *,
        campaigns!inner(title, product_name),
        profiles!orders_talent_id_fkey(name)
      `).order("created_at",{ascending:!1});e&&(t=t.or(`founder_id.eq.${e},talent_id.eq.${e}`));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching orders:",n),n;if(console.log("Raw orders data:",r),!r||r.length===0)return console.log("No orders found in database"),[];const a=r.map(i=>sg(i,i.campaigns.title,i.profiles.name,i.campaigns.product_name));return console.log("Converted orders:",a),a}catch(t){throw console.error("getOrders error:",t),t}},b4=async e=>{var n,a,i;const{data:t,error:r}=await J.from("orders").insert({campaign_id:e.campaignId,talent_id:e.talentId,founder_id:e.founderId,status:e.status,payout:e.payout,delivery_address:(n=e.deliveryInfo)==null?void 0:n.address,tracking_number:(a=e.deliveryInfo)==null?void 0:a.trackingNumber,courier:(i=e.deliveryInfo)==null?void 0:i.courier}).select(`
      *,
      campaigns!inner(title, product_name),
      profiles!orders_talent_id_fkey(name)
    `).single();if(r)throw r;return sg(t,t.campaigns.title,t.profiles.name,t.campaigns.product_name)},Cl=async(e,t)=>{const{data:r,error:n}=await J.from("orders").update({...t,review_media:t.review_media?t.review_media:void 0,updated_at:new Date().toISOString()}).eq("id",e).select(`
      *,
      campaigns!inner(title, product_name),
      profiles!orders_talent_id_fkey(name)
    `).single();if(n)throw n;return sg(r,r.campaigns.title,r.profiles.name,r.campaigns.product_name)},Ov=async e=>{try{console.log("Fetching transactions from database for user:",e);let t=J.from("transactions").select("*").order("created_at",{ascending:!1});e&&(t=t.eq("user_id",e));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching transactions:",n),n;if(console.log("Raw transactions data:",r),!r||r.length===0)return console.log("No transactions found in database"),[];const a=r.map(i=>({id:i.id,userId:i.user_id,type:i.type,amount:Number(i.amount)||0,description:i.description,relatedJobId:i.related_order_id||void 0,createdAt:new Date(i.created_at||"")}));return console.log("Converted transactions:",a),a}catch(t){throw console.error("getTransactions error:",t),t}},al=async e=>{console.log("test test",e);const{data:t,error:r}=await J.from("transactions").insert([{user_id:e.userId,type:e.type,amount:e.amount,description:e.description,related_order_id:e.relatedJobId}]).select();if(console.log("Transaction created:",e.relatedJobId),r)throw r;return t&&t.length>0?{id:t[0].id,userId:t[0].user_id,type:t[0].type,amount:Number(t[0].amount)||0,description:t[0].description,relatedJobId:t[0].related_order_id||void 0,createdAt:new Date(t[0].created_at||"")}:e},Of=async e=>{try{console.log("Fetching earnings from database for talent:",e);let t=J.from("earnings").select("*").order("earned_at",{ascending:!1});e&&(t=t.eq("talent_id",e));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching earnings:",n),n;if(console.log("Raw earnings data:",r),!r||r.length===0)return console.log("No earnings found in database"),[];const a=r.map(i=>({id:i.id,talentId:i.talent_id,orderId:i.order_id,campaignTitle:i.campaign_title,amount:Number(i.amount)||0,status:i.status,earnedAt:new Date(i.earned_at||""),paidAt:i.paid_at?new Date(i.paid_at):void 0}));return console.log("Converted earnings:",a),a}catch(t){throw console.error("getEarnings error:",t),t}},w4=async e=>{var n;const{data:t,error:r}=await J.from("earnings").insert({talent_id:e.talentId,order_id:e.orderId,campaign_title:e.campaignTitle,amount:e.amount,status:e.status,paid_at:(n=e.paidAt)==null?void 0:n.toISOString()}).select().single();if(r)throw r;return{id:t.id,talentId:t.talent_id,orderId:t.order_id,campaignTitle:t.campaign_title,amount:Number(t.amount)||0,status:t.status,earnedAt:new Date(t.earned_at||""),paidAt:t.paid_at?new Date(t.paid_at):void 0}},Ev=async e=>{try{console.log("Fetching messages from database for order:",e);let t=J.from("messages").select("*").order("created_at",{ascending:!0});const{data:r,error:n}=await t;if(n)throw console.error("Error fetching messages:",n),n;if(console.log("Raw messages data:",r),!r||r.length===0)return console.log("No messages found in database"),[];const a=r.map(i=>({id:i.id,jobId:i.order_id,senderId:i.sender_id,content:i.content,timestamp:new Date(i.created_at||""),read:i.read||!1}));return console.log("Converted messages:",a),a}catch(t){throw console.error("getMessages error:",t),t}},j4=async e=>{try{console.log("Creating new message:",e);const{data:t,error:r}=await J.from("messages").insert({order_id:e.jobId,sender_id:e.senderId,content:e.content,read:e.read}).select().single();if(r)throw console.error("Error creating message:",r),r;return console.log("Message created successfully:",t),{id:t.id,jobId:t.order_id,senderId:t.sender_id,content:t.content,timestamp:new Date(t.created_at||""),read:t.read||!1}}catch(t){throw console.error("createMessage error:",t),t}},N4=(e,t)=>J.channel(`messages:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`order_id=eq.${e}`},r=>{const n={id:r.new.id,jobId:r.new.order_id,senderId:r.new.sender_id,content:r.new.content,timestamp:new Date(r.new.created_at),read:r.new.read||!1};t(n)}).subscribe(),S4=(e,t)=>J.channel(`orders:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"orders"},r=>{t(r)}).subscribe();async function _4(e,t){try{const n=new URL(t).pathname.split("/"),a=n.findIndex(f=>f==="review-submissions");if(a===-1||a===n.length-1)throw new Error("Invalid review media URL. File path not found.");const i=n.slice(a+1).join("/"),{error:l}=await J.storage.from("review-submissions").remove([i]);if(l)throw new Error(l.message||"Failed to delete file from storage.");const{data:o,error:c}=await J.from("orders").select("review_media").eq("id",e).single();if(c)throw new Error("Failed to fetch order for review_media update.");let d=((o==null?void 0:o.review_media)||[]).filter(f=>f.url!==t);const{error:u}=await J.from("orders").update({review_media:d.length>0?d:null}).eq("id",e);if(u)throw new Error("Failed to update review_media in order.");return!0}catch(r){throw console.error("[deleteReviewMedia] Error:",r),new Error("Failed to delete review media: "+(r.message||r))}}const cN=w.createContext(void 0),Ae=()=>{const e=w.useContext(cN);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},k4=({children:e})=>{const[t,r]=w.useState(null),[n,a]=w.useState(!0);w.useEffect(()=>{p4().then(r).catch(()=>r(null)).finally(()=>a(!1))},[]);const i=async(d,u)=>{try{a(!0);const{profile:f}=await kv(d,u);return r(f),{success:!0}}catch(f){return console.error("Login error:",f),{success:!1,error:f.message||"Login failed. Please try again."}}finally{a(!1)}},l=async d=>{try{if(a(!0),await h4(d.email,d.password,{name:d.name,role:d.role,company:d.company,bio:d.bio}),d.role==="talent")return{success:!0};try{const{profile:u}=await kv(d.email,d.password);return r(u),{success:!0}}catch{return{success:!0,error:"Account created successfully! Please sign in to continue."}}}catch(u){return console.error("Registration error:",u),{success:!1,error:u.message||"Registration failed. Please try again."}}finally{a(!1)}},o=async d=>{try{const u={name:d.name,email:d.email,avatar_url:d.avatar,phone:d.phone,address:d.address};if(d.role==="founder"){const h=d;u.company=h.company,u.phone=h.phone,u.address=h.address,u.wallet_balance=h.walletBalance}if(d.role==="talent"){const h=d;u.bio=h.bio,u.portfolio=h.portfolio,u.rate_level=h.rateLevel,u.skills=h.skills,u.social_media=h.socialMedia,u.total_earnings=h.totalEarnings}const f=await lN(d.id,u);r(f)}catch(u){throw console.error("Update profile error:",u),u}},c=async()=>{try{await m4(),r(null)}catch(d){console.error("Logout error:",d)}};return s.jsx(cN.Provider,{value:{user:t,login:i,register:l,logout:c,updateProfile:o,loading:n},children:e})},uN=w.createContext(void 0),xe=()=>{const e=w.useContext(uN);if(!e)throw new Error("useApp must be used within an AppProvider");return e},P4=({children:e})=>{const{user:t}=Ae(),[r,n]=w.useState([]),[a,i]=w.useState([]),[l,o]=w.useState([]),[c,d]=w.useState([]),[u,f]=w.useState([]),[h,m]=w.useState([]),[x,g]=w.useState([]),[b,p]=w.useState([]),[y,v]=w.useState(!1),S=async()=>{if(!t){console.log("No user found, skipping data refresh");return}try{if(v(!0),console.log("Starting data refresh for user:",t.role,t.email),t.role==="admin"){console.log("Loading admin data...");const[j,N,_,k,A,O,P]=await Promise.allSettled([Cv(),Ro(),Ov(),Of(),Ev(),g4(),Pv()]);j.status==="fulfilled"?(console.log("Campaigns loaded:",j.value.length),n(j.value)):(console.error("Failed to load campaigns:",j.reason),n([])),N.status==="fulfilled"?(console.log("Orders loaded:",N.value.length),f(N.value)):(console.error("Failed to load orders:",N.reason),f([])),_.status==="fulfilled"?(console.log("Transactions loaded:",_.value.length),d(_.value)):(console.error("Failed to load transactions:",_.reason),d([])),k.status==="fulfilled"?(console.log("Earnings loaded:",k.value.length),m(k.value)):(console.error("Failed to load earnings:",k.reason),m([])),A.status==="fulfilled"?(console.log("Messages loaded:",A.value.length),o(A.value)):(console.error("Failed to load messages:",A.reason),o([])),O.status==="fulfilled"?(console.log("Founders loaded:",O.value.length),g(O.value)):(console.error("Failed to load founders:",O.reason),g([])),P.status==="fulfilled"?(console.log("Talents loaded:",P.value.length),p(P.value)):(console.error("Failed to load talents:",P.reason),p([]))}else{const[j,N,_,k,A]=await Promise.allSettled([Cv(),Ro(t.id),Ov(t.id),t.role==="talent"?Of(t.id):Of(),Ev()]);if(j.status==="fulfilled"?n(j.value):n([]),N.status==="fulfilled"?f(N.value):f([]),_.status==="fulfilled"?d(_.value):d([]),k.status==="fulfilled"?m(k.value):m([]),A.status==="fulfilled"?o(A.value):o([]),t.role==="founder")try{const O=await Pv();p(O),console.log("Talents loaded for founder:",O.length)}catch(O){p([]),console.error("Failed to load talents for founder:",O)}else p([]);g([])}console.log("Data refresh completed successfully")}catch(j){console.error("Critical error during data refresh:",j)}finally{v(!1)}};return w.useEffect(()=>{t?(console.log("User changed, refreshing data for:",t.role,t.email),S()):(console.log("User logged out, clearing data"),n([]),f([]),d([]),m([]),o([]),g([]),p([]),i([]))},[t]),w.useEffect(()=>{if(!t)return;const j=[];try{const N=S4(t.id,()=>{console.log("Order update received, refreshing orders..."),t.role==="admin"?Ro().then(f).catch(console.error):Ro(t.id).then(f).catch(console.error)});j.push(N),u.forEach(_=>{const k=N4(_.id,A=>{console.log("New message received:",A),o(O=>[...O,A])});j.push(k)})}catch(N){console.error("Error setting up subscriptions:",N)}return()=>{j.forEach(N=>{try{N.unsubscribe()}catch(_){console.error("Error unsubscribing:",_)}})}},[t,u]),s.jsx(uN.Provider,{value:{campaigns:r,jobs:a,messages:l,transactions:c,orders:u,earnings:h,founders:x,talents:b,setCampaigns:n,setJobs:i,setMessages:o,setTransactions:d,setOrders:f,setEarnings:m,setFounders:g,setTalents:p,refreshData:S,loading:y},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...d},u)=>w.createElement("svg",{ref:u,...C4,width:a,height:a,stroke:n,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${A4(e)}`,o].join(" "),...d},[...t.map(([f,h])=>w.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=V("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=V("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=V("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=V("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=V("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=V("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=V("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=V("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=V("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=V("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=V("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=V("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=V("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=V("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=V("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=V("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=V("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=V("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=V("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=V("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=V("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=V("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=V("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=V("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=V("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=V("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=V("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=V("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=V("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=V("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=V("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=V("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=V("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=V("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=V("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=V("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=V("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=V("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=V("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=V("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=V("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),L4=({onSwitchToRegister:e})=>{const[t,r]=w.useState(""),[n,a]=w.useState(""),[i,l]=w.useState(!1),[o,c]=w.useState(""),{login:d,loading:u}=Ae(),[f,h]=w.useState({message:"",show:!1}),m=b=>{h({message:b,show:!0}),setTimeout(()=>h({message:"",show:!1}),4e3)},x=async b=>{b.preventDefault(),c("");const p=await d(t,n);p.success||(c(p.error||"Login failed. Please try again."),m(p.error||"Login failed. Please try again."))},g=[{email:"admin@example.com",role:"Admin",password:"password"},{email:"founder@example.com",role:"Founder",password:"password"},{email:"talent@example.com",role:"Talent",password:"password"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[s.jsx("h1",{className:"text-center text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"GambarKaca"}),s.jsx("h2",{className:"text-center text-2xl font-bold text-gray-900",children:"Sign in to your account"})]}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl rounded-lg sm:px-10",children:[s.jsxs("form",{className:"space-y-6",onSubmit:x,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Cn,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:b=>r(b.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your email"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Ol,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:b=>a(b.target.value),className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your password"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!i),children:i?s.jsx(dN,{className:"h-5 w-5 text-gray-400"}):s.jsx(rn,{className:"h-5 w-5 text-gray-400"})})]})]}),o&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(os,{className:"h-5 w-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Sign In Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:o})]})]})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Signing in...":"Sign in"})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Demo accounts"})})]}),s.jsx("div",{className:"mt-4 space-y-2",children:g.map((b,p)=>s.jsxs("button",{onClick:()=>{r(b.email),a(b.password)},className:"w-full text-left px-3 py-2 text-xs border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"font-medium",children:b.role}),s.jsx("div",{className:"text-gray-500",children:b.email})]},p))})]}),s.jsx("div",{className:"mt-6",children:s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:e,className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:"Don't have an account? Sign up"})})})]})}),f.show&&s.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50",children:s.jsxs("div",{className:"flex items-center bg-red-600 text-white px-4 py-2 rounded shadow-lg animate-slide-in",children:[s.jsx(os,{className:"mr-2 w-5 h-5"}),s.jsx("span",{children:f.message})]})})]})},R4=({onSwitchToLogin:e})=>{const[t,r]=w.useState({name:"",email:"",password:"",confirmPassword:"",role:"founder",company:"",bio:""}),[n,a]=w.useState(!1),[i,l]=w.useState(""),[o,c]=w.useState(""),{register:d,loading:u}=Ae(),f=async m=>{if(m.preventDefault(),l(""),c(""),t.password!==t.confirmPassword){l("Passwords do not match");return}if(t.password.length<6){l("Password must be at least 6 characters long");return}const x=await d(t);x.success?t.role==="talent"?c("Registration successful! Please wait for admin approval before you can access the platform."):c("Registration successful! You are now logged in."):l(x.error||"Registration failed. Please try again.")},h=m=>{r({...t,[m.target.name]:m.target.value})};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[s.jsx("h1",{className:"text-center text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"GambarKaca"}),s.jsx("h2",{className:"text-center text-2xl font-bold text-gray-900",children:"Create your account"})]}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl rounded-lg sm:px-10",children:[s.jsxs("form",{className:"space-y-6",onSubmit:f,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"I am a"}),s.jsxs("select",{id:"role",name:"role",value:t.role,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[s.jsx("option",{value:"founder",children:"Founder (Brand/Company)"}),s.jsx("option",{value:"talent",children:"Talent (Content Creator)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Xr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:t.name,onChange:h,className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your full name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Cn,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:h,className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your email"})]})]}),t.role==="founder"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company Name"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Al,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"company",name:"company",type:"text",value:t.company,onChange:h,className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your company name"})]})]}),t.role==="talent"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),s.jsx("textarea",{id:"bio",name:"bio",rows:3,value:t.bio,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Tell us about yourself and your content creation experience"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Ol,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"password",name:"password",type:n?"text":"password",required:!0,value:t.password,onChange:h,className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Create a password"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!n),children:n?s.jsx(dN,{className:"h-5 w-5 text-gray-400"}):s.jsx(rn,{className:"h-5 w-5 text-gray-400"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Ol,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:t.confirmPassword,onChange:h,className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Confirm your password"})]})]}),i&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(os,{className:"h-5 w-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Registration Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:i})]})]})}),o&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Q,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Registration Successful!"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:o})]})]})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating account...":"Create account"})})]}),s.jsx("div",{className:"mt-6",children:s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:e,className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:"Already have an account? Sign in"})})})]})})]})},F4=()=>{const{user:e,logout:t}=Ae(),{earnings:r}=xe(),[n,a]=w.useState(!1),i=()=>{t(),a(!1)},l=f=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR",minimumFractionDigits:0,maximumFractionDigits:0}).format(f),o=(e==null?void 0:e.role)==="founder",c=(e==null?void 0:e.role)==="talent",d=e,u=c?r.filter(f=>f.talentId===e.id&&f.status==="paid").reduce((f,h)=>f+h.amount,0):0;return s.jsx("nav",{className:"bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 shadow-md border-b border-gray-200",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"flex-shrink-0",children:s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"GambarKaca"})})}),s.jsx("div",{className:"hidden md:block",children:s.jsxs("div",{className:"ml-4 flex items-center md:ml-6 space-x-4",children:[o&&d.walletBalance!==void 0&&s.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-green-50 to-blue-50 px-3 py-2 rounded-lg border border-green-200",children:[s.jsx(qt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm font-semibold text-green-700",children:l(d.walletBalance)})]}),c&&s.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-purple-50 to-blue-50 px-3 py-2 rounded-lg border border-purple-200",children:[s.jsx(qt,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-sm font-semibold text-purple-700",children:l(u)})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>a(!n),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-lg px-3 py-2 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm overflow-hidden",children:e!=null&&e.avatar?s.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e==null?void 0:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"text-left",children:[s.jsx("span",{className:"text-sm font-medium block",children:e==null?void 0:e.name}),s.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-800 rounded-full capitalize",children:e==null?void 0:e.role})]})]}),n&&s.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-50 border border-gray-200",children:s.jsxs("div",{className:"py-2",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",children:e!=null&&e.avatar?s.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:e==null?void 0:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),s.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.email})]})]})}),o&&d.walletBalance!==void 0&&s.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Wallet Balance"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(qt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm font-semibold text-green-700",children:l(d.walletBalance)})]})]})}),c&&s.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Earnings"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(qt,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-sm font-semibold text-purple-700",children:l(u)})]})]})}),s.jsxs("button",{onClick:()=>{a(!1),window.dispatchEvent(new CustomEvent("openProfileModal"))},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsx(Tl,{className:"h-4 w-4 mr-3"}),"Profile Settings"]}),s.jsxs("button",{onClick:i,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsx(Iv,{className:"h-4 w-4 mr-3"}),"Logout"]})]})})]})]})}),s.jsx("div",{className:"md:hidden",children:s.jsx("button",{onClick:()=>a(!n),className:"text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-lg p-2",children:n?s.jsx(Te,{className:"h-6 w-6"}):s.jsx(M4,{className:"h-6 w-6"})})})]}),n&&s.jsx("div",{className:"md:hidden border-t border-gray-100",children:s.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white bg-opacity-50 backdrop-blur-sm rounded-lg my-2",children:[s.jsxs("div",{className:"flex items-center space-x-3 px-3 py-3 bg-white bg-opacity-70 rounded-lg",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",children:e!=null&&e.avatar?s.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:e==null?void 0:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),s.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.email}),s.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-800 rounded-full capitalize",children:e==null?void 0:e.role})]})]}),o&&d.walletBalance!==void 0&&s.jsx("div",{className:"px-3 py-2 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200 mx-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Wallet Balance"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(qt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm font-bold text-green-700",children:l(d.walletBalance)})]})]})}),c&&s.jsx("div",{className:"px-3 py-2 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg border border-purple-200 mx-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Earnings"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(qt,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-sm font-bold text-purple-700",children:l(u)})]})]})}),s.jsxs("button",{onClick:()=>{a(!1),window.dispatchEvent(new CustomEvent("openProfileModal"))},className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx(Tl,{className:"h-4 w-4 mr-3"}),"Profile Settings"]}),s.jsxs("button",{onClick:i,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx(Iv,{className:"h-4 w-4 mr-3"}),"Logout"]})]})})]})})},U4=({currentPage:e,onPageChange:t})=>{const{user:r}=Ae(),a=(()=>{switch(r==null?void 0:r.role){case"admin":return[{id:"dashboard",label:"Dashboard",icon:Ef},{id:"founders",label:"Founders",icon:He},{id:"talents",label:"Talents",icon:Ce},{id:"campaigns",label:"Campaigns",icon:$t},{id:"payments",label:"Payments",icon:Fc},{id:"analytics",label:"Analytics",icon:O4}];case"founder":return[{id:"dashboard",label:"Dashboard",icon:Ef},{id:"campaigns",label:"Campaigns",icon:$t},{id:"orders",label:"Orders",icon:Pe},{id:"reviews",label:"Reviews",icon:rs},{id:"wallet",label:"E-Wallet",icon:qt}];case"talent":return[{id:"dashboard",label:"Dashboard",icon:Ef},{id:"marketplace",label:"Marketplace",icon:$t},{id:"jobs",label:"My Jobs",icon:Pe},{id:"earnings",label:"Earnings",icon:qt},{id:"profile",label:"Profile",icon:Tl}];default:return[]}})();return s.jsx("div",{className:"bg-gradient-to-b from-blue-50 via-indigo-50 to-purple-50 shadow-md w-64 min-h-screen border-r border-gray-200",children:s.jsx("div",{className:"p-6",children:s.jsx("nav",{className:"space-y-3",children:a.map(i=>{const l=i.icon,o=e===i.id;return s.jsxs("button",{onClick:()=>t(i.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-colors ${o?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-sm":"text-gray-700 hover:bg-white hover:shadow-sm"}`,children:[s.jsx(l,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:i.label})]},i.id)})})})})},_s=()=>{const{founders:e,talents:t,campaigns:r,orders:n,transactions:a,earnings:i}=xe(),l=f=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(f),o=a.filter(f=>f.type==="credit"&&f.description.includes("Admin Fee")).reduce((f,h)=>f+h.amount,0),c=a.filter(f=>{const h=new Date(f.createdAt),m=new Date;return f.type==="credit"&&f.description.includes("Admin Fee")&&h.getMonth()===m.getMonth()&&h.getFullYear()===m.getFullYear()}).reduce((f,h)=>f+h.amount,0),d=[{name:"Total Founders",value:e.length.toString(),icon:He,color:"bg-blue-500",change:`+${e.filter(f=>{const h=new Date(f.createdAt),m=new Date;return h.getMonth()===m.getMonth()&&h.getFullYear()===m.getFullYear()}).length} this month`},{name:"Active Talents",value:t.filter(f=>f.status==="active").length.toString(),icon:Ce,color:"bg-purple-500",change:`${t.filter(f=>f.status==="pending").length} pending approval`},{name:"Active Campaigns",value:r.filter(f=>f.status==="active").length.toString(),icon:$t,color:"bg-green-500",change:`${r.filter(f=>f.status==="draft").length} drafts`},{name:"Monthly Revenue",value:l(c),icon:ie,color:"bg-yellow-500",change:`Total: ${l(o)}`}],u=[...t.filter(f=>f.status==="pending").slice(0,2).map(f=>({id:`talent-${f.id}`,type:"talent_approval",message:`New talent application from ${f.name}`,time:`${Math.ceil((new Date().getTime()-f.createdAt.getTime())/(1e3*60*60))} hours ago`,icon:Ce,color:"text-purple-600"})),...r.filter(f=>f.status==="active").slice(0,2).map(f=>({id:`campaign-${f.id}`,type:"campaign_created",message:`New campaign "${f.title}" created`,time:`${Math.ceil((new Date().getTime()-f.createdAt.getTime())/(1e3*60*60*24))} days ago`,icon:$t,color:"text-green-600"})),...n.filter(f=>f.status==="completed").slice(0,2).map(f=>({id:`order-${f.id}`,type:"payout_completed",message:`Payout of ${l(f.payout)} completed for ${f.campaignTitle}`,time:`${Math.ceil((new Date().getTime()-f.createdAt.getTime())/(1e3*60*60*24))} days ago`,icon:ie,color:"text-yellow-600"}))].slice(0,4);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Monitor and manage the GambarKaca platform"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map(f=>{const h=f.icon;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-3 rounded-lg ${f.color}`,children:s.jsx(h,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:f.name}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.value}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f.change})]})]})},f.name)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Overview"}),s.jsx(wn,{className:"h-5 w-5 text-green-500"})]}),s.jsx("div",{className:"h-64 bg-gradient-to-t from-blue-50 to-purple-50 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ie,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"Total Platform Revenue"}),s.jsx("p",{className:"text-3xl font-bold text-gray-700",children:l(o)}),s.jsx("p",{className:"text-sm text-gray-400",children:"10% commission from completed jobs"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:u.length>0?u.map(f=>{const h=f.icon;return s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(h,{className:`h-5 w-5 ${f.color}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-900",children:f.message}),s.jsx("p",{className:"text-xs text-gray-500",children:f.time})]})]},f.id)}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(os,{className:"h-8 w-8 mx-auto text-gray-300 mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activity"})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pending Approvals"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-yellow-800",children:"Talent Applications"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:t.filter(f=>f.status==="pending").length}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Awaiting review"})]}),s.jsx(Ce,{className:"h-8 w-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800",children:"Campaign Reviews"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:n.filter(f=>f.status==="review_submitted").length}),s.jsx("p",{className:"text-sm text-blue-700",children:"Pending approval"})]}),s.jsx(Pe,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-green-800",children:"Active Orders"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:n.filter(f=>["pending_shipment","shipped","delivered"].includes(f.status)).length}),s.jsx("p",{className:"text-sm text-green-700",children:"In progress"})]}),s.jsx(Q,{className:"h-8 w-8 text-green-600"})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Platform Statistics"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Campaigns"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l(i.reduce((f,h)=>f+h.amount,0))}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Payouts"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(n.filter(f=>f.status==="completed").length/Math.max(n.length,1)*100),"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"})]})]})]})]})},In=()=>{const{user:e}=Ae(),{campaigns:t,orders:r,transactions:n}=xe(),a=e,i=t.filter(m=>m.founderId===a.id),l=r.filter(m=>m.founderId===a.id),o=n.filter(m=>m.userId===a.id),c=m=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(m),d=o.filter(m=>m.type==="debit").reduce((m,x)=>m+x.amount,0),u=[{name:"Active Campaigns",value:i.filter(m=>m.status==="active").length.toString(),icon:$t,color:"bg-blue-500"},{name:"Total Orders",value:l.length.toString(),icon:Pe,color:"bg-green-500"},{name:"Completed Reviews",value:l.filter(m=>m.status==="completed").length.toString(),icon:rs,color:"bg-purple-500"},{name:"Wallet Balance",value:c(a.walletBalance),icon:ie,color:"bg-yellow-500"}],f=i.slice(0,3).map(m=>({id:m.id,name:m.title,status:m.status,applicants:m.applicants.length,budget:c(m.price)})),h=l.slice(0,3).map(m=>({id:m.id,talent:m.talentName,product:m.productName,status:m.status,date:m.createdAt.toLocaleDateString()}));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Founder Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Manage your campaigns and track performance"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(m=>{const x=m.icon;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-3 rounded-lg ${m.color}`,children:s.jsx(x,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:m.name}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.value})]})]})},m.name)})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Campaign Performance"}),s.jsx(wn,{className:"h-5 w-5 text-green-500"})]}),s.jsx("div",{className:"h-64 bg-gradient-to-t from-blue-50 to-purple-50 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ie,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"Total Campaign Investment"}),s.jsx("p",{className:"text-3xl font-bold text-gray-700",children:c(d)}),s.jsxs("p",{className:"text-sm text-gray-400",children:[i.length," campaigns created"]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Campaigns"}),s.jsx("div",{className:"space-y-3",children:f.length>0?f.map(m=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:m.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[m.applicants," applicants  ",m.budget]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.status==="active"?"bg-green-100 text-green-800":m.status==="completed"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:m.status})]},m.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx($t,{className:"h-8 w-8 mx-auto text-gray-300 mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No campaigns yet"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Create your first campaign to get started"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Orders"}),s.jsx("div",{className:"space-y-3",children:h.length>0?h.map(m=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:m.talent}),s.jsxs("p",{className:"text-sm text-gray-600",children:[m.product,"  ",m.date]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.status==="completed"?"bg-green-100 text-green-800":m.status==="review_submitted"?"bg-blue-100 text-blue-800":m.status==="delivered"?"bg-purple-100 text-purple-800":"bg-yellow-100 text-yellow-800"}`,children:m.status.replace("_"," ")})]},m.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Pe,{className:"h-8 w-8 mx-auto text-gray-300 mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No orders yet"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Orders will appear when talents are approved"})]})})]})]})]})},nn=()=>{const{user:e}=Ae(),{orders:t,earnings:r,campaigns:n}=xe(),a=e,i=t.filter(g=>g.talentId===a.id),l=r.filter(g=>g.talentId===a.id);n.filter(g=>g.applicants.includes(a.id));const o=g=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(g),c=l.filter(g=>g.status==="paid").reduce((g,b)=>g+b.amount,0),d=l.filter(g=>g.status==="pending").reduce((g,b)=>g+b.amount,0),u=l.filter(g=>g.status==="paid").length,f=i.length>0?Math.round(i.filter(g=>g.status==="completed").length/i.length*100):0,h=[{name:"Active Jobs",value:i.filter(g=>!["completed"].includes(g.status)).length.toString(),icon:Mv,color:"bg-blue-500"},{name:"Total Earnings",value:o(c),icon:ie,color:"bg-green-500"},{name:"Reviews Completed",value:u.toString(),icon:Ce,color:"bg-purple-500"},{name:"Success Rate",value:`${f}%`,icon:Yu,color:"bg-yellow-500"}],m=i.filter(g=>!["completed"].includes(g.status)).slice(0,3).map(g=>({id:g.id,campaign:g.campaignTitle,brand:"Brand",deadline:new Date(Date.now()+7*24*60*60*1e3).toLocaleDateString(),status:g.status,payout:o(g.payout)})),x=l.filter(g=>g.status==="paid").slice(0,3).map(g=>{var b;return{id:g.id,campaign:g.campaignTitle,amount:o(g.amount),date:((b=g.paidAt)==null?void 0:b.toLocaleDateString())||g.earnedAt.toLocaleDateString(),status:g.status}});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Talent Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Track your jobs and earnings"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map(g=>{const b=g.icon;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-3 rounded-lg ${g.color}`,children:s.jsx(b,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:g.name}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.value})]})]})},g.name)})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Earnings Overview"}),s.jsx(wn,{className:"h-5 w-5 text-green-500"})]}),s.jsx("div",{className:"h-64 bg-gradient-to-t from-green-50 to-blue-50 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ie,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"Total Earnings"}),s.jsx("p",{className:"text-3xl font-bold text-gray-700",children:o(c)}),s.jsxs("p",{className:"text-sm text-gray-400",children:[o(d)," pending  ",u," jobs completed"]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Active Jobs"}),s.jsx("div",{className:"space-y-3",children:m.length>0?m.map(g=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:g.campaign}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:g.payout})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.brand}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(ke,{className:"h-4 w-4 mr-1"}),"Due: ",g.deadline]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g.status==="completed"?"bg-green-100 text-green-800":g.status==="review_submitted"?"bg-blue-100 text-blue-800":g.status==="delivered"?"bg-purple-100 text-purple-800":"bg-yellow-100 text-yellow-800"}`,children:g.status.replace("_"," ")})]})]},g.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Mv,{className:"h-8 w-8 mx-auto text-gray-300 mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No active jobs"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Apply to campaigns to get started"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Earnings"}),s.jsx("div",{className:"space-y-3",children:x.length>0?x.map(g=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:g.campaign}),s.jsx("p",{className:"text-sm text-gray-600",children:g.date})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium text-green-600",children:g.amount}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:g.status})]})]},g.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ie,{className:"h-8 w-8 mx-auto text-gray-300 mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No earnings yet"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Complete jobs to start earning"})]})})]})]})]})},B4=({campaign:e,onApply:t,onView:r,showApplyButton:n=!1,loading:a=!1,approvedTalentDetails:i=[]})=>{const l=u=>{switch(u){case"video":return s.jsx(Qr,{className:"h-4 w-4"});case"image":return s.jsx(Qt,{className:"h-4 w-4"});default:return s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(Qt,{className:"h-4 w-4"}),s.jsx(Qr,{className:"h-4 w-4"})]})}},o=u=>{switch(u){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},c=u=>{switch(u){case"30sec":return"30 Seconds";case"1min":return"1 Minute";case"3min":return"3 Minutes";default:return u}},d=u=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(u);return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(lg,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:e.productName})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(He,{className:"h-4 w-4 mr-1"}),e.applicants.length," applicants"]}),s.jsxs("div",{className:"flex items-center",children:[l(e.mediaType),s.jsx("span",{className:"ml-1 capitalize",children:e.mediaType})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lt,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:c(e.duration)})]}),s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs",children:e.category})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${o(e.rateLevel)}`,children:[e.rateLevel," Star Level"]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.status==="active"?"bg-green-100 text-green-800":e.status==="completed"?"bg-blue-100 text-blue-800":e.status==="paused"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]}),e.productImages&&e.productImages.length>0&&s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex space-x-2 overflow-x-auto",children:[e.productImages.slice(0,3).map((u,f)=>s.jsx("img",{src:u,alt:`${e.productName} ${f+1}`,className:"w-16 h-16 object-cover rounded-lg border border-gray-200 flex-shrink-0"},f)),e.productImages.length>3&&s.jsxs("div",{className:"w-16 h-16 bg-gray-100 rounded-lg border border-gray-200 flex items-center justify-center text-xs text-gray-500",children:["+",e.productImages.length-3]})]})}),i&&i.length>0&&s.jsxs("div",{className:"mb-4 p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"text-xs font-medium text-green-800 mb-2",children:"Approved Talents:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(u=>s.jsxs("div",{className:"flex items-center space-x-1 bg-white px-2 py-1 rounded-full border border-green-200",children:[s.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 text-white text-2xl font-bold border-4 border-white shadow-md",children:founder.avatar?s.jsx("img",{src:founder.avatar,alt:founder.name,className:"w-full h-full object-cover"}):founder.name.charAt(0).toUpperCase()}),s.jsx("span",{className:"text-xs text-green-800",children:u.name}),s.jsxs("span",{className:"text-xs text-green-600",children:["(",u.rateLevel,")"]})]},u.id))})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(ke,{className:"h-4 w-4 mr-1"}),"Created ",e.createdAt.toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center text-lg font-bold text-green-600",children:[s.jsx(ie,{className:"h-4 w-4 mr-1"}),d(e.price)]})]}),s.jsxs("div",{className:"flex space-x-2",children:[r&&s.jsx("button",{onClick:r,className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"View Details"}),n&&t&&s.jsx("button",{onClick:t,disabled:a==null?void 0:a(e.id),className:"px-4 py-2 text-sm text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 rounded-md transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a!=null&&a(e.id)?"Applying...":"Apply Now"})]})]})]})},z4=({talent:e,onClose:t,onApprove:r,onReject:n,showActions:a=!0})=>{const i=c=>{switch(c){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},l=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c),o=c=>c.includes(".mp4")||c.includes(".mov")||c.includes(".webm")||c.includes("video")||c.endsWith(".mp4");return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Talent Profile"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsx("div",{className:"w-24 h-24 overflow-hidden rounded-full flex-shrink-0",children:e.avatar?s.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-3xl font-bold",children:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:e.name}),s.jsx("p",{className:"text-gray-600",children:e.email}),s.jsxs("div",{className:"flex items-center space-x-3 mt-3",children:[s.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${i(e.rateLevel)}`,children:[e.rateLevel," Star Level"]}),s.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${e.status==="active"?"bg-green-100 text-green-800":e.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]})]}),e.bio&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"About"}),s.jsx("p",{className:"text-gray-700 leading-relaxed bg-gray-50 p-4 rounded-lg",children:e.bio})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx(Ce,{className:"h-5 w-5 text-blue-600"})}),s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Rate Level"}),s.jsxs("p",{className:"text-xl font-bold text-blue-900",children:[e.rateLevel," Star"]})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx(ie,{className:"h-5 w-5 text-green-600"})}),s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Earnings"}),s.jsx("p",{className:"text-xl font-bold text-green-900",children:l(e.totalEarnings)})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx(ke,{className:"h-5 w-5 text-purple-600"})}),s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Member Since"}),s.jsx("p",{className:"text-xl font-bold text-purple-900",children:e.createdAt.toLocaleDateString("en-US",{month:"short",year:"numeric"})})]})]}),e.skills&&e.skills.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Skills & Expertise"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map((c,d)=>s.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm font-medium",children:c},d))})]}),e.socialMedia&&Object.values(e.socialMedia).some(c=>c)&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Social Media"}),s.jsxs("div",{className:"space-y-3",children:[e.socialMedia.instagram&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(eo,{className:"h-5 w-5 text-pink-500"}),s.jsxs("a",{href:`https://instagram.com/${e.socialMedia.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors flex items-center",children:[e.socialMedia.instagram,s.jsx(Uc,{className:"h-3 w-3 ml-1"})]})]}),e.socialMedia.youtube&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ro,{className:"h-5 w-5 text-red-500"}),s.jsxs("a",{href:e.socialMedia.youtube.startsWith("http")?e.socialMedia.youtube:`https://youtube.com/${e.socialMedia.youtube}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors flex items-center",children:[e.socialMedia.youtube,s.jsx(Uc,{className:"h-3 w-3 ml-1"})]})]})]})]}),e.portfolio&&e.portfolio.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Portfolio"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.portfolio.map((c,d)=>s.jsx("div",{className:"relative group",children:o(c)?s.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden relative",children:[s.jsx("video",{src:c,className:"w-full h-full object-cover",controls:!0}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(El,{className:"h-10 w-10 text-white"})})]}):s.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[s.jsx("img",{src:c,alt:`Portfolio ${d+1}`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 rounded-lg flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Qt,{className:"h-6 w-6 text-white"})})})]})},d))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Performance Metrics"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"94%"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Completed Jobs"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"23"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Average Rating"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(c=>s.jsx(Ce,{className:`h-4 w-4 ${c<=4.8?"text-yellow-400 fill-current":"text-gray-300"}`},c))}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"4.8"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Response Time"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"2 hours"})]})]})})]})]}),a&&s.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Reject"}),s.jsx("button",{onClick:r,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors",children:"Approve Application"})]})]})})},gN=({campaignId:e,onClose:t})=>{const{user:r,updateProfile:n}=Ae(),{campaigns:a,talents:i,setCampaigns:l,orders:o,setOrders:c,earnings:d,setEarnings:u,transactions:f,setTransactions:h,refreshData:m}=xe(),[x,g]=w.useState(null),[b,p]=w.useState(""),[y,v]=w.useState(null),S=a.find(C=>C.id===e);if(!S)return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6",children:[s.jsx("p",{children:"Campaign not found. Please try again."}),s.jsx("button",{onClick:t,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg",children:"Close"})]})});const j=i.filter(C=>S.applicants.includes(C.id)),N=j.filter(C=>C.name.toLowerCase().includes(b.toLowerCase())||C.email.toLowerCase().includes(b.toLowerCase())||C.skills.some(E=>E.toLowerCase().includes(b.toLowerCase()))),_=C=>{switch(C){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},k=C=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(C),A=C=>C.includes(".mp4")||C.includes(".mov")||C.includes(".webm")||C.includes("video")||C.endsWith(".mp4"),O=async C=>{v(C);try{const E=r;if(E.walletBalance<S.price){alert("Insufficient wallet balance. Please top up your wallet before approving talents.");return}await Av(S.id,C,"approved");const F={...S,approvedTalents:[...S.approvedTalents,C]};l(a.map(z=>z.id===S.id?F:z));try{const z=i.find(M=>M.id===C);if(z){const M=await b4({campaignId:S.id,talentId:C,founderId:(r==null?void 0:r.id)||"",status:"pending_shipment",payout:S.price});c([M,...o]);const U=await al({userId:E.id,type:"debit",amount:S.price,description:`Payment Hold - ${S.title} (Talent Approved)`,relatedJobId:M.id});h([U,...f]),await m(),t(),alert(`Talent ${z==null?void 0:z.name} has been approved! Order created and payment held.`),x&&x.id===C&&g(null)}}catch(z){throw console.error("Error creating order or transaction:",z),z}}catch(E){console.error("Error approving talent:",E),alert("Failed to approve talent. Please try again.")}finally{v(null)}},P=async C=>{v(C);try{await Av(S.id,C,"rejected");const E={...S,applicants:S.applicants.filter(z=>z!==C)};l(a.map(z=>z.id===S.id?E:z)),await m();const F=i.find(z=>z.id===C);alert(`Talent ${F==null?void 0:F.name} application has been rejected.`),x&&x.id===C&&g(null)}catch(E){console.error("Error rejecting talent:",E),alert("Failed to reject talent. Please try again.")}finally{v(null)}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Campaign Applicants"}),s.jsx("p",{className:"text-gray-600",children:S.title})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900",children:S.title}),s.jsxs("p",{className:"text-blue-700 text-sm",children:[S.productName,"  ",S.category]}),s.jsxs("p",{className:"text-blue-700 text-sm",children:["Payment: ",k(S.price)," per approved talent"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(He,{className:"h-5 w-5 text-blue-600"}),s.jsxs("span",{className:"text-blue-900 font-medium",children:[j.length," Applicants"]})]})]})}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search applicants by name, email, or skills...",value:b,onChange:C=>p(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),N.length>0?s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:N.map(C=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden flex-shrink-0",children:C.avatar?s.jsx("img",{src:C.avatar,alt:C.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xl",children:C.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:C.name}),s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_(C.rateLevel)}`,children:[C.rateLevel," Star"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(Cn,{className:"h-4 w-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600 text-sm",children:C.email})]}),C.bio&&s.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-2",children:C.bio}),C.skills.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Skills:"}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[C.skills.slice(0,3).map((E,F)=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs",children:E},F)),C.skills.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs",children:["+",C.skills.length-3," more"]})]})]}),C.socialMedia&&Object.values(C.socialMedia).some(E=>E)&&s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[C.socialMedia.instagram&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(eo,{className:"h-4 w-4 text-pink-500"}),s.jsx("span",{className:"text-xs text-gray-600",children:C.socialMedia.instagram})]}),C.socialMedia.youtube&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ro,{className:"h-4 w-4 text-red-500"}),s.jsx("span",{className:"text-xs text-gray-600",children:"YouTube"})]})]}),C.portfolio&&C.portfolio.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Portfolio:"}),s.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[C.portfolio.slice(0,4).map((E,F)=>s.jsx("div",{className:"relative flex-shrink-0",children:A(E)?s.jsxs("div",{className:"w-16 h-16 bg-gray-100 rounded border border-gray-200 flex items-center justify-center relative",children:[s.jsx(Qr,{className:"h-6 w-6 text-gray-400"}),s.jsx("div",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity",children:s.jsx("video",{src:E,className:"w-full h-full object-cover",muted:!0})})]}):s.jsx("img",{src:E,alt:`Portfolio ${F+1}`,className:"w-16 h-16 object-cover rounded border border-gray-200"})},F)),C.portfolio.length>4&&s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded border border-gray-200 flex items-center justify-center",children:s.jsxs("span",{className:"text-xs text-gray-500",children:["+",C.portfolio.length-4]})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>g(C),className:"flex-1 px-3 py-2 text-sm text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors border border-gray-300",children:[s.jsx(rn,{className:"h-4 w-4 inline mr-1"}),"View Details"]}),s.jsx("button",{onClick:()=>O(C.id),disabled:y===C.id,className:"px-4 py-2 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y===C.id?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(E4,{className:"h-4 w-4 inline mr-1"}),"Approve"]})}),s.jsx("button",{onClick:()=>P(C.id),disabled:y===C.id,className:"px-3 py-2 text-sm text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y===C.id?s.jsx("span",{className:"flex items-center",children:s.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):s.jsx(pN,{className:"h-4 w-4"})})]})]})]})},C.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(He,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:b?"No matching applicants":"No applicants yet"}),s.jsx("p",{className:"text-gray-600",children:b?"Try adjusting your search terms":"Applicants will appear here when talents apply to your campaign"})]})]})]})}),x&&s.jsx(z4,{talent:x,onClose:()=>g(null),onApprove:()=>{O(x.id),g(null)},onReject:()=>{P(x.id),g(null)}})]})},xN=({campaign:e,onClose:t,onEdit:r,onDelete:n,onStatusChange:a,isTalentView:i=!1})=>{const{talents:l}=xe(),[o,c]=w.useState(!1),d=p=>{switch(p){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"draft":return"bg-gray-100 text-gray-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=p=>{switch(p){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},f=p=>{switch(p){case"video":return s.jsx(Qr,{className:"h-4 w-4"});case"image":return s.jsx(Qt,{className:"h-4 w-4"});default:return s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(Qt,{className:"h-4 w-4"}),s.jsx(Qr,{className:"h-4 w-4"})]})}},h=p=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(p),m=p=>{switch(p){case"30sec":return"30 Seconds";case"1min":return"1 Minute";case"3min":return"3 Minutes";default:return p}},x=()=>l.filter(p=>e.approvedTalents.includes(p.id)),g=()=>{const p=e.status==="active"?"paused":"active";a==null||a(p)},b=()=>{window.confirm("Are you sure you want to delete this campaign? This action cannot be undone.")&&(n==null||n(),t())};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Campaign Details"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.title}),s.jsx("p",{className:"text-gray-600 mt-1",children:e.description}),s.jsxs("div",{className:"flex items-center space-x-3 mt-3",children:[s.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${d(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),s.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${u(e.rateLevel)}`,children:[e.rateLevel," Star Level"]})]})]}),!i&&s.jsxs("div",{className:"flex items-center space-x-2",children:[r&&s.jsx("button",{onClick:r,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Campaign",children:s.jsx(fN,{className:"h-4 w-4"})}),a&&s.jsx("button",{onClick:g,className:`p-2 rounded-lg transition-colors ${e.status==="active"?"text-gray-600 hover:text-yellow-600 hover:bg-yellow-50":"text-gray-600 hover:text-green-600 hover:bg-green-50"}`,title:e.status==="active"?"Pause Campaign":"Activate Campaign",children:e.status==="active"?s.jsx(im,{className:"h-4 w-4"}):s.jsx(El,{className:"h-4 w-4"})}),n&&s.jsx("button",{onClick:b,className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Campaign",children:s.jsx(di,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Pe,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Product"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.productName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(lg,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Category"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.category})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Lt,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Duration"}),s.jsx("p",{className:"font-medium text-gray-900",children:m(e.duration)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ie,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Price"}),s.jsx("p",{className:"font-medium text-green-600",children:h(e.price)})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[f(e.mediaType),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Media Type"}),s.jsx("p",{className:"font-medium text-gray-900 capitalize",children:e.mediaType})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ke,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Created"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.createdAt.toLocaleDateString()})]})]})]})]}),e.productImages&&e.productImages.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Product Images"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.productImages.map((p,y)=>s.jsx("img",{src:p,alt:`${e.productName} ${y+1}`,className:"w-full h-32 object-cover rounded-lg border border-gray-200"},y))})]}),!i&&x().length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Approved Talents"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x().map(p=>s.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:p.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-medium text-green-900",children:p.name}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u(p.rateLevel)}`,children:[p.rateLevel," Star"]}),s.jsx("span",{className:"text-xs text-green-600",children:"Approved"})]})]})]})},p.id))})]}),!i&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Application Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(He,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Applicants"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:e.applicants.length})]})]})}),s.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Q,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Approved Talents"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:e.approvedTalents.length})]})]})}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ce,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Success Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[e.applicants.length>0?Math.round(e.approvedTalents.length/e.applicants.length*100):0,"%"]})]})]})})]})]}),!i&&e.applicants.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Pending Applications"}),s.jsxs("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["Review Applications (",e.applicants.length,")"]})]}),s.jsx("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:s.jsxs("p",{className:"text-yellow-800",children:["You have ",e.applicants.length," pending application",e.applicants.length!==1?"s":""," waiting for your review."]})})]})]}),s.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200",children:s.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"})})]})}),o&&s.jsx(gN,{campaignId:e.id,onClose:()=>c(!1)})]})},W4=()=>{const{campaigns:e,refreshData:t,talents:r}=xe(),{user:n}=Ae(),[a,i]=w.useState(""),[l,o]=w.useState(null),[c,d]=w.useState(""),[u,f]=w.useState(!1),[h,m]=w.useState(""),[x,g]=w.useState(new Set),[b,p]=w.useState(null),y=n,v=(y==null?void 0:y.rateLevel)||1,S=(y==null?void 0:y.status)==="active",j=[];for(let P=1;P<=v;P++)j.push(P);const N=["Technology","Fashion & Beauty","Food & Beverage","Health & Fitness","Travel & Lifestyle","Gaming","Education","Home & Garden","Sports","Entertainment","Business & Finance","Automotive","Other"];if(!S)return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Marketplace"}),s.jsx("p",{className:"text-gray-600",children:"Find and apply to campaigns that match your skills"})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-8 text-center",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"p-4 bg-yellow-100 rounded-full",children:s.jsx(Ol,{className:"h-12 w-12 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-2",children:"Account Pending Approval"}),s.jsx("p",{className:"text-yellow-700 mb-4",children:"Your talent account is currently under review by our admin team. You'll be able to view and apply to campaigns once your account is approved."}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-yellow-200",children:[s.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"What happens next?"}),s.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1 text-left",children:[s.jsx("li",{children:" Admin will review your profile and portfolio"}),s.jsx("li",{children:" Your rate level (1-3 stars) will be assigned"}),s.jsx("li",{children:" You'll receive email notification when approved"}),s.jsx("li",{children:" Access to marketplace will be automatically enabled"})]})]})]})]})}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"While you wait, complete your profile:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-700",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium mb-2",children:"Profile Information"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{children:" Add a professional bio"}),s.jsx("li",{children:" Upload portfolio samples"}),s.jsx("li",{children:" List your skills and expertise"})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium mb-2",children:"Social Media"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{children:" Connect Instagram account"}),s.jsx("li",{children:" Add YouTube channel"}),s.jsx("li",{children:" Showcase your content style"})]})]})]})]})]});const _=e.filter(P=>{const C=P.title.toLowerCase().includes(a.toLowerCase())||P.description.toLowerCase().includes(a.toLowerCase())||P.productName.toLowerCase().includes(a.toLowerCase())||P.category.toLowerCase().includes(a.toLowerCase()),E=l?P.rateLevel===l:P.rateLevel<=v,F=c?P.category===c:!0,z=P.status==="active",M=!P.applicants.includes((n==null?void 0:n.id)||""),U=!P.approvedTalents.includes((n==null?void 0:n.id)||"");return C&&E&&F&&z&&M&&U}),k=async P=>{if(n){g(C=>new Set(C).add(P));try{await y4(P,n.id);const C=e.find(E=>E.id===P);C&&m(C.title),await t(),f(!0),setTimeout(()=>{f(!1)},3e3)}catch(C){console.error("Error applying to campaign:",C),alert("Failed to apply to campaign. Please try again.")}finally{g(C=>{const E=new Set(C);return E.delete(P),E})}}},A=e.filter(P=>P.applicants.includes((n==null?void 0:n.id)||"")),O=e.filter(P=>P.approvedTalents.includes((n==null?void 0:n.id)||""));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Marketplace"}),s.jsx("p",{className:"text-gray-600",children:"Find and apply to campaigns that match your skills"})]}),u&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(Q,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-800 font-medium",children:"Application Submitted!"}),s.jsxs("p",{className:"text-green-700 text-sm",children:[`You've successfully applied to "`,h,'". The founder will review your application.']})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Your Rate Level"}),s.jsx("p",{className:"text-sm text-gray-600",children:"You can apply to campaigns up to your rate level"})]}),s.jsxs("div",{className:"flex items-center",children:[[1,2,3].map(P=>s.jsx(Ce,{className:`h-5 w-5 ${P<=v?"text-yellow-500 fill-current":"text-gray-300"}`},P)),s.jsxs("span",{className:"ml-2 font-medium text-gray-900",children:[v," Star"]})]})]})}),(A.length>0||O.length>0)&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(os,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-800 font-medium",children:"Your Applications"}),s.jsxs("p",{className:"text-blue-700 text-sm",children:[A.length>0&&s.jsxs("span",{children:["You have applied to ",A.length," campaign",A.length!==1?"s":"",". "]}),O.length>0&&s.jsxs("span",{children:["You have been approved for ",O.length," campaign",O.length!==1?"s":"",". "]}),"Check your dashboard for updates."]})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search campaigns, products, or categories...",value:a,onChange:P=>i(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:c,onChange:P=>d(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Categories"}),N.map(P=>s.jsx("option",{value:P,children:P},P))]}),s.jsxs("select",{value:l||"",onChange:P=>o(P.target.value?Number(P.target.value):null),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Levels"}),j.map(P=>s.jsxs("option",{value:P,children:[P," Star"]},P))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500",children:s.jsx($t,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available Campaigns"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:_.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500",children:s.jsx(Q,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Your Applications"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:A.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500",children:s.jsx(Ce,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Eligible Level"}),s.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["Up to ",v," Star"]})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:_.length>0?_.map(P=>s.jsx(B4,{campaign:P,onApply:()=>k(P.id),showApplyButton:!0,loading:()=>x.has(P.id),onView:()=>p(P)},P.id)):s.jsx("div",{className:"col-span-full text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx($t,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No campaigns available"}),s.jsx("p",{className:"text-sm",children:a||c||l?"Try adjusting your search terms or filters":"Check back later for new opportunities that match your rate level"})]})})}),b&&s.jsx(xN,{campaign:b,isTalentView:!0,onClose:()=>p(null)})]})},K4={rateLevel:{1:{"30sec":65,"1min":70,"3min":125},2:{"30sec":97.5,"1min":105,"3min":187.5},3:{"30sec":130,"1min":140,"3min":250}}},q4=(e,t)=>K4.rateLevel[e][t],H4=({onClose:e,onSuccess:t})=>{var k;const{user:r}=Ae(),{refreshData:n}=xe(),[a,i]=w.useState(!1),[l,o]=w.useState(!1),[c,d]=w.useState({title:"",description:"",productName:"",category:"",duration:"30sec",rateLevel:1,mediaType:"both"}),[u,f]=w.useState([]),h=w.useRef(null),m=r,x=["Technology","Fashion & Beauty","Food & Beverage","Health & Fitness","Travel & Lifestyle","Gaming","Education","Home & Garden","Sports","Entertainment","Business & Finance","Automotive","Other"],g=[{value:"30sec",label:"30 Seconds"},{value:"1min",label:"1 Minute"},{value:"3min",label:"3 Minutes"}],b=A=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(A),p=q4(c.rateLevel,c.duration),y=m.walletBalance<p,v=A=>{const{name:O,value:P}=A.target;d(C=>({...C,[O]:O==="rateLevel"?Number(P):P}))},S=async A=>{const O=A.target.files;if(!(!O||O.length===0)){o(!0);try{const{data:{user:P}}=await J.auth.getUser();if(!P)throw new Error("User not authenticated");const C=[];for(let E=0;E<O.length;E++){const F=O[E];if(!F.type.startsWith("image/")&&!F.type.startsWith("video/")){console.warn(`${F.name} is not a valid image or video file.`);continue}if(F.size>20*1024*1024){console.warn(`${F.name} is too large. Maximum size is 20MB.`);continue}const z=F.name.split(".").pop(),M=`${P.id}/campaign-new-${Date.now()}-${E}.${z}`,{data:U,error:I}=await J.storage.from("campaign-media").upload(M,F,{cacheControl:"3600",upsert:!0});if(I){console.error("Error uploading file:",I);continue}const{data:B}=J.storage.from("campaign-media").getPublicUrl(U.path);C.push(B.publicUrl)}f(E=>[...E,...C]),h.current&&(h.current.value="")}catch(P){console.error("Error uploading files:",P),alert("Failed to upload some files. Please try again.")}finally{o(!1)}}},j=async A=>{try{const O=u[A],C=new URL(O).pathname.match(/\/campaign-media\/(.+)$/);if(C&&C[1]){const E=decodeURIComponent(C[1]),{error:F}=await J.storage.from("campaign-media").remove([E]);F&&console.error("Error removing file from storage:",F)}f(E=>E.filter((F,z)=>z!==A))}catch(O){console.error("Error removing image:",O)}},N=async A=>{if(A.preventDefault(),!!r){if(y){alert(`Insufficient wallet balance. You need ${b(p)} but only have ${b(m.walletBalance)}. Please top up your wallet first.`);return}try{i(!0);const O={founderId:r.id,title:c.title,description:c.description,productName:c.productName,category:c.category,duration:c.duration,productImages:u,rateLevel:c.rateLevel,mediaType:c.mediaType,budget:0,price:p,status:"active"};await x4(O),await n(),t()}catch(O){console.error("Error creating campaign:",O),alert("Failed to create campaign. Please try again.")}finally{i(!1)}}},_=A=>A.includes(".mp4")||A.includes(".mov")||A.includes(".webm")||A.includes("video")||A.endsWith(".mp4");return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Campaign"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[y&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(os,{className:"h-5 w-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-800",children:"Insufficient Wallet Balance"}),s.jsxs("p",{className:"text-sm text-red-700 mt-1",children:["You need ",b(p)," but only have ",b(m.walletBalance),". Please top up your wallet before creating this campaign."]})]})]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Title *"}),s.jsx("input",{type:"text",id:"title",name:"title",required:!0,value:c.title,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter campaign title"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{id:"description",name:"description",required:!0,rows:4,value:c.description,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe your campaign and what you're looking for"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"productName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),s.jsx("input",{type:"text",id:"productName",name:"productName",required:!0,value:c.productName,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter product name"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{id:"category",name:"category",required:!0,value:c.category,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select a category"}),x.map(A=>s.jsx("option",{value:A,children:A},A))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Duration *"}),s.jsx("select",{id:"duration",name:"duration",value:c.duration,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:g.map(A=>s.jsx("option",{value:A.value,children:A.label},A.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rateLevel",className:"block text-sm font-medium text-gray-700 mb-2",children:"Rate Level *"}),s.jsxs("select",{id:"rateLevel",name:"rateLevel",value:c.rateLevel,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:1,children:"1 Star - Entry Level"}),s.jsx("option",{value:2,children:"2 Star - Intermediate"}),s.jsx("option",{value:3,children:"3 Star - Premium"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"mediaType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Media Type *"}),s.jsxs("select",{id:"mediaType",name:"mediaType",value:c.mediaType,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"image",children:"Image Only"}),s.jsx("option",{value:"video",children:"Video Only"}),s.jsx("option",{value:"both",children:"Both Image & Video"})]})]})]}),s.jsxs("div",{className:`rounded-lg p-4 border ${y?"bg-red-50 border-red-200":"bg-gradient-to-r from-green-50 to-blue-50 border-green-200"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(ie,{className:`h-5 w-5 ${y?"text-red-600":"text-green-600"}`}),s.jsx("h4",{className:`font-semibold ${y?"text-red-900":"text-green-900"}`,children:"Campaign Price"})]}),s.jsx("p",{className:`text-3xl font-bold ${y?"text-red-800":"text-green-800"}`,children:b(p)}),s.jsxs("p",{className:`text-sm ${y?"text-red-700":"text-green-700"}`,children:[c.rateLevel," Star Level  ",(k=g.find(A=>A.value===c.duration))==null?void 0:k.label]})]}),s.jsx("div",{className:`p-3 rounded-full ${y?"bg-red-500":"bg-green-500"}`,children:s.jsx(ie,{className:"h-6 w-6 text-white"})})]}),s.jsx("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(T4,{className:"h-4 w-4 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-700",children:[s.jsx("p",{className:"font-medium mb-1",children:"Wallet Information:"}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Current Balance:"}),s.jsx("span",{className:"font-medium",children:b(m.walletBalance)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Campaign Cost:"}),s.jsx("span",{className:"font-medium",children:b(p)})]}),s.jsxs("div",{className:"flex justify-between border-t border-blue-200 pt-1",children:[s.jsx("span",{children:"Remaining Balance:"}),s.jsx("span",{className:`font-medium ${y?"text-red-600":"text-green-600"}`,children:b(Math.max(0,m.walletBalance-p))})]})]})]})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Images & Videos"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(us,{className:"w-8 h-8 mb-2 text-gray-400"}),s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," product media"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Images & Videos (MAX. 20MB each)"})]}),s.jsx("input",{type:"file",className:"hidden",multiple:!0,accept:"image/*,video/*",onChange:S,ref:h,disabled:l})]})}),l&&s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Uploading media..."})]}),u.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:u.map((A,O)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:_(A)?s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("video",{src:A,className:"w-full h-full object-cover",controls:!0}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Qr,{className:"h-8 w-8 text-white drop-shadow-lg"})})]}):s.jsx("img",{src:A,alt:`Product ${O+1}`,className:"w-full h-full object-cover"})}),s.jsx("button",{type:"button",onClick:()=>j(O),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(di,{className:"h-4 w-4"})})]},O))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:a||l||y,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating...":y?"Insufficient Balance":`Create Campaign - ${b(p)}`})]})]})]})})},V4=({campaign:e,onClose:t,onSuccess:r})=>{const{user:n}=Ae(),{campaigns:a,setCampaigns:i}=xe(),[l,o]=w.useState(!1),[c,d]=w.useState(!1),[u,f]=w.useState({title:e.title,description:e.description,productName:e.productName,category:e.category,duration:e.duration,rateLevel:e.rateLevel,mediaType:e.mediaType}),[h,m]=w.useState(e.productImages),x=w.useRef(null),g=["Technology","Fashion & Beauty","Food & Beverage","Health & Fitness","Travel & Lifestyle","Gaming","Education","Home & Garden","Sports","Entertainment","Business & Finance","Automotive","Other"],b=[{value:"30sec",label:"30 Seconds"},{value:"1min",label:"1 Minute"},{value:"3min",label:"3 Minutes"}],p=N=>{const{name:_,value:k}=N.target;f(A=>({...A,[_]:_==="rateLevel"?Number(k):k}))},y=async N=>{const _=N.target.files;if(!(!_||_.length===0)){d(!0);try{const{data:{user:k}}=await J.auth.getUser();if(!k)throw new Error("User not authenticated");const A=[];for(let O=0;O<_.length;O++){const P=_[O];if(!P.type.startsWith("image/")&&!P.type.startsWith("video/")){console.warn(`${P.name} is not a valid image or video file.`);continue}if(P.size>20*1024*1024){console.warn(`${P.name} is too large. Maximum size is 20MB.`);continue}const C=P.name.split(".").pop(),E=`${k.id}/campaign-${e.id}-${Date.now()}-${O}.${C}`,{data:F,error:z}=await J.storage.from("campaign-media").upload(E,P,{cacheControl:"3600",upsert:!0});if(z){console.error("Error uploading file:",z);continue}const{data:M}=J.storage.from("campaign-media").getPublicUrl(F.path);A.push(M.publicUrl)}m(O=>[...O,...A]),x.current&&(x.current.value="")}catch(k){console.error("Error uploading files:",k),alert("Failed to upload some files. Please try again.")}finally{d(!1)}}},v=async N=>{try{const _=h[N],A=new URL(_).pathname.match(/\/campaign-media\/(.+)$/);if(A&&A[1]){const O=decodeURIComponent(A[1]),{error:P}=await J.storage.from("campaign-media").remove([O]);P&&console.error("Error removing file from storage:",P)}m(O=>O.filter((P,C)=>C!==N))}catch(_){console.error("Error removing image:",_)}},S=async N=>{if(N.preventDefault(),!!n){o(!0);try{const _={...e,title:u.title,description:u.description,productName:u.productName,category:u.category,duration:u.duration,productImages:h,rateLevel:u.rateLevel,mediaType:u.mediaType};await oN(e.id,{title:u.title,description:u.description,product_name:u.productName,category:u.category,duration:u.duration,product_images:h,rate_level:u.rateLevel,media_type:u.mediaType}),i(a.map(k=>k.id===e.id?_:k)),r()}catch(_){console.error("Error updating campaign:",_),alert("Failed to update campaign. Please try again.")}finally{o(!1)}}},j=N=>N.includes(".mp4")||N.includes(".mov")||N.includes(".webm")||N.includes("video")||N.endsWith(".mp4");return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Campaign"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:S,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Title *"}),s.jsx("input",{type:"text",id:"title",name:"title",required:!0,value:u.title,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter campaign title"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{id:"description",name:"description",required:!0,rows:4,value:u.description,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe your campaign and what you're looking for"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"productName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),s.jsx("input",{type:"text",id:"productName",name:"productName",required:!0,value:u.productName,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter product name"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{id:"category",name:"category",required:!0,value:u.category,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select a category"}),g.map(N=>s.jsx("option",{value:N,children:N},N))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Duration *"}),s.jsx("select",{id:"duration",name:"duration",value:u.duration,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:b.map(N=>s.jsx("option",{value:N.value,children:N.label},N.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rateLevel",className:"block text-sm font-medium text-gray-700 mb-2",children:"Rate Level *"}),s.jsxs("select",{id:"rateLevel",name:"rateLevel",value:u.rateLevel,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:1,children:"1 Star - Entry Level"}),s.jsx("option",{value:2,children:"2 Star - Intermediate"}),s.jsx("option",{value:3,children:"3 Star - Premium"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"mediaType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Media Type *"}),s.jsxs("select",{id:"mediaType",name:"mediaType",value:u.mediaType,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"image",children:"Image Only"}),s.jsx("option",{value:"video",children:"Video Only"}),s.jsx("option",{value:"both",children:"Both Image & Video"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Images & Videos"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(us,{className:"w-8 h-8 mb-2 text-gray-400"}),s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," product media"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Images & Videos (MAX. 20MB each)"})]}),s.jsx("input",{type:"file",className:"hidden",multiple:!0,accept:"image/*,video/*",onChange:y,ref:x,disabled:c})]})}),c&&s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Uploading media..."})]}),h.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:h.map((N,_)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:j(N)?s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("video",{src:N,className:"w-full h-full object-cover",controls:!0}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Qr,{className:"h-8 w-8 text-white drop-shadow-lg"})})]}):s.jsx("img",{src:N,alt:`Product ${_+1}`,className:"w-full h-full object-cover"})}),s.jsx("button",{type:"button",onClick:()=>v(_),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(di,{className:"h-4 w-4"})})]},_))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:l||c,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s.jsx(to,{className:"h-4 w-4"}),s.jsx("span",{children:l?"Updating...":"Update Campaign"})]})]})]})]})})},Y4=()=>{const{user:e}=Ae(),{campaigns:t,setCampaigns:r,talents:n,refreshData:a}=xe(),[i,l]=w.useState(!1),[o,c]=w.useState(null),[d,u]=w.useState(null),[f,h]=w.useState(null),[m,x]=w.useState(""),[g,b]=w.useState("all"),[p,y]=w.useState(!1),v=t.filter(M=>M.founderId===(e==null?void 0:e.id)),S=v.filter(M=>{const U=M.title.toLowerCase().includes(m.toLowerCase())||M.description.toLowerCase().includes(m.toLowerCase()),I=g==="all"||M.status===g;return U&&I}),j=M=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(M),N=()=>{l(!1),a()},_=()=>{c(null),a()},k=async(M,U)=>{y(!0);try{await oN(M,{status:U}),await a()}catch(I){alert("Failed to update campaign status. Please try again."),console.error(I)}finally{y(!1)}},A=async M=>{if(window.confirm("Are you sure you want to delete this campaign? This action cannot be undone.")){y(!0);try{await v4(M),await a()}catch(U){alert("Failed to delete campaign. Please try again."),console.error(U)}finally{y(!1)}}},O=M=>{c(M)},P=M=>{u(M)},C=M=>{h(M)},E=M=>n.filter(U=>M.approvedTalents.includes(U.id)),F=M=>{switch(M){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},z=M=>{switch(M){case"30sec":return"30 Seconds";case"1min":return"1 Minute";case"3min":return"3 Minutes";default:return M}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Campaigns"}),s.jsx("p",{className:"text-gray-600",children:"Create and manage your marketing campaigns"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors",children:[s.jsx(il,{className:"h-5 w-5"}),s.jsx("span",{children:"Create Campaign"})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-4 border border-yellow-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ie,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-yellow-900 mb-1",children:"Payment Hold System"}),s.jsx("p",{className:"text-sm text-yellow-700",children:"When you approve a talent application, the campaign amount will be immediately deducted from your wallet and held until the review is completed. Payment will be released to the talent only after you approve their submitted content."})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:s.jsx(El,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.filter(M=>M.status==="active").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:s.jsx(im,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paused"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.filter(M=>M.status==="paused").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:s.jsx(He,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Applicants"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.reduce((M,U)=>M+U.applicants.length,0)})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:s.jsx(ie,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j(v.reduce((M,U)=>M+U.price,0))})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search campaigns...",value:m,onChange:M=>x(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:g,onChange:M=>b(M.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"paused",children:"Paused"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"draft",children:"Draft"})]})]})]}),S.length>0?s.jsx("div",{className:"space-y-4",children:S.map(M=>{const U=E(M);return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.title}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(M.status)}`,children:M.status.charAt(0).toUpperCase()+M.status.slice(1)}),M.approvedTalents.length>0&&s.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 flex items-center",children:[s.jsx(Q,{className:"h-3 w-3 mr-1"}),M.approvedTalents.length," Approved"]}),M.applicants.length>0&&s.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 flex items-center",children:[s.jsx(Lt,{className:"h-3 w-3 mr-1"}),M.applicants.length," Pending"]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:M.description}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500 mb-3",children:[s.jsxs("span",{children:["Product: ",M.productName]}),s.jsxs("span",{children:["Category: ",M.category]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lt,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{children:["Duration: ",z(M.duration)]})]}),s.jsxs("span",{children:["Rate Level: ",M.rateLevel," Star"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(He,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{children:["Applicants: ",M.applicants.length]})]}),s.jsxs("div",{className:"flex items-center font-semibold text-green-600",children:[s.jsx(ie,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:j(M.price)})]})]}),U.length>0&&s.jsxs("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Approved Talents:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:U.map(I=>s.jsxs("div",{className:"flex items-center space-x-2 bg-white px-3 py-1 rounded-full border border-green-200",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:I.name.charAt(0).toUpperCase()}),s.jsx("span",{className:"text-sm text-green-800 font-medium",children:I.name}),s.jsxs("span",{className:"text-xs text-green-600",children:["(",Array.from({length:I.rateLevel}).map((B,Y)=>s.jsx("span",{children:""},Y)),")"]}),s.jsxs("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-0.5 rounded-full",children:[j(M.price)," held"]})]},I.id))})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[M.applicants.length>0&&s.jsxs("button",{onClick:()=>C(M),className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors relative",title:"View Applicants",children:[s.jsx(He,{className:"h-4 w-4"}),M.applicants.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:M.applicants.length})]}),s.jsx("button",{onClick:()=>P(M),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(rn,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>O(M),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit Campaign",children:s.jsx(fN,{className:"h-4 w-4"})}),M.status==="active"?s.jsx("button",{onClick:()=>k(M.id,"paused"),className:"p-2 text-gray-600 hover:text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors",title:"Pause Campaign",children:s.jsx(im,{className:"h-4 w-4"})}):s.jsx("button",{onClick:()=>k(M.id,"active"),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Activate Campaign",children:s.jsx(El,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>A(M.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Campaign",children:s.jsx(di,{className:"h-4 w-4"})})]})]})},M.id)})}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(il,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No campaigns found"}),s.jsx("p",{className:"text-sm mb-4",children:m||g!=="all"?"Try adjusting your search or filters":"Create your first campaign to get started"}),!m&&g==="all"&&s.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors",children:[s.jsx(il,{className:"h-4 w-4"}),s.jsx("span",{children:"Create Your First Campaign"})]})]})}),i&&s.jsx(H4,{onClose:()=>l(!1),onSuccess:N}),o&&s.jsx(V4,{campaign:o,onClose:()=>c(null),onSuccess:_}),d&&s.jsx(xN,{campaign:d,onClose:()=>u(null),onEdit:()=>{c(d),u(null)},onDelete:()=>A(d.id),onStatusChange:M=>k(d.id,M)}),f&&s.jsx(gN,{campaignId:f.id,onClose:()=>{h(null),a()}})]})},og=({jobId:e,recipientName:t,recipientRole:r="founder",messages:n,className:a=""})=>{const{user:i}=Ae(),{setMessages:l}=xe(),[o,c]=w.useState(""),[d,u]=w.useState(!1),f=w.useRef(null),h=w.useRef(null);w.useEffect(()=>{m()},[n]);const m=()=>{var v;(v=f.current)==null||v.scrollIntoView({behavior:"smooth"})},x=async v=>{if(v.preventDefault(),!(!o.trim()||!i||d)){u(!0);try{const S={jobId:e,senderId:i.id,content:o.trim(),read:!1},j=await j4(S);l(N=>[...N,j]),c("")}catch{alert("Failed to send message. Please try again.")}finally{u(!1)}}},g=()=>{var v;return(v=h.current)==null?void 0:v.click()},b=v=>{var j;const S=(j=v.target.files)==null?void 0:j[0];if(S){const N={id:Date.now().toString(),jobId:e,senderId:i.id,content:` Shared a file: ${S.name}`,timestamp:new Date,read:!1};l(_=>[..._,N])}},p=v=>new Date(v).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),y=v=>{const S=new Date,j=new Date(v);if(j.toDateString()===S.toDateString())return"Today";const N=new Date(S);return N.setDate(N.getDate()-1),j.toDateString()===N.toDateString()?"Yesterday":j.toLocaleDateString()};return s.jsxs("div",{className:`w-96 border-l border-gray-200 flex flex-col ${a}`,children:[s.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Dv,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:["Chat with ",t]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Discuss ",r==="founder"?"job progress":"review details"]})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:n.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Dv,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No messages yet"}),s.jsxs("p",{className:"text-gray-400 text-xs",children:["Start a conversation with the ",r]})]}):s.jsxs(s.Fragment,{children:[n.map((v,S)=>{const j=v.senderId===(i==null?void 0:i.id),N=S===0||y(new Date(v.timestamp))!==y(new Date(n[S-1].timestamp));return s.jsxs("div",{children:[N&&s.jsx("div",{className:"text-center py-2",children:s.jsx("span",{className:"text-xs text-gray-500 bg-white px-2 py-1 rounded-full",children:y(new Date(v.timestamp))})}),s.jsx("div",{className:`flex ${j?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${j?"bg-blue-600 text-white":"bg-white text-gray-900 border border-gray-200"}`,children:[s.jsx("p",{className:"text-sm",children:v.content}),s.jsx("p",{className:`text-xs mt-1 ${j?"text-blue-100":"text-gray-500"}`,children:p(new Date(v.timestamp))})]})})]},v.id)}),s.jsx("div",{ref:f})]})}),s.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white",children:[s.jsx("form",{onSubmit:x,className:"space-y-3",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"flex-1 relative",children:s.jsx("input",{type:"text",value:o,onChange:v=>c(v.target.value),placeholder:"Type your message...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})}),s.jsx("button",{type:"button",onClick:g,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Attach File",children:s.jsx(I4,{className:"h-4 w-4"})}),s.jsx("button",{type:"submit",disabled:!o.trim()||d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",children:d?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):s.jsx(D4,{className:"h-4 w-4"})})]})}),s.jsx("input",{ref:h,type:"file",className:"hidden",accept:"image/*,video/*,.pdf,.doc,.docx",onChange:b})]})]})},G4=({order:e,onClose:t})=>{const{messages:r}=xe(),n=r.filter(o=>o.jobId===e.id),a=o=>{switch(o){case"pending_shipment":return"bg-yellow-100 text-yellow-800";case"shipped":return"bg-blue-100 text-blue-800";case"delivered":return"bg-purple-100 text-purple-800";case"review_submitted":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},i=o=>{switch(o){case"pending_shipment":return"Pending Shipment";case"shipped":return"Shipped";case"delivered":return"Delivered";case"review_submitted":return"Review Submitted";case"completed":return"Completed";default:return o}},l=o=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(o);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Order Details"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.campaignTitle}),s.jsxs("p",{className:"text-gray-600",children:["Order #",e.id]})]}),s.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${a(e.status)}`,children:i(e.status)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Pe,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Product"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.productName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Xr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Talent"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.talentName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ie,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Payout"}),s.jsx("p",{className:"font-medium text-green-600",children:l(e.payout)})]})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ke,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Created"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.createdAt.toLocaleDateString()})]})]})})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Progress"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["pending_shipment","shipped","delivered","review_submitted","completed"].includes(e.status)?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(Q,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Order Created"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Talent was approved for this campaign"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["shipped","delivered","review_submitted","completed"].includes(e.status)?"bg-green-500 text-white":e.status==="pending_shipment"?"bg-yellow-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(Jr,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Product Shipped"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.status==="pending_shipment"?"Waiting for you to ship the product":"Product has been shipped to talent"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["delivered","review_submitted","completed"].includes(e.status)?"bg-green-500 text-white":e.status==="shipped"?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(Gr,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Product Delivered"}),s.jsx("p",{className:"text-sm text-gray-600",children:["delivered","review_submitted","completed"].includes(e.status)?"Product delivered successfully":e.status==="shipped"?"Product is in transit":"Waiting for shipment"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["review_submitted","completed"].includes(e.status)?"bg-green-500 text-white":e.status==="delivered"?"bg-purple-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(Q,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Review Submitted"}),s.jsx("p",{className:"text-sm text-gray-600",children:["review_submitted","completed"].includes(e.status)?"Review content submitted for approval":e.status==="delivered"?"Waiting for talent to submit review":"Waiting for product delivery"})]})]})]})]}),e.deliveryInfo&&s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delivery Information"}),e.deliveryInfo.address&&s.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[s.jsx(Gr,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Delivery Address"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.deliveryInfo.address})]})]}),e.deliveryInfo.trackingNumber&&s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Jr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Tracking Number"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.deliveryInfo.trackingNumber})]})]}),e.deliveryInfo.courier&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Pe,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Courier"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.deliveryInfo.courier})]})]})]}),e.reviewSubmission&&e.reviewSubmission.media&&e.reviewSubmission.media.length>0&&s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Review Submission"}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsxs("p",{className:"text-sm text-green-600 mb-2",children:["Review submitted on ",e.reviewSubmission.submittedAt.toLocaleDateString()]}),s.jsx("div",{className:"mt-3 grid grid-cols-2 gap-4",children:e.reviewSubmission.media.map((o,c)=>s.jsx("div",{children:o.type==="image"?s.jsx("img",{src:o.url,alt:"Review submission",className:"w-full h-48 object-cover rounded-lg"}):s.jsx("video",{src:o.url,controls:!0,className:"w-full h-48 rounded-lg"})},c))})]})]})]}),s.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200",children:s.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"})})]}),["shipped","delivered","review_submitted","completed"].includes(e.status)&&s.jsx(og,{jobId:e.id,recipientName:e.talentName,recipientRole:"talent",messages:n})]})})},J4=({order:e,onClose:t,onSuccess:r})=>{const[n,a]=w.useState(!1),[i,l]=w.useState({address:"",trackingNumber:"",courier:"DHL"}),o=["DHL","FedEx","UPS","USPS","J&T Express","SiCepat","JNE","Pos Malaysia","City-Link Express","GDex","Other"],c=f=>{const{name:h,value:m}=f.target;l(x=>({...x,[h]:m}))},d=async f=>{f.preventDefault(),a(!0),await new Promise(h=>setTimeout(h,1e3)),r(e.id,i),a(!1)},u=f=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(f);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[95vh] sm:max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 flex-shrink-0",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Ship Order"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-1",children:s.jsx(Te,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsxs("form",{onSubmit:d,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 border border-blue-200",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2 text-sm sm:text-base",children:e.campaignTitle}),s.jsxs("div",{className:"space-y-1 text-xs sm:text-sm",children:[s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Product:"})," ",e.productName]}),s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Talent:"})," ",e.talentName]}),s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Payout:"})," ",u(e.payout)]}),s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Order ID:"})," #",e.id]})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(os,{className:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-yellow-800 text-sm sm:text-base mb-2",children:"Shipping Guidelines"}),s.jsxs("ul",{className:"text-xs sm:text-sm text-yellow-700 space-y-1",children:[s.jsx("li",{children:" Ensure product is securely packaged"}),s.jsx("li",{children:" Include campaign details in the package"}),s.jsx("li",{children:" Use a reliable courier service"}),s.jsx("li",{children:" Provide accurate tracking information"})]})]})]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Address *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute top-3 left-3 pointer-events-none",children:s.jsx(Gr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})}),s.jsx("textarea",{id:"address",name:"address",required:!0,rows:4,value:i.address,onChange:c,className:"w-full pl-10 sm:pl-12 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base resize-none",placeholder:"Enter complete delivery address including postal code, city, and state"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Include postal code, city, and state for accurate delivery"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"courier",className:"block text-sm font-medium text-gray-700 mb-2",children:"Courier Service *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Pe,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})}),s.jsx("select",{id:"courier",name:"courier",required:!0,value:i.courier,onChange:c,className:"w-full pl-10 sm:pl-12 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base appearance-none bg-white",children:o.map(f=>s.jsx("option",{value:f,children:f},f))}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:s.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"trackingNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tracking Number *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Jr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"trackingNumber",name:"trackingNumber",required:!0,value:i.trackingNumber,onChange:c,className:"w-full pl-10 sm:pl-12 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",placeholder:"Enter tracking number"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Provide the tracking number from your courier service"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3 text-sm sm:text-base",children:"Shipping Summary"}),s.jsxs("div",{className:"space-y-2 text-xs sm:text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Campaign:"}),s.jsx("span",{className:"font-medium text-gray-900 text-right",children:e.campaignTitle})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Product:"}),s.jsx("span",{className:"font-medium text-gray-900 text-right",children:e.productName})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Talent:"}),s.jsx("span",{className:"font-medium text-gray-900 text-right",children:e.talentName})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Payout:"}),s.jsx("span",{className:"font-medium text-green-600 text-right",children:u(e.payout)})]}),i.courier&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Courier:"}),s.jsx("span",{className:"font-medium text-gray-900 text-right",children:i.courier})]})]})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 p-4 sm:p-6 border-t border-gray-200 flex-shrink-0 bg-gray-50",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors text-sm sm:text-base",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:n||!i.address||!i.trackingNumber,onClick:d,className:"w-full sm:w-auto px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm sm:text-base",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Shipping..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Jr,{className:"h-4 w-4"}),s.jsx("span",{children:"Ship Order"})]})})]})]})})},X4=()=>{const{user:e}=Ae(),{orders:t,setOrders:r,refreshData:n}=xe(),[a,i]=w.useState(""),[l,o]=w.useState("all"),[c,d]=w.useState(null),[u,f]=w.useState(null),[h,m]=w.useState(!1),x=t.filter(_=>_.founderId===(e==null?void 0:e.id)),g=x.filter(_=>{const k=_.talentName.toLowerCase().includes(a.toLowerCase())||_.campaignTitle.toLowerCase().includes(a.toLowerCase())||_.productName.toLowerCase().includes(a.toLowerCase()),A=l==="all"||_.status===l;return k&&A}),b=_=>{switch(_){case"pending_shipment":return"bg-yellow-100 text-yellow-800";case"shipped":return"bg-blue-100 text-blue-800";case"delivered":return"bg-purple-100 text-purple-800";case"review_submitted":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},p=_=>{switch(_){case"pending_shipment":return s.jsx(Lt,{className:"h-4 w-4"});case"shipped":return s.jsx(Jr,{className:"h-4 w-4"});case"delivered":return s.jsx(Gr,{className:"h-4 w-4"});case"review_submitted":return s.jsx(Q,{className:"h-4 w-4"});case"completed":return s.jsx(Q,{className:"h-4 w-4"});default:return s.jsx(Pe,{className:"h-4 w-4"})}},y=_=>{switch(_){case"pending_shipment":return"Pending Shipment";case"shipped":return"Shipped";case"delivered":return"Delivered";case"review_submitted":return"Review Submitted";case"completed":return"Completed";default:return _}},v=_=>{f(_)},S=async(_,k)=>{m(!0);try{await Cl(_,{status:"shipped",delivery_address:k.address,tracking_number:k.trackingNumber,courier:k.courier}),r(t.map(A=>A.id===_?{...A,status:"shipped",deliveryInfo:k}:A)),f(null),await n()}catch(A){console.error("Error updating order status:",A),alert("Failed to update order status. Please try again.")}finally{m(!1)}},j=async _=>{m(!0);try{await Cl(_,{status:"delivered"}),r(t.map(k=>k.id===_?{...k,status:"delivered"}:k)),await n()}catch(k){console.error("Error marking order as delivered:",k),alert("Failed to update order status. Please try again.")}finally{m(!1)}},N=_=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(_);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Orders"}),s.jsx("p",{className:"text-gray-600",children:"Manage product shipments to approved talents"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:s.jsx(Lt,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Shipment"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.filter(_=>_.status==="pending_shipment").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:s.jsx(Jr,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Shipped"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.filter(_=>_.status==="shipped").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:s.jsx(Q,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Review Submitted"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.filter(_=>_.status==="review_submitted").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:s.jsx(Pe,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.length})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search orders by talent, campaign, or product...",value:a,onChange:_=>i(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:l,onChange:_=>o(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending_shipment",children:"Pending Shipment"}),s.jsx("option",{value:"shipped",children:"Shipped"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"review_submitted",children:"Review Submitted"}),s.jsx("option",{value:"completed",children:"Completed"})]})]})]}),g.length>0?s.jsx("div",{className:"space-y-4",children:g.map(_=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.campaignTitle}),s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center space-x-1 ${b(_.status)}`,children:[p(_.status),s.jsx("span",{children:y(_.status)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Product: ",s.jsx("span",{className:"font-medium text-gray-900",children:_.productName})]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Xr,{className:"h-4 w-4 text-gray-400 mr-1"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Talent: ",s.jsx("span",{className:"font-medium text-gray-900",children:_.talentName})]})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Payout: ",s.jsx("span",{className:"font-medium text-green-600",children:N(_.payout)})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Created: ",_.createdAt.toLocaleDateString()]})]})]}),_.deliveryInfo&&(_.deliveryInfo.address||_.deliveryInfo.trackingNumber)&&s.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Delivery Information:"}),s.jsxs("div",{className:"space-y-1 text-sm text-blue-700",children:[_.deliveryInfo.address&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Address:"})," ",_.deliveryInfo.address]}),_.deliveryInfo.trackingNumber&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Tracking:"})," ",_.deliveryInfo.trackingNumber]}),_.deliveryInfo.courier&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Courier:"})," ",_.deliveryInfo.courier]})]})]}),_.reviewSubmission&&s.jsxs("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Review Submitted:"}),s.jsxs("p",{className:"text-sm text-green-700 mb-2",children:["Submitted on ",_.reviewSubmission.submittedAt.toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[_.reviewSubmission.mediaType==="image"?s.jsx("img",{src:_.reviewSubmission.mediaUrl,alt:"Review submission",className:"w-20 h-20 object-cover rounded-lg border border-green-200"}):s.jsx("video",{src:_.reviewSubmission.mediaUrl,className:"w-20 h-20 rounded-lg border border-green-200",controls:!0}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-green-700 capitalize",children:[_.reviewSubmission.mediaType," content"]}),s.jsx("p",{className:"text-xs text-green-600",children:_.status==="review_submitted"?"Pending your approval":"Approved"})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>d(_),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(rn,{className:"h-4 w-4"})}),_.status==="pending_shipment"&&s.jsx("button",{onClick:()=>v(_),disabled:h,className:"px-3 py-1 text-sm text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors disabled:opacity-50",children:h?"Processing...":"Ship Order"}),_.status==="shipped"&&s.jsx("button",{onClick:()=>j(_.id),disabled:h,className:"px-3 py-1 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors disabled:opacity-50",children:h?"Processing...":"Mark Delivered"})]})]})},_.id))}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(Pe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No orders found"}),s.jsx("p",{className:"text-sm",children:a||l!=="all"?"Try adjusting your search or filters":"Orders will appear here when you approve talent applications"})]})}),c&&s.jsx(G4,{order:c,onClose:()=>d(null)}),u&&s.jsx(J4,{order:u,onClose:()=>f(null),onSuccess:S})]})},Q4=({job:e,onClose:t})=>{Ae();const{messages:r}=xe(),[n,a]=w.useState(!1),[i,l]=w.useState(0),o=m=>{l(m),a(!0)},c=()=>a(!1),d=r.filter(m=>m.jobId===e.id),u=m=>{switch(m){case"pending_shipment":return"bg-yellow-100 text-yellow-800";case"shipped":return"bg-blue-100 text-blue-800";case"delivered":return"bg-purple-100 text-purple-800";case"review_submitted":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},f=m=>{switch(m){case"pending_shipment":return"Waiting for Shipment";case"shipped":return"Product Shipped";case"delivered":return"Product Delivered";case"review_submitted":return"Review Submitted";case"completed":return"Job Completed";default:return m}},h=m=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(m);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Job Details"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.campaignTitle}),s.jsxs("p",{className:"text-gray-600",children:["Job #",e.id]})]}),s.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${u(e.status)}`,children:f(e.status)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Pe,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Product"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.productName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Xr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Talent"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.talentName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ie,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Payout"}),s.jsx("p",{className:"font-medium text-green-600",children:h(e.payout)})]})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ke,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Job Started"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.createdAt.toLocaleDateString()})]})]})})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Job Progress"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["pending_shipment","shipped","delivered","review_submitted","completed"].includes(e.status)?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(Q,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Job Assigned"}),s.jsx("p",{className:"text-sm text-gray-600",children:"You were approved for this campaign"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["shipped","delivered","review_submitted","completed"].includes(e.status)?"bg-green-500 text-white":e.status==="pending_shipment"?"bg-yellow-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(Jr,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Product Shipped"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.status==="pending_shipment"?"Waiting for shipment":"Product has been shipped to you"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["delivered","review_submitted","completed"].includes(e.status)?"bg-green-500 text-white":e.status==="shipped"?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(Gr,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Product Delivered"}),s.jsx("p",{className:"text-sm text-gray-600",children:["delivered","review_submitted","completed"].includes(e.status)?"Product delivered successfully":e.status==="shipped"?"Product is in transit":"Waiting for delivery"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["review_submitted","completed"].includes(e.status)?"bg-green-500 text-white":e.status==="delivered"?"bg-purple-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(Q,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Review Submitted"}),s.jsx("p",{className:"text-sm text-gray-600",children:["review_submitted","completed"].includes(e.status)?"Review content submitted for approval":e.status==="delivered"?"Ready to create and submit review":"Waiting for product delivery"})]})]})]})]}),e.deliveryInfo&&s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delivery Information"}),e.deliveryInfo.trackingNumber&&s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Jr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Tracking Number"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.deliveryInfo.trackingNumber})]})]}),e.deliveryInfo.courier&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Pe,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Courier"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.deliveryInfo.courier})]})]}),e.deliveryInfo.address&&s.jsxs("div",{className:"flex items-center space-x-3 mt-4",children:[s.jsx(Gr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Delivery Address"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.deliveryInfo.address})]})]})]}),e.reviewSubmission&&e.reviewSubmission.media&&e.reviewSubmission.media.length>0&&s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Review Submission"}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsxs("p",{className:"text-sm text-green-600 mb-2",children:["Review submitted on ",e.reviewSubmission.submittedAt.toLocaleDateString()]}),e.reviewSubmission.notes&&s.jsxs("div",{className:"mt-2 mb-4 p-2 bg-white rounded text-gray-700 border border-green-100",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Talent's Notes:"}),s.jsx("p",{className:"text-sm",children:e.reviewSubmission.notes})]}),s.jsx("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:e.reviewSubmission.media.map((m,x)=>m.type==="image"?s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:m.url,alt:`Review submission ${x+1}`,className:"w-full h-48 object-cover rounded-lg cursor-pointer",onClick:()=>o(x)}),s.jsx("a",{href:m.url,download:!0,target:"_blank",rel:"noopener noreferrer",className:"absolute top-2 right-2 bg-white bg-opacity-90 rounded-full p-1 shadow transition group-hover:bg-green-200",title:"Download",onClick:g=>g.stopPropagation(),children:s.jsx(am,{className:"h-4 w-4 text-green-600"})})]},x):s.jsxs("div",{className:"relative group",children:[s.jsx("video",{src:m.url,controls:!0,className:"w-full h-48 rounded-lg cursor-pointer",onClick:()=>o(x)}),s.jsx("a",{href:m.url,download:!0,target:"_blank",rel:"noopener noreferrer",className:"absolute top-2 right-2 bg-white bg-opacity-90 rounded-full p-1 shadow transition group-hover:bg-green-200",title:"Download",onClick:g=>g.stopPropagation(),children:s.jsx(am,{className:"h-4 w-4 text-green-600"})})]},x))})]})]}),n&&e.reviewSubmission&&e.reviewSubmission.media&&s.jsxs("div",{className:"fixed inset-0 z-[100] bg-black bg-opacity-80 flex flex-col items-center justify-center transition-all",children:[s.jsx("button",{className:"absolute top-6 right-6 text-white text-2xl",onClick:c,"aria-label":"Close",children:s.jsx(Te,{className:"w-10 h-10"})}),s.jsx("div",{className:"max-w-3xl max-h-[80vh] flex items-center justify-center",children:e.reviewSubmission.media[i].type==="image"?s.jsx("img",{src:e.reviewSubmission.media[i].url,alt:`Review submission ${i+1}`,className:"max-h-[80vh] max-w-full rounded-lg shadow-lg"}):s.jsx("video",{src:e.reviewSubmission.media[i].url,controls:!0,autoPlay:!0,className:"max-h-[80vh] max-w-full rounded-lg shadow-lg"})}),e.reviewSubmission.media.length>1&&s.jsx("div",{className:"mt-6 flex space-x-4",children:e.reviewSubmission.media.map((m,x)=>s.jsx("button",{className:`w-16 h-16 rounded border-2 ${i===x?"border-blue-400":"border-transparent"}`,onClick:()=>l(x),children:m.type==="image"?s.jsx("img",{src:m.url,alt:"",className:"w-full h-full object-cover rounded"}):s.jsx("video",{src:m.url,className:"w-full h-full object-cover rounded"})},x))})]})]})]}),s.jsx(og,{jobId:e.id,recipientName:"Founder",recipientRole:"founder",messages:d})]})})},Z4=({job:e,onClose:t,onSuccess:r})=>{const{user:n}=Ae(),[a,i]=w.useState(!1),[l,o]=w.useState([]),[c,d]=w.useState(""),[u,f]=w.useState(""),[h,m]=w.useState(!1),x=y=>y.type.startsWith("image")?"image":y.type.startsWith("video")?"video":null,g=y=>{m(!0);try{const v=Array.from(y.target.files||[]);let S=[...l];v.forEach(j=>{const N=x(j);if(!N)return;const _=N==="image"?10*1024*1024:50*1024*1024;if(j.size>_){alert(`File ${j.name} too large. Max ${N==="image"?"10MB":"50MB"}.`);return}S.some(k=>k.file.name===j.name&&k.file.size===j.size)||S.push({file:j,url:URL.createObjectURL(j),type:N,previewLoading:!0})}),o(S)}catch(v){console.error("Error processing files:",v),alert("Failed to process files. Please try again.")}finally{m(!1)}},b=y=>{o(v=>v.filter((S,j)=>j!==y))},p=async y=>{if(y.preventDefault(),f(""),!l.length){f("Please select at least one photo or video.");return}if(!n){f("User not found. Please login again.");return}i(!0);try{const v=[];for(const S of l){const j=Date.now(),N=`${n.id}/${j}_${S.file.name}`,{error:_}=await J.storage.from("review-submissions").upload(N,S.file);if(_){f(`Upload failed: ${S.file.name}: ${_.message}`),i(!1);return}const{data:k}=J.storage.from("review-submissions").getPublicUrl(N),A=k==null?void 0:k.publicUrl;if(!A){f("Failed to retrieve file URL."),i(!1);return}v.push({url:A,type:S.type})}await Cl(e.id,{status:"review_submitted",review_media:v,review_submitted_at:new Date().toISOString(),notes:c}),r(e.id,{media:v,notes:c}),i(!1),t()}catch(v){f("Unexpected error: "+(v.message||v)),i(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Submit Review Content"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Photos or Videos *"}),s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(us,{className:"w-10 h-10 mb-3 text-gray-400"}),s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag files"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Images: PNG, JPG, JPEG (max 10MB)",s.jsx("br",{}),"Videos: MP4, MOV, AVI (max 50MB)"]})]}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*,video/*",multiple:!0,onChange:g,required:l.length===0,disabled:h})]}),l.length>0&&s.jsx("div",{className:"grid grid-cols-2 gap-3 mt-4",children:l.map((y,v)=>s.jsxs("div",{className:"relative border border-gray-200 rounded-lg overflow-hidden bg-gray-50",children:[s.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-white rounded-full p-1 shadow text-red-600 hover:text-red-900",onClick:()=>b(v),title:"Remove",children:s.jsx(di,{className:"h-4 w-4"})}),y.type==="image"?s.jsx("img",{src:y.url,alt:`Preview ${v+1}`,className:"w-full h-32 object-cover",onLoad:()=>{o(S=>S.map((j,N)=>N===v?{...j,previewLoading:!1}:j))},style:{opacity:y.previewLoading?.5:1}}):s.jsx("video",{src:y.url,controls:!0,className:"w-full h-32",onLoadedData:()=>{o(S=>S.map((j,N)=>N===v?{...j,previewLoading:!1}:j))},style:{opacity:y.previewLoading?.5:1}})]},v))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reviewNotes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute top-3 left-3 pointer-events-none",children:s.jsx(rs,{className:"h-5 w-5 text-gray-400"})}),s.jsx("textarea",{id:"reviewNotes",rows:3,value:c,onChange:y=>d(y.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add any notes about your review content or creative approach..."})]})]}),u&&s.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-2 rounded mb-2 text-sm flex items-center space-x-2",children:[s.jsx(os,{className:"w-5 h-5"}),s.jsx("span",{children:u})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",disabled:a,children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:a||!l.length,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[a?s.jsxs("svg",{className:"animate-spin h-5 w-5 text-white mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}):s.jsx(us,{className:"h-4 w-4"}),s.jsx("span",{children:a?"Submitting...":"Submit Review"})]})]})]})]})})},eT=()=>{const{user:e}=Ae(),{orders:t,setOrders:r,campaigns:n}=xe(),[a,i]=w.useState(""),[l,o]=w.useState("all"),[c,d]=w.useState(null),[u,f]=w.useState(null),h=t.filter(k=>k.talentId===(e==null?void 0:e.id)),m=n.filter(k=>k.applicants.includes((e==null?void 0:e.id)||"")&&!k.approvedTalents.includes((e==null?void 0:e.id)||"")),x=h.filter(k=>{const A=k.campaignTitle.toLowerCase().includes(a.toLowerCase())||k.productName.toLowerCase().includes(a.toLowerCase()),O=l==="all"||k.status===l;return A&&O}),g=k=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(k),b=k=>{switch(k){case"pending_shipment":return"bg-yellow-100 text-yellow-800";case"shipped":return"bg-blue-100 text-blue-800";case"delivered":return"bg-purple-100 text-purple-800";case"review_submitted":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},p=k=>{switch(k){case"pending_shipment":return s.jsx(Lt,{className:"h-4 w-4"});case"shipped":return s.jsx(Jr,{className:"h-4 w-4"});case"delivered":return s.jsx(Gr,{className:"h-4 w-4"});case"review_submitted":return s.jsx(Q,{className:"h-4 w-4"});case"completed":return s.jsx(Q,{className:"h-4 w-4"});default:return s.jsx(Pe,{className:"h-4 w-4"})}},y=k=>{switch(k){case"pending_shipment":return"Waiting for Shipment";case"shipped":return"Product Shipped";case"delivered":return"Product Delivered";case"review_submitted":return"Review Submitted";case"completed":return"Job Completed";default:return k}},v=k=>{switch(k){case"pending_shipment":return"The founder is preparing to ship the product to you.";case"shipped":return"The product has been shipped. Check tracking details below.";case"delivered":return"Product delivered! You can now start creating your review content.";case"review_submitted":return"Your review has been submitted and is being reviewed.";case"completed":return"Job completed successfully. Payment has been processed.";default:return""}},S=k=>k.status==="delivered"&&!k.reviewSubmission,j=k=>{f(k)},N=(k,A)=>{r(t.map(O=>O.id===k?{...O,status:"review_submitted",reviewSubmission:{mediaUrl:A.mediaUrl,mediaType:A.mediaType,submittedAt:new Date}}:O)),f(null)},_=k=>{switch(k){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Jobs"}),s.jsx("p",{className:"text-gray-600",children:"Track your approved jobs and active orders"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500",children:s.jsx(Q,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:m.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-yellow-500",children:s.jsx(Lt,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Waiting Shipment"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:h.filter(k=>k.status==="pending_shipment").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500",children:s.jsx(Jr,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Transit"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:h.filter(k=>k.status==="shipped").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500",children:s.jsx(Gr,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ready to Review"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:h.filter(k=>k.status==="delivered").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gray-500",children:s.jsx(Q,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:h.filter(k=>k.status==="completed").length})]})]})})]}),m.length>0&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Q,{className:"h-6 w-6 text-green-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Recently Approved Jobs"}),s.jsx("p",{className:"text-green-700 text-sm",children:"Congratulations! You've been approved for these campaigns. The founder will create orders soon."})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:m.map(k=>s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:k.title}),s.jsx("p",{className:"text-gray-600 text-sm",children:k.productName})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_(k.rateLevel)}`,children:[k.rateLevel," Star"]}),s.jsx("span",{className:"text-xs text-gray-500",children:k.category})]})]}),s.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-2",children:k.description}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ke,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"Approved recently"})]}),s.jsx("div",{className:"flex items-center font-semibold text-green-600",children:s.jsx("span",{children:g(k.price)})})]})]},k.id))})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search jobs by campaign or product...",value:a,onChange:k=>i(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:l,onChange:k=>o(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending_shipment",children:"Waiting Shipment"}),s.jsx("option",{value:"shipped",children:"In Transit"}),s.jsx("option",{value:"delivered",children:"Ready to Review"}),s.jsx("option",{value:"review_submitted",children:"Review Submitted"}),s.jsx("option",{value:"completed",children:"Completed"})]})]})]}),x.length>0?s.jsx("div",{className:"space-y-4",children:x.map(k=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:k.campaignTitle}),s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center space-x-1 ${b(k.status)}`,children:[p(k.status),s.jsx("span",{children:y(k.status)})]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:v(k.status)}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Product: ",s.jsx("span",{className:"font-medium text-gray-900",children:k.productName})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Payout: ",s.jsx("span",{className:"font-medium text-green-600",children:g(k.payout)})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Order Created: ",k.createdAt.toLocaleDateString()]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Order ID: #",k.id]})]})]}),k.status==="shipped"&&k.deliveryInfo&&k.deliveryInfo.trackingNumber&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Tracking Information"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700",children:"Tracking Number:"}),s.jsx("span",{className:"ml-2 font-mono",children:k.deliveryInfo.trackingNumber})]}),k.deliveryInfo.courier&&s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700",children:"Courier:"}),s.jsx("span",{className:"ml-2",children:k.deliveryInfo.courier})]})]})]}),k.status==="delivered"&&s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"Ready for Review"}),s.jsx("p",{className:"text-sm text-purple-700 mb-3",children:"Your product has been delivered! You can now create and submit your review content."}),S(k)?s.jsxs("button",{onClick:()=>j(k),className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[s.jsx(us,{className:"h-4 w-4 mr-2"}),"Submit Review"]}):s.jsx("div",{className:"text-sm text-purple-600",children:" Review already submitted"})]}),k.status==="review_submitted"&&k.reviewSubmission&&s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Review Submitted"}),s.jsxs("p",{className:"text-sm text-green-700 mb-2",children:["Your review was submitted on ",new Date(k.reviewSubmission.submittedAt).toLocaleDateString()]}),s.jsx("div",{className:"text-sm text-green-600",children:"Status: Under review by the founder"})]}),k.status==="completed"&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Job Completed"}),s.jsx("p",{className:"text-sm text-gray-700",children:"This job has been completed successfully. Payment has been processed and added to your earnings."})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>d(k),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(rn,{className:"h-4 w-4"})}),S(k)&&s.jsxs("button",{onClick:()=>j(k),className:"px-3 py-1 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors flex items-center space-x-1",children:[s.jsx(us,{className:"h-3 w-3"}),s.jsx("span",{children:"Submit Review"})]})]})]})},k.id))}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(Pe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:m.length>0?"No active orders yet":"No jobs found"}),s.jsx("p",{className:"text-sm",children:a||l!=="all"?"Try adjusting your search or filters":m.length>0?"Your approved jobs will become orders once founders ship the products":"Jobs will appear here when founders approve your applications and create orders"})]})}),c&&s.jsx(Q4,{job:c,onClose:()=>d(null)}),u&&s.jsx(Z4,{job:u,onClose:()=>f(null),onSuccess:N})]})},Oi=e=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(e),tT=({review:e,onClose:t,onApprove:r,onReject:n})=>{Ae();const{messages:a,setMessages:i}=xe(),[l,o]=w.useState(!1),[c,d]=w.useState(0),u=a.filter(y=>y.jobId===e.id),f=y=>{switch(y){case"delivered":return"bg-purple-100 text-purple-800";case"review_submitted":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},h=y=>{switch(y){case"delivered":return"Awaiting Review";case"review_submitted":return"Review Submitted";case"completed":return"Completed";default:return y}},m=()=>{r==null||r(),t()},x=()=>{n==null||n(),t()},g=y=>{d(y),o(!0)},b=()=>o(!1),p=e.reviewSubmission&&Array.isArray(e.reviewSubmission.media)&&e.reviewSubmission.media.length>0;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Review Details"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.campaignTitle}),s.jsxs("p",{className:"text-gray-600",children:["Order #",e.id]})]}),s.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${f(e.status)}`,children:h(e.status)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Pe,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Product"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.productName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Xr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Talent"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.talentName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ie,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Payout"}),s.jsxs("p",{className:"font-medium text-green-600",children:["RM",e.payout]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ke,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Order Created"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.createdAt.toLocaleDateString()})]})]}),e.reviewSubmission&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(rs,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Review Submitted"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.reviewSubmission.submittedAt.toLocaleDateString()})]})]})]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Progress Timeline"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 text-white flex items-center justify-center",children:s.jsx(Pe,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Product Delivered"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Product successfully delivered to talent"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e.reviewSubmission?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(rs,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Review Content"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.reviewSubmission?"Media submitted":"Waiting for talent to submit review content"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e.status==="completed"?"bg-green-500 text-white":e.status==="review_submitted"?"bg-yellow-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(Ce,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Review Approval"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.status==="completed"?"Review approved and job completed":e.status==="review_submitted"?"Pending your approval":"Waiting for review submission"})]})]})]})]}),e.status==="review_submitted"&&s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Breakdown"}),s.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 rounded-lg p-5 border border-yellow-200",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ie,{className:"h-5 w-5 text-yellow-600 mr-2"}),s.jsx("span",{className:"text-yellow-800 font-medium",children:"Talent Payment"})]}),s.jsx("span",{className:"font-bold text-yellow-900",children:Oi(e.payout)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ce,{className:"h-5 w-5 text-yellow-600 mr-2"}),s.jsx("span",{className:"text-yellow-800 font-medium",children:"Admin Fee (10%)"})]}),s.jsx("span",{className:"font-bold text-yellow-900",children:Oi(e.payout*.1)})]}),s.jsxs("div",{className:"border-t border-yellow-300 pt-3 mt-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ie,{className:"h-5 w-5 text-yellow-700 mr-2"}),s.jsx("span",{className:"text-yellow-900 font-semibold",children:"Total Deduction"})]}),s.jsx("span",{className:"font-bold text-lg text-yellow-900",children:Oi(e.payout*1.1)})]}),s.jsxs("p",{className:"text-xs text-yellow-700 mt-2",children:["This amount will be deducted from your wallet balance upon approval. The talent will receive ",Oi(e.payout)," and ",Oi(e.payout*.1)," will be charged as platform fee."]})]})]})})]}),p&&s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Submitted Review Content"}),s.jsx("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.reviewSubmission.media.map((y,v)=>y.type==="image"?s.jsx("img",{src:y.url,alt:`Review submission ${v+1}`,className:"w-full h-48 object-cover rounded-lg border border-green-200 cursor-pointer",onClick:()=>g(v)},v):s.jsx("video",{src:y.url,controls:!0,className:"w-full h-48 rounded-lg border border-green-200 cursor-pointer",onClick:()=>g(v)},v))})})]}),l&&p&&s.jsxs("div",{className:"fixed inset-0 z-[100] bg-black bg-opacity-80 flex flex-col items-center justify-center transition-all",children:[s.jsx("button",{className:"absolute top-6 right-6 text-white text-2xl",onClick:b,"aria-label":"Close",children:s.jsx(Te,{className:"w-10 h-10"})}),s.jsx("div",{className:"max-w-3xl max-h-[80vh] flex items-center justify-center",children:e.reviewSubmission.media[c].type==="image"?s.jsx("img",{src:e.reviewSubmission.media[c].url,alt:`Review submission ${c+1}`,className:"max-h-[80vh] max-w-full rounded-lg shadow-lg"}):s.jsx("video",{src:e.reviewSubmission.media[c].url,controls:!0,autoPlay:!0,className:"max-h-[80vh] max-w-full rounded-lg shadow-lg"})}),e.reviewSubmission.media.length>1&&s.jsx("div",{className:"mt-6 flex space-x-4",children:e.reviewSubmission.media.map((y,v)=>s.jsx("button",{className:`w-16 h-16 rounded border-2 ${c===v?"border-blue-400":"border-transparent"}`,onClick:()=>d(v),children:y.type==="image"?s.jsx("img",{src:y.url,alt:"",className:"w-full h-full object-cover rounded"}):s.jsx("video",{src:y.url,className:"w-full h-full object-cover rounded"})},v))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"}),e.status==="review_submitted"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:x,className:"px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(hN,{className:"h-4 w-4"}),s.jsx("span",{children:"Request Revision"})]}),s.jsxs("button",{onClick:m,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(mN,{className:"h-4 w-4"}),s.jsx("span",{children:"Approve Review"})]})]})]})]}),s.jsx(og,{jobId:e.id,recipientName:e.talentName,recipientRole:"talent",messages:u})]})})},rT=()=>{const{user:e,updateProfile:t}=Ae(),{orders:r,setOrders:n,earnings:a,setEarnings:i,transactions:l,setTransactions:o,refreshData:c}=xe(),[d,u]=w.useState(""),[f,h]=w.useState("all"),[m,x]=w.useState(null),[g,b]=w.useState(!1),p=r.filter(P=>P.founderId===(e==null?void 0:e.id)&&(P.status==="delivered"||P.status==="review_submitted"||P.status==="completed")),y=p.filter(P=>{const C=P.talentName.toLowerCase().includes(d.toLowerCase())||P.campaignTitle.toLowerCase().includes(d.toLowerCase())||P.productName.toLowerCase().includes(d.toLowerCase()),E=f==="all"||P.status===f;return C&&E}),v=P=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(P),S=P=>{switch(P){case"delivered":return"bg-purple-100 text-purple-800";case"review_submitted":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},j=P=>{switch(P){case"delivered":return s.jsx(Lt,{className:"h-4 w-4"});case"review_submitted":return s.jsx(rs,{className:"h-4 w-4"});case"completed":return s.jsx(Q,{className:"h-4 w-4"});default:return s.jsx(Pe,{className:"h-4 w-4"})}},N=P=>{switch(P){case"delivered":return"Awaiting Review";case"review_submitted":return"Review Submitted";case"completed":return"Completed";default:return P}},_=P=>{switch(P){case"delivered":return"Product delivered! Waiting for talent to submit review content.";case"review_submitted":return"Review content submitted and ready for your approval.";case"completed":return"Review approved and talent has been paid.";default:return""}},k=async P=>{b(!0);try{const C=r.find(U=>U.id===P);if(!C)return;const E=C.payout,F=E*.1,z=E+F;await Cl(P,{status:"completed"}),await w4({talentId:C.talentId,orderId:C.id,campaignTitle:C.campaignTitle,amount:C.payout,status:"paid",paidAt:new Date}),await al({userId:C.talentId,type:"credit",amount:E,description:`Payment Received - ${C.campaignTitle}`,relatedJobId:P}),await al({userId:C.founderId,type:"debit",amount:z,description:`Campaign Payout - ${C.campaignTitle} (includes 10% admin fee)`,relatedJobId:P}),await al({userId:"066e9f3d-9570-405e-8a43-ab1ed542e9a7",type:"credit",amount:F,description:`Admin Fee (10%) - ${C.campaignTitle}`,relatedJobId:P});const M=e;if(M&&t){const U={...M,walletBalance:M.walletBalance-z};await t(U)}await c()}catch(C){alert("Failed to approve review. Please try again."),console.error("handleApproveReview error:",C)}finally{b(!1)}},A=async P=>{const C=r.find(E=>E.id===P);if(C)try{if(C.reviewSubmission&&Array.isArray(C.reviewSubmission.media)&&C.reviewSubmission.media.length>0)for(const E of C.reviewSubmission.media)E.url&&await _4(C.id,E.url);await Cl(P,{status:"delivered",review_media:null,review_submitted_at:null}),n(E=>E.map(F=>F.id===P?{...F,status:"delivered",reviewSubmission:void 0}:F)),typeof c=="function"&&await c()}catch(E){alert("Failed to reject review: "+(E.message||E)),console.error("handleRejectReview error:",E)}},O=P=>{const E=Math.abs(new Date().getTime()-P.getTime());return Math.ceil(E/(1e3*60*60*24))};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reviews"}),s.jsx("p",{className:"text-gray-600",children:"Monitor talent job progress and review submissions"})]})}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ce,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"Payment Information"}),s.jsx("p",{className:"text-sm text-blue-700",children:"When you approve a review, the talent will receive their payment as shown in the campaign price. Additionally, a 10% admin fee will be charged to support platform operations."})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:s.jsx(Lt,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Awaiting Reviews"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.filter(P=>P.status==="delivered").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:s.jsx(rs,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.filter(P=>P.status==="review_submitted").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:s.jsx(Q,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.filter(P=>P.status==="completed").length})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search by talent, campaign, or product...",value:d,onChange:P=>u(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:f,onChange:P=>h(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"delivered",children:"Awaiting Review"}),s.jsx("option",{value:"review_submitted",children:"Review Submitted"}),s.jsx("option",{value:"completed",children:"Completed"})]})]})]}),y.length>0?s.jsx("div",{className:"space-y-4",children:y.map(P=>{const C=P.payout,E=C*.1,F=C+E;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:P.campaignTitle}),s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center space-x-1 ${S(P.status)}`,children:[j(P.status),s.jsx("span",{children:N(P.status)})]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:_(P.status)}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Product: ",s.jsx("span",{className:"font-medium text-gray-900",children:P.productName})]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Xr,{className:"h-4 w-4 text-gray-400 mr-1"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Talent: ",s.jsx("span",{className:"font-medium text-gray-900",children:P.talentName})]})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Talent Payment: ",s.jsx("span",{className:"font-medium text-green-600",children:v(C)})]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(ke,{className:"h-4 w-4 text-gray-400 mr-1"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Delivered: ",O(P.createdAt)," days ago"]})]})]})]}),P.status==="review_submitted"&&s.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[s.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Payment Breakdown (upon approval):"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-yellow-700",children:"Talent Payment:"}),s.jsx("span",{className:"font-medium text-yellow-900",children:v(C)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-yellow-700",children:"Admin Fee (10%):"}),s.jsx("span",{className:"font-medium text-yellow-900",children:v(E)})]}),s.jsx("div",{className:"border-t border-yellow-300 pt-1 mt-2",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-yellow-800",children:"Total Deduction:"}),s.jsx("span",{className:"font-bold text-yellow-900",children:v(F)})]})})]})]}),s.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Product Delivered"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${P.reviewSubmission?"bg-green-500":"bg-gray-300"}`}),s.jsx("span",{className:"text-sm text-gray-600",children:"Review Submitted"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${P.status==="completed"?"bg-green-500":"bg-gray-300"}`}),s.jsx("span",{className:"text-sm text-gray-600",children:"Approved"})]})]})})}),P.reviewSubmission&&s.jsx("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Review Content Submitted"}),s.jsxs("p",{className:"text-sm text-green-700 mb-3",children:["Submitted on ",P.reviewSubmission.submittedAt.toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[P.reviewSubmission.mediaType==="image"?s.jsx("img",{src:P.reviewSubmission.mediaUrl,alt:"Review submission",className:"w-20 h-20 object-cover rounded-lg border border-green-200"}):s.jsx("video",{src:P.reviewSubmission.mediaUrl,className:"w-20 h-20 rounded-lg border border-green-200",controls:!0}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-green-700 capitalize",children:[P.reviewSubmission.mediaType," content"]}),s.jsx("p",{className:"text-xs text-green-600",children:"Ready for your review and approval"})]})]})]})})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>x(P),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(rn,{className:"h-4 w-4"})}),P.status==="review_submitted"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>k(P.id),className:"px-3 py-1 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors flex items-center space-x-1",title:"Approve Review",children:[s.jsx(mN,{className:"h-3 w-3"}),s.jsx("span",{children:"Approve"})]}),s.jsxs("button",{onClick:()=>A(P.id),className:"px-3 py-1 text-sm text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors flex items-center space-x-1",title:"Request Revision",children:[s.jsx(hN,{className:"h-3 w-3"}),s.jsx("span",{children:"Revise"})]})]})]})]})},P.id)})}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(rs,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No reviews found"}),s.jsx("p",{className:"text-sm",children:d||f!=="all"?"Try adjusting your search or filters":"Reviews will appear here after products are delivered to talents"})]})}),m&&s.jsx(tT,{review:m,onClose:()=>x(null),onApprove:()=>k(m.id),onReject:()=>A(m.id)})]})},nT=({onClose:e,onSuccess:t,currentBalance:r,loading:n})=>{const[a,i]=w.useState(""),[l,o]=w.useState("credit_card"),[c,d]=w.useState({number:"",expiry:"",cvv:"",name:""}),u=[50,100,250,500,1e3,2500],f=g=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(g),h=g=>{i(g.toString())},m=g=>{const{name:b,value:p}=g.target;if(b==="number"){const y=p.replace(/\s/g,"").replace(/(.{4})/g,"$1 ").trim();y.length<=19&&d(v=>({...v,[b]:y}))}else if(b==="expiry"){const y=p.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1/$2");y.length<=5&&d(v=>({...v,[b]:y}))}else b==="cvv"?p.length<=4&&/^\d*$/.test(p)&&d(y=>({...y,[b]:p})):d(y=>({...y,[b]:p}))},x=async g=>{g.preventDefault();const b=parseFloat(a);if(!b||b<=0){alert("Please enter a valid amount");return}if(b<10){alert("Minimum top-up amount is RM10");return}if(b>1e4){alert("Maximum top-up amount is RM10,000");return}t(b)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Top Up Wallet"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Current Balance"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:f(r)})]}),s.jsx("div",{className:"p-3 bg-blue-500 rounded-full",children:s.jsx(ie,{className:"h-6 w-6 text-white"})})]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Top Up Amount *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-400 text-sm",children:"RM"})}),s.jsx("input",{type:"number",id:"amount",value:a,onChange:g=>i(g.target.value),min:"10",max:"10000",step:"0.01",required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter amount"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum: RM10 | Maximum: RM10,000"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Quick Amounts"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:u.map(g=>s.jsxs("button",{type:"button",onClick:()=>h(g),className:`px-3 py-2 text-sm border rounded-lg transition-colors ${a===g.toString()?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:["RM",g]},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Method"}),s.jsx("div",{className:"space-y-2",children:s.jsxs("label",{className:"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"credit_card",checked:l==="credit_card",onChange:g=>o(g.target.value),className:"text-blue-600 focus:ring-blue-500"}),s.jsx(Fc,{className:"h-5 w-5 text-gray-400 ml-3 mr-3"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Credit/Debit Card"})]})})]}),l==="credit_card"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cardName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cardholder Name *"}),s.jsx("input",{type:"text",id:"cardName",name:"name",value:c.name,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ahmad Bin Ali"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number *"}),s.jsx("input",{type:"text",id:"cardNumber",name:"number",value:c.number,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1234 5678 9012 3456"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"expiry",className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date *"}),s.jsx("input",{type:"text",id:"expiry",name:"expiry",value:c.expiry,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"MM/YY"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cvv",className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV *"}),s.jsx("input",{type:"text",id:"cvv",name:"cvv",value:c.cvv,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"123"})]})]})]}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(lm,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Secure Payment"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Your payment information is encrypted and secure. We use industry-standard SSL encryption."})]})]})}),a&&parseFloat(a)>0&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Transaction Summary"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Top Up Amount:"}),s.jsx("span",{className:"font-medium",children:f(parseFloat(a))})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Processing Fee:"}),s.jsx("span",{className:"font-medium",children:"RM0.00"})]}),s.jsx("div",{className:"border-t border-gray-200 pt-1 mt-2",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Total:"}),s.jsx("span",{className:"font-bold text-gray-900",children:f(parseFloat(a))})]})}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[s.jsx("span",{children:"New Balance:"}),s.jsx("span",{children:f(r+parseFloat(a))})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:n||!a||parseFloat(a)<=0,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Processing..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ol,{className:"h-4 w-4"}),s.jsxs("span",{children:["Top Up ",a?f(parseFloat(a)):"Wallet"]})]})})]})]})]})})},sT=()=>{const{user:e,updateProfile:t}=Ae(),{transactions:r,refreshData:n}=xe(),[a,i]=w.useState(""),[l,o]=w.useState("all"),[c,d]=w.useState(!1),[u,f]=w.useState(!1),h=e,m=r.filter(k=>k.user_id===h.id||k.userId===h.id),x=m.filter(k=>{const A=k.description.toLowerCase().includes(a.toLowerCase()),O=l==="all"||k.type===l;return A&&O}),g=k=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(k),b=(k,A)=>k==="credit"?A.toLowerCase().includes("top up")||A.toLowerCase().includes("deposit")?s.jsx(Tv,{className:"h-5 w-5 text-green-600"}):s.jsx(wn,{className:"h-5 w-5 text-green-600"}):A.toLowerCase().includes("campaign")||A.toLowerCase().includes("payout")?s.jsx(Pe,{className:"h-5 w-5 text-blue-600"}):s.jsx(sm,{className:"h-5 w-5 text-red-600"}),p=k=>k==="credit"?"text-green-600":"text-red-600",y=k=>k==="credit"?"bg-green-50 border-green-200":"bg-red-50 border-red-200",v=async(k,A)=>{if(!u){f(!0);try{console.log("bl;abla"+A);const O={userId:h.id,type:"credit",amount:k,description:"Wallet Top Up - Credit Card"};console.log("lalu sini"),await al(O),console.log("laulalu");const P={...h,walletBalance:h.walletBalance+k};t==null||t(P),d(!1)}catch{alert("Top-up failed. Please try again.")}finally{f(!1)}}},S=m.filter(k=>k.type==="credit").reduce((k,A)=>k+A.amount,0),j=m.filter(k=>k.type==="debit").reduce((k,A)=>k+A.amount,0),_=m.filter(k=>{const A=new Date(k.createdAt||k.created_at),O=new Date;return A.getMonth()===O.getMonth()&&A.getFullYear()===O.getFullYear()}).filter(k=>k.type==="debit").reduce((k,A)=>k+A.amount,0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"E-Wallet"}),s.jsx("p",{className:"text-gray-600",children:"Manage your wallet balance and view transaction history"})]}),s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors",disabled:u,children:[s.jsx(il,{className:"h-5 w-5"}),s.jsx("span",{children:u?"Processing...":"Top Up"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-blue-800 rounded-2xl p-8 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-blue-100",children:"Current Balance"}),s.jsx("p",{className:"text-4xl font-bold",children:g(h.walletBalance)})]}),s.jsx("div",{className:"p-4 bg-white bg-opacity-20 rounded-full",children:s.jsx(qt,{className:"h-8 w-8"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white bg-opacity-10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(wn,{className:"h-6 w-6 text-green-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-100",children:"Total Credits"}),s.jsx("p",{className:"text-xl font-bold",children:g(S)})]})]})}),s.jsx("div",{className:"bg-white bg-opacity-10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($4,{className:"h-6 w-6 text-red-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-100",children:"Total Spent"}),s.jsx("p",{className:"text-xl font-bold",children:g(j)})]})]})}),s.jsx("div",{className:"bg-white bg-opacity-10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ke,{className:"h-6 w-6 text-yellow-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-100",children:"This Month"}),s.jsx("p",{className:"text-xl font-bold",children:g(_)})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:s.jsx(Tv,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Credits"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.filter(k=>k.type==="credit").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-red-500",children:s.jsx(sm,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Debits"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.filter(k=>k.type==="debit").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:s.jsx($v,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Transactions"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:s.jsx(Ce,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Transaction"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.length>0?g((S+j)/m.length):g(0)})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search transactions...",value:a,onChange:k=>i(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:l,onChange:k=>o(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Transactions"}),s.jsx("option",{value:"credit",children:"Credits Only"}),s.jsx("option",{value:"debit",children:"Debits Only"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Transaction History"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"View all your wallet activities and transactions"})]}),x.length>0?s.jsx("div",{className:"divide-y divide-gray-200",children:x.map(k=>s.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`p-3 rounded-full border ${y(k.type)}`,children:b(k.type,k.description)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:k.description}),s.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(ke,{className:"h-4 w-4 mr-1"}),new Date(k.createdAt||k.created_at).toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Lt,{className:"h-4 w-4 mr-1"}),new Date(k.createdAt||k.created_at).toLocaleTimeString()]}),k.relatedJobId&&s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Pe,{className:"h-4 w-4 mr-1"}),"Order #",k.relatedJobId]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`text-lg font-bold ${p(k.type)}`,children:[k.type==="credit"?"+":"-",g(k.amount)]}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k.type==="credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.type==="credit"?"Credit":"Debit"})]})]})},k.id))}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx($v,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No transactions found"}),s.jsx("p",{className:"text-sm",children:a||l!=="all"?"Try adjusting your search or filters":"Your transaction history will appear here"})]})})]}),c&&s.jsx(nT,{onClose:()=>d(!1),onSuccess:v,currentBalance:h.walletBalance,loading:u})]})},aT=()=>{const{user:e}=Ae(),{earnings:t,transactions:r}=xe(),[n,a]=w.useState(""),[i,l]=w.useState("all"),[o,c]=w.useState("all"),d=e,u=t.filter(j=>j.talentId===d.id);r.filter(j=>j.userId===d.id&&j.type==="credit");const f=u.filter(j=>{const N=j.campaignTitle.toLowerCase().includes(n.toLowerCase()),_=i==="all"||j.status===i;let k=!0;if(o!=="all"){const A=new Date,O=new Date(j.earnedAt);switch(o){case"today":k=O.toDateString()===A.toDateString();break;case"week":const P=new Date(A.getTime()-7*24*60*60*1e3);k=O>=P;break;case"month":k=O.getMonth()===A.getMonth()&&O.getFullYear()===A.getFullYear();break;case"year":k=O.getFullYear()===A.getFullYear();break}}return N&&_&&k}),h=j=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(j),m=j=>{switch(j){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},x=j=>{switch(j){case"paid":return s.jsx(Q,{className:"h-4 w-4"});case"pending":return s.jsx(Lt,{className:"h-4 w-4"});case"cancelled":return s.jsx(X,{className:"h-4 w-4"});default:return s.jsx(Pe,{className:"h-4 w-4"})}},g=u.reduce((j,N)=>j+N.amount,0),b=u.filter(j=>j.status==="paid").reduce((j,N)=>j+N.amount,0),p=u.filter(j=>j.status==="pending").reduce((j,N)=>j+N.amount,0),y=u.filter(j=>{const N=new Date(j.earnedAt),_=new Date;return N.getMonth()===_.getMonth()&&N.getFullYear()===_.getFullYear()}).reduce((j,N)=>j+N.amount,0),v=u.filter(j=>j.status==="paid").length,S=v>0?b/v:0;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Earnings"}),s.jsx("p",{className:"text-gray-600",children:"Track your earnings and payment history"})]})}),s.jsxs("div",{className:"bg-gradient-to-br from-green-600 via-blue-600 to-purple-600 rounded-2xl p-8 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-green-100",children:"Total Earnings"}),s.jsx("p",{className:"text-4xl font-bold",children:h(g)})]}),s.jsx("div",{className:"p-4 bg-white bg-opacity-20 rounded-full",children:s.jsx(ie,{className:"h-8 w-8"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white bg-opacity-10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Q,{className:"h-6 w-6 text-green-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-100",children:"Paid"}),s.jsx("p",{className:"text-xl font-bold",children:h(b)})]})]})}),s.jsx("div",{className:"bg-white bg-opacity-10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Lt,{className:"h-6 w-6 text-yellow-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-yellow-100",children:"Pending"}),s.jsx("p",{className:"text-xl font-bold",children:h(p)})]})]})}),s.jsx("div",{className:"bg-white bg-opacity-10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ke,{className:"h-6 w-6 text-blue-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-100",children:"This Month"}),s.jsx("p",{className:"text-xl font-bold",children:h(y)})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:s.jsx(Q,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Jobs"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:s.jsx(wn,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Earning"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(S)})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:s.jsx(Ce,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"94%"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:s.jsx(Yu,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rate Level"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[d.rateLevel," Star"]})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search earnings by campaign...",value:n,onChange:j=>a(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:i,onChange:j=>l(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]}),s.jsxs("select",{value:o,onChange:j=>c(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Time"}),s.jsx("option",{value:"today",children:"Today"}),s.jsx("option",{value:"week",children:"This Week"}),s.jsx("option",{value:"month",children:"This Month"}),s.jsx("option",{value:"year",children:"This Year"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Earnings History"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"View all your completed jobs and earnings"})]}),f.length>0?s.jsx("div",{className:"divide-y divide-gray-200",children:f.map(j=>s.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`p-3 rounded-full border ${j.status==="paid"?"bg-green-50 border-green-200":j.status==="pending"?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200"}`,children:x(j.status)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:j.campaignTitle}),s.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(ke,{className:"h-4 w-4 mr-1"}),"Earned: ",j.earnedAt.toLocaleDateString()]}),j.paidAt&&s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Q,{className:"h-4 w-4 mr-1"}),"Paid: ",j.paidAt.toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Pe,{className:"h-4 w-4 mr-1"}),"Order #",j.orderId]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-lg font-bold text-green-600",children:h(j.amount)}),s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(j.status)}`,children:[x(j.status),s.jsx("span",{className:"ml-1 capitalize",children:j.status})]})]})]})},j.id))}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(ie,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No earnings found"}),s.jsx("p",{className:"text-sm",children:n||i!=="all"||o!=="all"?"Try adjusting your search or filters":"Your earnings will appear here when you complete jobs"})]})})]})]})},iT=({founder:e,onClose:t,onStatusChange:r})=>{const{campaigns:n,orders:a,transactions:i,talents:l}=xe(),o=p=>{switch(p){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},c=p=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(p),d=p=>{r(e.id,p),t()},u=n.filter(p=>p.founderId===e.id),f=a.filter(p=>p.founderId===e.id),h=i.filter(p=>p.userId===e.id),m=h.reduce((p,y)=>p+Number(y.amount||0),0),x=n.filter(p=>p.founderId===e.id).length,g=[];u.forEach(p=>{g.push({message:`Created campaign "${p.title}"`,timestamp:p.createdAt?new Date(p.createdAt):new Date})}),f.forEach(p=>{p.status==="completed"?g.push({message:`Completed order for "${p.campaignTitle}" (${p.productName})`,timestamp:p.updatedAt||p.createdAt||new Date}):p.status==="delivered"&&g.push({message:`Delivered product for "${p.campaignTitle}"`,timestamp:p.updatedAt||p.createdAt||new Date})}),h.forEach(p=>{p.type==="debit"?g.push({message:`Spent ${c(Number(p.amount))} for "${p.description}"`,timestamp:p.createdAt?new Date(p.createdAt):new Date}):p.type==="credit"&&g.push({message:`Received ${c(Number(p.amount))} - "${p.description}"`,timestamp:p.createdAt?new Date(p.createdAt):new Date})}),f.forEach(p=>{if(p.status==="pending_shipment"){const y=l.find(v=>v.id===p.talentId);g.push({message:`Approved talent ${(y==null?void 0:y.name)||""} for "${p.campaignTitle}"`,timestamp:p.createdAt||new Date})}});const b=g.sort((p,y)=>y.timestamp.getTime()-p.timestamp.getTime()).slice(0,5);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Founder Details"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border-4 border-white shadow-md object-cover",children:e.avatar?s.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):e.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.name}),s.jsx("p",{className:"text-gray-600",children:e.email}),s.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[s.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${o(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),s.jsxs("span",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Cn,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.email})]})]}),e.phone&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ig,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.phone})]})]}),e.company&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Al,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Company"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.company})]})]}),e.address&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Gr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Address"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.address})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Account Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(qt,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Wallet Balance"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:c(e.walletBalance)})]})]})}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ie,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Spent"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:c(m)})]})]})}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($t,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Total Campaigns"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:x})]})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ce,{className:"h-8 w-8 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Average Rating"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"4.8"})]})]})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Account Timeline"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ke,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Account Created"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.createdAt.toLocaleDateString()})]})]}),e.lastLogin&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Q,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Last Login"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.lastLogin.toLocaleDateString()})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Recent Activity"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsx("div",{className:"space-y-2 text-sm text-gray-600",children:b.length>0?b.map((p,y)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:p.message}),s.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:[p.timestamp.toLocaleDateString()," ",p.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]},y)):s.jsx("p",{children:"No recent activity found."})})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"}),e.status==="pending"&&s.jsxs("button",{onClick:()=>d("active"),className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(Q,{className:"h-4 w-4"}),s.jsx("span",{children:"Approve Account"})]}),e.status==="active"&&s.jsxs("button",{onClick:()=>d("suspended"),className:"px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(cs,{className:"h-4 w-4"}),s.jsx("span",{children:"Suspend Account"})]}),e.status==="suspended"&&s.jsxs("button",{onClick:()=>d("active"),className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(Q,{className:"h-4 w-4"}),s.jsx("span",{children:"Reactivate Account"})]})]})]})})},lT=()=>{const{founders:e,setFounders:t,campaigns:r,refreshData:n}=xe(),[a,i]=w.useState(""),[l,o]=w.useState("all"),[c,d]=w.useState(null),[u,f]=w.useState(!1),{transactions:h}=xe(),m=e.filter(j=>{var k;const N=j.name.toLowerCase().includes(a.toLowerCase())||j.email.toLowerCase().includes(a.toLowerCase())||((k=j.company)==null?void 0:k.toLowerCase().includes(a.toLowerCase())),_=l==="all"||j.status===l;return N&&_}),x=j=>{switch(j){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=j=>{switch(j){case"active":return s.jsx(Q,{className:"h-4 w-4"});case"pending":return s.jsx(ke,{className:"h-4 w-4"});case"suspended":return s.jsx(cs,{className:"h-4 w-4"});default:return s.jsx(He,{className:"h-4 w-4"})}},b=async(j,N)=>{try{f(!0),await nm(j,N),t(e.map(_=>_.id===j?{..._,status:N}:_)),await n()}catch(_){console.error("Error updating founder status:",_),alert("Failed to update founder status. Please try again.")}finally{f(!1)}},p=j=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(j),y=j=>{const _=Math.abs(new Date().getTime()-j.getTime());return Math.ceil(_/(1e3*60*60*24))},v=j=>r.filter(N=>N.founderId===j),S=j=>h.filter(N=>N.userId===j&&N.type==="debit").reduce((N,_)=>N+(Number(_.amount)||0),0);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Founders Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage founder accounts and monitor their activities"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:s.jsx(Q,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Founders"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(j=>j.status==="active").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:s.jsx(ke,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(j=>j.status==="pending").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:s.jsx(qt,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Wallet Balance"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p(e.reduce((j,N)=>j+N.walletBalance,0))})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:s.jsx(Al,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Companies"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(j=>j.company).length})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search founders by name, email, or company...",value:a,onChange:j=>i(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:l,onChange:j=>o(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"suspended",children:"Suspended"})]})]})]}),m.length>0?s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Founder"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaigns"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wallet Balance"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(j=>{const N=v(j.id),_=S(j.id);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border-4 border-white shadow-md object-cover",children:j.avatar?s.jsx("img",{src:j.avatar,alt:j.name,className:"w-full h-full object-cover"}):j.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.name}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(Cn,{className:"h-3 w-3 mr-1"}),j.email]})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:j.company||"N/A"}),j.phone&&s.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(ig,{className:"h-3 w-3 mr-1"}),j.phone]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x(j.status)}`,children:[g(j.status),s.jsx("span",{className:"ml-1 capitalize",children:j.status})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:N.length}),s.jsx("div",{className:"text-sm text-gray-500",children:"campaigns"})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-green-600",children:p(j.walletBalance)}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Spent: ",p(_)]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:[y(j.createdAt)," days ago"]}),s.jsx("div",{className:"text-sm text-gray-500",children:j.createdAt.toLocaleDateString()})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("button",{onClick:()=>d(j),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(rn,{className:"h-4 w-4"})}),j.status==="active"?s.jsx("button",{onClick:()=>b(j.id,"suspended"),disabled:u,className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Suspend Account",children:s.jsx(cs,{className:"h-4 w-4"})}):j.status==="suspended"?s.jsx("button",{onClick:()=>b(j.id,"active"),disabled:u,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50",title:"Activate Account",children:s.jsx(Q,{className:"h-4 w-4"})}):s.jsx("button",{onClick:()=>b(j.id,"active"),disabled:u,className:"px-3 py-1 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors disabled:opacity-50",children:"Approve"}),s.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",children:s.jsx(ag,{className:"h-4 w-4"})})]})})]},j.id)})})]})})}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(He,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No founders found"}),s.jsx("p",{className:"text-sm",children:a||l!=="all"?"Try adjusting your search or filters":"No founders have registered yet"})]})}),c&&s.jsx(iT,{founder:c,onClose:()=>d(null),onStatusChange:b})]})},oT=({talent:e,onClose:t,onStatusChange:r})=>{const n=c=>{switch(c){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=c=>{switch(c){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},i=c=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(c),l=c=>{r(e.id,c),t()},o=c=>c.includes(".mp4")||c.includes(".mov")||c.includes(".webm")||c.includes("video")||c.endsWith(".mp4");return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Talent Details"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden flex-shrink-0",children:e.avatar?s.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold",children:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.name}),s.jsx("p",{className:"text-gray-600",children:e.email}),s.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[s.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${n(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),s.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${a(e.rateLevel)}`,children:[e.rateLevel," Star Level"]}),s.jsxs("span",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]})]})]}),e.bio&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"About"}),s.jsx("p",{className:"text-gray-700 leading-relaxed bg-gray-50 p-4 rounded-lg",children:e.bio})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Performance Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ie,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Earnings"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:i(e.totalEarnings)})]})]})}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Q,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Completed Jobs"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:e.completedJobs})]})]})}),s.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ce,{className:"h-8 w-8 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-yellow-600 font-medium",children:"Average Rating"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:e.averageRating>0?e.averageRating.toFixed(1):"N/A"})]})]})}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Yu,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Success Rate"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:e.completedJobs>0?"94%":"N/A"})]})]})})]})]}),e.skills&&e.skills.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Skills & Expertise"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map((c,d)=>s.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm font-medium",children:c},d))})]}),e.socialMedia&&Object.values(e.socialMedia).some(c=>c)&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Social Media"}),s.jsxs("div",{className:"space-y-2",children:[e.socialMedia.instagram&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(eo,{className:"h-5 w-5 text-pink-500"}),s.jsxs("a",{href:`https://instagram.com/${e.socialMedia.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors flex items-center",children:[e.socialMedia.instagram,s.jsx(Uc,{className:"h-3 w-3 ml-1"})]})]}),e.socialMedia.youtube&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ro,{className:"h-5 w-5 text-red-500"}),s.jsxs("a",{href:e.socialMedia.youtube.startsWith("http")?e.socialMedia.youtube:`https://youtube.com/${e.socialMedia.youtube}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors flex items-center",children:[e.socialMedia.youtube,s.jsx(Uc,{className:"h-3 w-3 ml-1"})]})]})]})]}),e.portfolio&&e.portfolio.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Portfolio"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.portfolio.map((c,d)=>s.jsx("div",{className:"relative group",children:o(c)?s.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden relative",children:[s.jsx("video",{src:c,className:"w-full h-full object-cover",controls:!0}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(El,{className:"h-10 w-10 text-white"})})]}):s.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[s.jsx("img",{src:c,alt:`Portfolio ${d+1}`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 rounded-lg flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Qt,{className:"h-6 w-6 text-white"})})})]})},d))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Account Timeline"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ke,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Account Created"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.createdAt.toLocaleDateString()})]})]}),e.lastLogin&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Q,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Last Login"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.lastLogin.toLocaleDateString()})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Recent Activity"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsx("p",{children:' Submitted review for "Tech Product Launch" campaign - 2 days ago'}),s.jsx("p",{children:' Applied to "Fashion Collection Review" campaign - 1 week ago'}),s.jsx("p",{children:' Completed job for "Gaming Headset Review" - 2 weeks ago'}),s.jsx("p",{children:" Updated portfolio with new content - 3 weeks ago"})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"}),e.status==="pending"&&s.jsxs("button",{onClick:()=>l("active"),className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(Q,{className:"h-4 w-4"}),s.jsx("span",{children:"Approve Account"})]}),e.status==="active"&&s.jsxs("button",{onClick:()=>l("suspended"),className:"px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(cs,{className:"h-4 w-4"}),s.jsx("span",{children:"Suspend Account"})]}),e.status==="suspended"&&s.jsxs("button",{onClick:()=>l("active"),className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(Q,{className:"h-4 w-4"}),s.jsx("span",{children:"Reactivate Account"})]})]})]})})},cT=({talent:e,onClose:t,onApprove:r})=>{const[n,a]=w.useState(1),[i,l]=w.useState(!1),o=u=>{switch(u){case 1:return"bg-green-100 text-green-800 border-green-300";case 2:return"bg-blue-100 text-blue-800 border-blue-300";case 3:return"bg-purple-100 text-purple-800 border-purple-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},c=u=>{switch(u){case 1:return"Entry level talent with basic content creation skills. Suitable for simple product reviews and basic social media content.";case 2:return"Intermediate talent with proven content creation experience. Can handle more complex campaigns and has established audience engagement.";case 3:return"Premium talent with exceptional content quality and significant audience reach. Best for high-value campaigns and brand partnerships.";default:return""}},d=async()=>{l(!0);try{await r(e.id,n)}catch(u){console.error("Error approving talent:",u)}finally{l(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Approve Talent Application"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:e.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.name}),s.jsx("p",{className:"text-gray-600",children:e.email}),s.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[s.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Pending Approval"}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Applied: ",e.createdAt.toLocaleDateString()]})]})]})]}),e.bio&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"About"}),s.jsx("p",{className:"text-gray-700 leading-relaxed bg-gray-50 p-4 rounded-lg",children:e.bio})]}),e.skills&&e.skills.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Skills & Expertise"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map((u,f)=>s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:u},f))})]}),e.socialMedia&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Social Media Presence"}),s.jsxs("div",{className:"space-y-2",children:[e.socialMedia.instagram&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(eo,{className:"h-5 w-5 text-pink-500"}),s.jsx("span",{className:"text-gray-700",children:e.socialMedia.instagram})]}),e.socialMedia.youtube&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ro,{className:"h-5 w-5 text-red-500"}),s.jsx("span",{className:"text-gray-700",children:e.socialMedia.youtube})]})]})]}),e.portfolio&&e.portfolio.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Portfolio"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.portfolio.map((u,f)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:u,alt:`Portfolio ${f+1}`,className:"w-full h-32 object-cover rounded-lg border border-gray-200"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 rounded-lg flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Qt,{className:"h-6 w-6 text-white"})})})]},f))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Assign Rate Level"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Select the appropriate rate level based on the talent's experience, portfolio quality, and social media presence."}),s.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>s.jsxs("label",{className:`flex items-start p-4 border-2 rounded-lg cursor-pointer transition-all ${n===u?o(u):"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("input",{type:"radio",name:"rateLevel",value:u,checked:n===u,onChange:f=>a(Number(f.target.value)),className:"mt-1 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("div",{className:"flex",children:[1,2,3].map(f=>s.jsx(Ce,{className:`h-4 w-4 ${f<=u?"text-yellow-400 fill-current":"text-gray-300"}`},f))}),s.jsxs("span",{className:"font-semibold text-gray-900",children:[u," Star Level - ",u===1?"Entry":u===2?"Intermediate":"Premium"]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:c(u)})]})]},u))})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Approval Summary"}),s.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[s.jsxs("p",{children:[" Talent will be approved with ",n," star level"]}),s.jsx("p",{children:" They will gain access to campaigns up to their rate level"}),s.jsx("p",{children:' Account status will change from "Pending" to "Active"'}),s.jsx("p",{children:" Talent will receive email notification of approval"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:d,disabled:i,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s.jsx(Q,{className:"h-4 w-4"}),s.jsx("span",{children:i?"Approving...":`Approve as ${n} Star Talent`})]})]})]})})},uT=()=>{const{talents:e,setTalents:t,refreshData:r,loading:n}=xe(),[a,i]=w.useState(""),[l,o]=w.useState("all"),[c,d]=w.useState("all"),[u,f]=w.useState(null),[h,m]=w.useState(null),[x,g]=w.useState(!1);w.useEffect(()=>{console.log("TalentsPage - talents data:",e),console.log("TalentsPage - talents count:",e.length)},[e]);const b=e.filter(P=>{const C=P.name.toLowerCase().includes(a.toLowerCase())||P.email.toLowerCase().includes(a.toLowerCase())||P.skills.some(z=>z.toLowerCase().includes(a.toLowerCase())),E=l==="all"||P.status===l,F=c==="all"||P.rateLevel.toString()===c;return C&&E&&F}),p=P=>{switch(P){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=P=>{switch(P){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},v=P=>{switch(P){case"active":return s.jsx(Q,{className:"h-4 w-4"});case"pending":return s.jsx(ke,{className:"h-4 w-4"});case"suspended":return s.jsx(cs,{className:"h-4 w-4"});default:return s.jsx(He,{className:"h-4 w-4"})}},S=async(P,C)=>{try{g(!0),console.log("Updating talent status:",P,"to:",C),await nm(P,C),t(e.map(E=>E.id===P?{...E,status:C}:E)),await r(),console.log("Talent status updated successfully")}catch(E){console.error("Error updating talent status:",E),alert("Failed to update talent status. Please try again.")}finally{g(!1)}},j=P=>{m(P)},N=async(P,C)=>{try{g(!0),await nm(P,"active"),await lN(P,{rate_level:C}),t(e.map(E=>E.id===P?{...E,status:"active",rateLevel:C}:E)),m(null),await r()}catch(E){console.error("Error approving talent:",E),alert("Failed to approve talent. Please try again.")}finally{g(!1)}},_=async()=>{console.log("Manually refreshing talent data..."),await r()},k=P=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(P),A=P=>{const E=Math.abs(new Date().getTime()-P.getTime());return Math.ceil(E/(1e3*60*60*24))},O=()=>e.filter(C=>C.status==="active").length===0?0:4.7;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Talents Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage talent accounts and monitor their performance"})]}),s.jsxs("button",{onClick:_,disabled:n,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[s.jsx(Lv,{className:`h-4 w-4 ${n?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:s.jsx(Q,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Talents"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(P=>P.status==="active").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:s.jsx(ke,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(P=>P.status==="pending").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:s.jsx(ie,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Earnings"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k(e.reduce((P,C)=>P+C.totalEarnings,0))})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:s.jsx(Yu,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Rating"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O().toFixed(1)})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search talents by name, email, or skills...",value:a,onChange:P=>i(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:l,onChange:P=>o(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"suspended",children:"Suspended"})]}),s.jsxs("select",{value:c,onChange:P=>d(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Levels"}),s.jsx("option",{value:"1",children:"1 Star"}),s.jsx("option",{value:"2",children:"2 Star"}),s.jsx("option",{value:"3",children:"3 Star"})]})]})]}),n&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading talents..."})]}),!n&&b.length>0?s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Talent"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate Level"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Skills"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Earnings"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(P=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold",children:P.avatar?s.jsx("img",{src:P.avatar,alt:P.name,className:"w-full h-full object-cover"}):P.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(Cn,{className:"h-3 w-3 mr-1"}),P.email]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(P.status)}`,children:[v(P.status),s.jsx("span",{className:"ml-1 capitalize",children:P.status})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y(P.rateLevel)}`,children:[s.jsx(Ce,{className:"h-3 w-3 mr-1"}),P.rateLevel," Star"]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:[P.skills.slice(0,2).join(", "),P.skills.length>2&&` +${P.skills.length-2}`]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[P.skills.length," skill",P.skills.length!==1?"s":""]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-green-600",children:k(P.totalEarnings)}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total earned"})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:[A(P.createdAt)," days ago"]}),s.jsx("div",{className:"text-sm text-gray-500",children:P.createdAt.toLocaleDateString()})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("button",{onClick:()=>f(P),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(rn,{className:"h-4 w-4"})}),P.status==="pending"?s.jsxs("button",{onClick:()=>j(P),disabled:x,className:"px-3 py-1 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors disabled:opacity-50 flex items-center space-x-1",children:[s.jsx(Tl,{className:"h-3 w-3"}),s.jsx("span",{children:x?"Processing...":"Approve"})]}):P.status==="active"?s.jsx("button",{onClick:()=>S(P.id,"suspended"),disabled:x,className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Suspend Account",children:s.jsx(cs,{className:"h-4 w-4"})}):s.jsx("button",{onClick:()=>S(P.id,"active"),disabled:x,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50",title:"Activate Account",children:s.jsx(Q,{className:"h-4 w-4"})}),s.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",children:s.jsx(ag,{className:"h-4 w-4"})})]})})]},P.id))})]})})}):n?null:s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(Ce,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No talents found"}),s.jsx("p",{className:"text-sm mb-4",children:a||l!=="all"||c!=="all"?"Try adjusting your search or filters":"No talents have registered yet"}),s.jsxs("button",{onClick:_,className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Lv,{className:"h-4 w-4"}),s.jsx("span",{children:"Refresh Data"})]})]})}),u&&s.jsx(oT,{talent:u,onClose:()=>f(null),onStatusChange:S}),h&&s.jsx(cT,{talent:h,onClose:()=>m(null),onApprove:N})]})},dT=({campaign:e,onClose:t,onReject:r,onApprove:n})=>{const a=f=>{switch(f){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"draft":return"bg-gray-100 text-gray-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},i=f=>{switch(f){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},l=f=>{switch(f){case"video":return s.jsx(Qr,{className:"h-4 w-4"});case"image":return s.jsx(Qt,{className:"h-4 w-4"});default:return s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(Qt,{className:"h-4 w-4"}),s.jsx(Qr,{className:"h-4 w-4"})]})}},o=f=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(f),c=f=>{switch(f){case"30sec":return"30 Seconds";case"1min":return"1 Minute";case"3min":return"3 Minutes";default:return f}},d=()=>{r==null||r(),t()},u=()=>{n==null||n(),t()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Campaign Details"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.title}),s.jsx("p",{className:"text-gray-600 mt-1",children:e.description}),s.jsxs("div",{className:"flex items-center space-x-3 mt-3",children:[s.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${a(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),s.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${i(e.rateLevel)}`,children:[e.rateLevel," Star Level"]}),s.jsxs("span",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Pe,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Product"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.productName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(lg,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Category"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.category})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Lt,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Duration"}),s.jsx("p",{className:"font-medium text-gray-900",children:c(e.duration)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ie,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Budget"}),s.jsx("p",{className:"font-medium text-green-600",children:o(e.budget)})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[l(e.mediaType),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Media Type"}),s.jsx("p",{className:"font-medium text-gray-900 capitalize",children:e.mediaType})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ke,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Created"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.createdAt.toLocaleDateString()})]})]})]})]}),e.productImages&&e.productImages.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Product Images"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.productImages.map((f,h)=>s.jsx("img",{src:f,alt:`${e.productName} ${h+1}`,className:"w-full h-32 object-cover rounded-lg border border-gray-200"},h))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Application Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(He,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Applicants"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:e.applicants.length})]})]})}),s.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Q,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Approved Talents"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:e.approvedTalents.length})]})]})}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ce,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Success Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[e.applicants.length>0?Math.round(e.approvedTalents.length/e.applicants.length*100):0,"%"]})]})]})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Campaign Performance"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Views"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"2,450"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Applications"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.applicants.length})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Approval Rate"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[e.applicants.length>0?Math.round(e.approvedTalents.length/e.applicants.length*100):0,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Completion Rate"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"85%"})]})]})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Recent Activity"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("p",{children:[" Campaign created by founder - ",Math.ceil((new Date().getTime()-e.createdAt.getTime())/(1e3*60*60*24))," days ago"]}),s.jsx("p",{children:" First application received - 3 days ago"}),s.jsx("p",{children:" Talent approved for campaign - 2 days ago"}),s.jsx("p",{children:" Product shipped to talent - 1 day ago"})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"}),e.status==="active"&&r&&s.jsxs("button",{onClick:d,className:"px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(cs,{className:"h-4 w-4"}),s.jsx("span",{children:"Reject Campaign"})]}),e.status==="draft"&&n&&s.jsxs("button",{onClick:u,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(Q,{className:"h-4 w-4"}),s.jsx("span",{children:"Approve Campaign"})]})]})]})})},fT=()=>{const{campaigns:e,setCampaigns:t}=xe(),[r,n]=w.useState(""),[a,i]=w.useState("all"),[l,o]=w.useState("all"),[c,d]=w.useState(null),u=e.filter(v=>{const S=v.title.toLowerCase().includes(r.toLowerCase())||v.description.toLowerCase().includes(r.toLowerCase())||v.productName.toLowerCase().includes(r.toLowerCase())||v.category.toLowerCase().includes(r.toLowerCase()),j=a==="all"||v.status===a,N=l==="all"||v.rateLevel.toString()===l;return S&&j&&N}),f=v=>{switch(v){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"draft":return"bg-gray-100 text-gray-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},h=v=>{switch(v){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},m=v=>{switch(v){case"active":return s.jsx(Q,{className:"h-4 w-4"});case"paused":return s.jsx(ke,{className:"h-4 w-4"});case"completed":return s.jsx(Q,{className:"h-4 w-4"});case"draft":return s.jsx(ke,{className:"h-4 w-4"});case"rejected":return s.jsx(pN,{className:"h-4 w-4"});default:return s.jsx($t,{className:"h-4 w-4"})}},x=v=>{window.confirm("Are you sure you want to reject this campaign? This action cannot be undone.")&&t(e.map(S=>S.id===v?{...S,status:"rejected"}:S))},g=v=>{t(e.map(S=>S.id===v?{...S,status:"active"}:S))},b=v=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(v),p=v=>{const j=Math.abs(new Date().getTime()-v.getTime());return Math.ceil(j/(1e3*60*60*24))},y=v=>{switch(v){case"30sec":return"30 Seconds";case"1min":return"1 Minute";case"3min":return"3 Minutes";default:return v}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Campaigns Management"}),s.jsx("p",{className:"text-gray-600",children:"Monitor and manage all campaigns on the platform"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:s.jsx(Q,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Campaigns"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(v=>v.status==="active").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:s.jsx(ke,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paused"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(v=>v.status==="paused").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:s.jsx(He,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Applicants"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.reduce((v,S)=>v+S.applicants.length,0)})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:s.jsx(ie,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Budget"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b(e.reduce((v,S)=>v+S.budget,0))})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search campaigns by title, product, or category...",value:r,onChange:v=>n(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:a,onChange:v=>i(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"paused",children:"Paused"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"rejected",children:"Rejected"})]}),s.jsxs("select",{value:l,onChange:v=>o(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Levels"}),s.jsx("option",{value:"1",children:"1 Star"}),s.jsx("option",{value:"2",children:"2 Star"}),s.jsx("option",{value:"3",children:"3 Star"})]})]})]}),u.length>0?s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applicants"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(v=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold",children:v.avatar?s.jsx("img",{src:v.avatar,alt:v.name,className:"w-full h-full object-cover"}):v.title.charAt(0).toUpperCase()}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.title}),s.jsx("div",{className:"text-sm text-gray-500",children:v.productName})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(v.status)}`,children:[m(v.status),s.jsx("span",{className:"ml-1 capitalize",children:v.status})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:v.category}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center space-x-2",children:[s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${h(v.rateLevel)}`,children:[v.rateLevel," Star"]}),s.jsx("span",{children:y(v.duration)})]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:v.applicants.length}),s.jsxs("div",{className:"text-sm text-gray-500",children:[v.approvedTalents.length," approved"]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-green-600",children:b(v.budget)}),s.jsx("div",{className:"text-sm text-gray-500 capitalize",children:v.mediaType})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:[p(v.createdAt)," days ago"]}),s.jsx("div",{className:"text-sm text-gray-500",children:v.createdAt.toLocaleDateString()})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("button",{onClick:()=>d(v),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(rn,{className:"h-4 w-4"})}),v.status==="active"&&s.jsx("button",{onClick:()=>x(v.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Reject Campaign",children:s.jsx(cs,{className:"h-4 w-4"})}),v.status==="draft"&&s.jsx("button",{onClick:()=>g(v.id),className:"px-3 py-1 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors",children:"Approve"}),s.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",children:s.jsx(ag,{className:"h-4 w-4"})})]})})]},v.id))})]})})}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx($t,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No campaigns found"}),s.jsx("p",{className:"text-sm",children:r||a!=="all"||l!=="all"?"Try adjusting your search or filters":"No campaigns have been created yet"})]})}),c&&s.jsx(dT,{campaign:c,onClose:()=>d(null),onReject:()=>x(c.id),onApprove:()=>g(c.id)})]})},hT=()=>{const{orders:e,transactions:t,founders:r,talents:n}=xe(),[a,i]=w.useState(""),[l,o]=w.useState("all"),[c,d]=w.useState("all"),f=(()=>{const N=[];return t.forEach(_=>{var M,U;const k=e.find(I=>I.id===_.relatedJobId),A=(k==null?void 0:k.campaignTitle)||_.description||"",O=n.find(I=>I.id===(k==null?void 0:k.talentId)),P=r.find(I=>I.id===(k==null?void 0:k.founderId));let C="talent_payment";_.type==="credit"&&((M=_.description)!=null&&M.toLowerCase().includes("admin fee"))?C="admin_fee":_.type==="credit"&&((U=_.description)!=null&&U.toLowerCase().includes("wallet top up"))?C="wallet_topup":_.type==="debit"&&(C="campaign_payout");const E="completed",F=C==="talent_payment"?(O==null?void 0:O.name)||(k==null?void 0:k.talentName)||"-":void 0,z=(P==null?void 0:P.name)||(C==="campaign_payout"?P==null?void 0:P.name:void 0);N.push({id:_.id,type:C,orderId:_.relatedJobId||null,campaignTitle:A,talentName:F,founderName:z,amount:Number(_.amount)||0,adminFee:C==="admin_fee"?Number(_.amount)||0:void 0,totalAmount:Number(_.amount)||0,status:E,createdAt:_.createdAt?new Date(_.createdAt):new Date})}),N.sort((_,k)=>k.createdAt.getTime()-_.createdAt.getTime())})(),h=f.filter(N=>{var O,P;const _=N.campaignTitle.toLowerCase().includes(a.toLowerCase())||((O=N.talentName)==null?void 0:O.toLowerCase().includes(a.toLowerCase()))||((P=N.founderName)==null?void 0:P.toLowerCase().includes(a.toLowerCase())),k=l==="all"||N.type===l,A=c==="all"||N.status===c;return _&&k&&A}),m=N=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(N),x=N=>{switch(N){case"talent_payment":return"bg-blue-100 text-blue-800";case"admin_fee":return"bg-green-100 text-green-800";case"wallet_topup":return"bg-purple-100 text-purple-800";case"campaign_payout":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},g=N=>{switch(N){case"talent_payment":return s.jsx(He,{className:"h-4 w-4"});case"admin_fee":return s.jsx(Ce,{className:"h-4 w-4"});case"wallet_topup":return s.jsx(Fc,{className:"h-4 w-4"});case"campaign_payout":return s.jsx(sm,{className:"h-4 w-4"});default:return s.jsx(ie,{className:"h-4 w-4"})}},b=N=>{switch(N){case"talent_payment":return"Talent Payment";case"admin_fee":return"Admin Fee";case"wallet_topup":return"Wallet Top Up";case"campaign_payout":return"Campaign Payout";default:return N}},p=N=>{switch(N){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=f.filter(N=>N.type==="admin_fee").reduce((N,_)=>N+_.amount,0),v=f.filter(N=>N.type==="talent_payment").reduce((N,_)=>N+_.amount,0);f.filter(N=>N.type==="wallet_topup").reduce((N,_)=>N+_.amount,0),f.filter(N=>N.type==="campaign_payout").reduce((N,_)=>N+_.amount,0);const S=f.length,j=f.filter(N=>{const _=new Date(N.createdAt),k=new Date;return N.type==="admin_fee"&&_.getMonth()===k.getMonth()&&_.getFullYear()===k.getFullYear()}).reduce((N,_)=>N+_.amount,0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payments & Revenue"}),s.jsx("p",{className:"text-gray-600",children:"Monitor platform revenue and payment transactions"})]}),s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors",children:[s.jsx(am,{className:"h-5 w-5"}),s.jsx("span",{children:"Export Report"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-600 via-blue-600 to-purple-600 rounded-2xl p-8 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-green-100",children:"Total Platform Revenue"}),s.jsx("p",{className:"text-4xl font-bold",children:m(y)}),s.jsx("p",{className:"text-green-100 text-sm mt-1",children:"10% commission from all completed jobs"})]}),s.jsx("div",{className:"p-4 bg-white bg-opacity-20 rounded-full",children:s.jsx(ie,{className:"h-8 w-8"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white bg-opacity-10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(wn,{className:"h-6 w-6 text-green-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-100",children:"This Month"}),s.jsx("p",{className:"text-xl font-bold",children:m(j)})]})]})}),s.jsx("div",{className:"bg-white bg-opacity-10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(He,{className:"h-6 w-6 text-blue-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-100",children:"Talent Payments"}),s.jsx("p",{className:"text-xl font-bold",children:m(v)})]})]})}),s.jsx("div",{className:"bg-white bg-opacity-10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Fc,{className:"h-6 w-6 text-purple-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-100",children:"Total Transactions"}),s.jsx("p",{className:"text-xl font-bold",children:S})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:s.jsx(Ce,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Admin Fees"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.filter(N=>N.type==="admin_fee").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:s.jsx(He,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Talent Payments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.filter(N=>N.type==="talent_payment").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:s.jsx($t,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Jobs"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(N=>N.status==="completed").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:s.jsx(wn,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Commission"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"10%"})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search by campaign, talent, or founder...",value:a,onChange:N=>i(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:l,onChange:N=>o(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"talent_payment",children:"Talent Payments"}),s.jsx("option",{value:"admin_fee",children:"Admin Fees"}),s.jsx("option",{value:"wallet_topup",children:"Wallet Top Up"}),s.jsx("option",{value:"campaign_payout",children:"Campaign Payouts"})]}),s.jsxs("select",{value:c,onChange:N=>d(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"failed",children:"Failed"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Transactions"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"All platform payment activities and revenue records"})]}),h.length>0?s.jsx("div",{className:"divide-y divide-gray-200",children:h.map(N=>s.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`p-3 rounded-full border ${N.type==="admin_fee"?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"}`,children:g(N.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:N.campaignTitle}),s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x(N.type)}`,children:[g(N.type),s.jsx("span",{className:"ml-1",children:b(N.type)})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ke,{className:"h-4 w-4 mr-1"}),N.createdAt.toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pe,{className:"h-4 w-4 mr-1"}),"Order #",N.orderId]}),N.talentName&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(He,{className:"h-4 w-4 mr-1"}),N.talentName]}),N.type==="talent_payment"&&N.adminFee&&s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx(Ce,{className:"h-4 w-4 mr-1"}),"Admin Fee: ",m(N.adminFee)]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:`text-lg font-bold ${N.type==="admin_fee"?"text-green-600":"text-blue-600"}`,children:m(N.amount)}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(N.status)}`,children:N.status.charAt(0).toUpperCase()+N.status.slice(1)})})]})]})},N.id))}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(ie,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No payments found"}),s.jsx("p",{className:"text-sm",children:a||l!=="all"||c!=="all"?"Try adjusting your search or filters":"Payment records will appear here when jobs are completed"})]})})]})]})};function vN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=vN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function de(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=vN(e))&&(n&&(n+=" "),n+=t);return n}var Gu={},yN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(yN);var cg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(cg);var ug={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(ug);var Ju={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,l="",o="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const d=r[i];o?d==="\\"&&i+1<a?(i++,l+=r[i]):d===o?o="":l+=d:c?d==='"'||d==="'"?o=d:d==="]"?(c=!1,n.push(l),l=""):l+=d:d==="["?(c=!0,l&&(n.push(l),l="")):d==="."?l&&(n.push(l),l=""):l+=d,i++}return l&&n.push(l),n}e.toPath=t})(Ju);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yN,r=cg,n=ug,a=Ju;function i(o,c,d){if(o==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?r.isDeepKey(c)?i(o,a.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const u=o[c];return u===void 0?d:u}default:{if(Array.isArray(c))return l(o,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?d:u}}}function l(o,c,d){if(c.length===0)return d;let u=o;for(let f=0;f<c.length;f++){if(u==null||t.isUnsafeProperty(c[f]))return d;u=u[c[f]]}return u===void 0?d:u}e.get=i})(Gu);var mT=Gu.get;const Qs=kn(mT);var bN={exports:{}},he={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qe=typeof Symbol=="function"&&Symbol.for,dg=Qe?Symbol.for("react.element"):60103,fg=Qe?Symbol.for("react.portal"):60106,Xu=Qe?Symbol.for("react.fragment"):60107,Qu=Qe?Symbol.for("react.strict_mode"):60108,Zu=Qe?Symbol.for("react.profiler"):60114,ed=Qe?Symbol.for("react.provider"):60109,td=Qe?Symbol.for("react.context"):60110,hg=Qe?Symbol.for("react.async_mode"):60111,rd=Qe?Symbol.for("react.concurrent_mode"):60111,nd=Qe?Symbol.for("react.forward_ref"):60112,sd=Qe?Symbol.for("react.suspense"):60113,pT=Qe?Symbol.for("react.suspense_list"):60120,ad=Qe?Symbol.for("react.memo"):60115,id=Qe?Symbol.for("react.lazy"):60116,gT=Qe?Symbol.for("react.block"):60121,xT=Qe?Symbol.for("react.fundamental"):60117,vT=Qe?Symbol.for("react.responder"):60118,yT=Qe?Symbol.for("react.scope"):60119;function ir(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case dg:switch(e=e.type,e){case hg:case rd:case Xu:case Zu:case Qu:case sd:return e;default:switch(e=e&&e.$$typeof,e){case td:case nd:case id:case ad:case ed:return e;default:return t}}case fg:return t}}}function wN(e){return ir(e)===rd}he.AsyncMode=hg;he.ConcurrentMode=rd;he.ContextConsumer=td;he.ContextProvider=ed;he.Element=dg;he.ForwardRef=nd;he.Fragment=Xu;he.Lazy=id;he.Memo=ad;he.Portal=fg;he.Profiler=Zu;he.StrictMode=Qu;he.Suspense=sd;he.isAsyncMode=function(e){return wN(e)||ir(e)===hg};he.isConcurrentMode=wN;he.isContextConsumer=function(e){return ir(e)===td};he.isContextProvider=function(e){return ir(e)===ed};he.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dg};he.isForwardRef=function(e){return ir(e)===nd};he.isFragment=function(e){return ir(e)===Xu};he.isLazy=function(e){return ir(e)===id};he.isMemo=function(e){return ir(e)===ad};he.isPortal=function(e){return ir(e)===fg};he.isProfiler=function(e){return ir(e)===Zu};he.isStrictMode=function(e){return ir(e)===Qu};he.isSuspense=function(e){return ir(e)===sd};he.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xu||e===rd||e===Zu||e===Qu||e===sd||e===pT||typeof e=="object"&&e!==null&&(e.$$typeof===id||e.$$typeof===ad||e.$$typeof===ed||e.$$typeof===td||e.$$typeof===nd||e.$$typeof===xT||e.$$typeof===vT||e.$$typeof===yT||e.$$typeof===gT)};he.typeOf=ir;bN.exports=he;var bT=bN.exports,Et=e=>e===0?0:e>0?1:-1,Zt=e=>typeof e=="number"&&e!=+e,$s=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,H=e=>(typeof e=="number"||e instanceof Number)&&!Zt(e),Zr=e=>H(e)||typeof e=="string",wT=0,Ya=e=>{var t=++wT;return"".concat(e||"").concat(t)},Rr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!H(t)&&typeof t!="string")return n;var i;if($s(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return Zt(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},jN=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Er=(e,t)=>H(e)&&H(t)?r=>e+r*(t-e):()=>t;function mg(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Qs(n,t))===r)}var ge=e=>e===null||typeof e>"u",no=e=>ge(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),jT=["viewBox","children"],NT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Rv=["points","pathLength"],Tf={svg:jT,polygon:Rv,polyline:Rv},pg=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gg=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{pg.includes(a)&&(n[a]=i=>r[a](r,i))}),n},ST=(e,t,r)=>n=>(e(t,r,n),null),ld=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];pg.includes(a)&&typeof i=="function"&&(n||(n={}),n[a]=ST(i,t,r))}),n},Fv=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Uv=null,Mf=null,NN=e=>{if(e===Uv&&Array.isArray(Mf))return Mf;var t=[];return w.Children.forEach(e,r=>{ge(r)||(bT.isFragment(r)?t=t.concat(NN(r.props.children)):t.push(r))}),Mf=t,Uv=e,t};function xg(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Fv(a)):n=[Fv(t)],NN(e).forEach(a=>{var i=Qs(a,"type.displayName")||Qs(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var SN=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,_T=(e,t,r,n)=>{var a,i=(a=n&&(Tf==null?void 0:Tf[n]))!==null&&a!==void 0?a:[];return t.startsWith("data-")||typeof e!="function"&&(n&&i.includes(t)||NT.includes(t))||r&&pg.includes(t)},ue=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var l;_T((l=n)===null||l===void 0?void 0:l[i],i,t,r)&&(a[i]=n[i])}),a},kT=["children","width","height","viewBox","className","style","title","desc"];function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},om.apply(null,arguments)}function PT(e,t){if(e==null)return{};var r,n,a=CT(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CT(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vg=w.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:l,style:o,title:c,desc:d}=e,u=PT(e,kT),f=i||{width:n,height:a,x:0,y:0},h=de("recharts-surface",l);return w.createElement("svg",om({},ue(u,!0,"svg"),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,c),w.createElement("desc",null,d),r)}),AT=["children","className"];function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cm.apply(null,arguments)}function OT(e,t){if(e==null)return{};var r,n,a=ET(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ET(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var er=w.forwardRef((e,t)=>{var{children:r,className:n}=e,a=OT(e,AT),i=de("recharts-layer",n);return w.createElement("g",cm({className:i},ue(a,!0),{ref:t}),r)}),_N=w.createContext(null),TT=()=>w.useContext(_N);function we(e){return function(){return e}}const kN=Math.cos,Bc=Math.sin,Ur=Math.sqrt,zc=Math.PI,od=2*zc,um=Math.PI,dm=2*um,As=1e-6,MT=dm-As;function PN(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function IT(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return PN;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class DT{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?PN:IT(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=n-t,d=a-r,u=l-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>As)if(!(Math.abs(f*c-d*u)>As)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-l,x=a-o,g=c*c+d*d,b=m*m+x*x,p=Math.sqrt(g),y=Math.sqrt(h),v=i*Math.tan((um-Math.acos((g+h-b)/(2*p*y)))/2),S=v/y,j=v/p;Math.abs(S-1)>As&&this._append`L${t+S*u},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*m>u*x)},${this._x1=t+j*c},${this._y1=r+j*d}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),d=t+o,u=r+c,f=1^l,h=l?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>As||Math.abs(this._y1-u)>As)&&this._append`L${d},${u}`,n&&(h<0&&(h=h%dm+dm),h>MT?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=d},${this._y1=u}`:h>As&&this._append`A${n},${n},0,${+(h>=um)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function yg(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new DT(t)}function bg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function CN(e){this._context=e}CN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cd(e){return new CN(e)}function AN(e){return e[0]}function ON(e){return e[1]}function EN(e,t){var r=we(!0),n=null,a=cd,i=null,l=yg(o);e=typeof e=="function"?e:e===void 0?AN:we(e),t=typeof t=="function"?t:t===void 0?ON:we(t);function o(c){var d,u=(c=bg(c)).length,f,h=!1,m;for(n==null&&(i=a(m=l())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,d,c),+t(f,d,c));if(m)return i=null,m+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:we(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:we(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:we(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function Fo(e,t,r){var n=null,a=we(!0),i=null,l=cd,o=null,c=yg(d);e=typeof e=="function"?e:e===void 0?AN:we(+e),t=typeof t=="function"?t:we(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ON:we(+r);function d(f){var h,m,x,g=(f=bg(f)).length,b,p=!1,y,v=new Array(g),S=new Array(g);for(i==null&&(o=l(y=c())),h=0;h<=g;++h){if(!(h<g&&a(b=f[h],h,f))===p)if(p=!p)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=h-1;x>=m;--x)o.point(v[x],S[x]);o.lineEnd(),o.areaEnd()}p&&(v[h]=+e(b,h,f),S[h]=+t(b,h,f),o.point(n?+n(b,h,f):v[h],r?+r(b,h,f):S[h]))}if(y)return o=null,y+""||null}function u(){return EN().defined(a).curve(l).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:we(+f),n=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:we(+f),d):e},d.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:we(+f),d):n},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:we(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:we(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:we(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(f){return arguments.length?(a=typeof f=="function"?f:we(!!f),d):a},d.curve=function(f){return arguments.length?(l=f,i!=null&&(o=l(i)),d):l},d.context=function(f){return arguments.length?(f==null?i=o=null:o=l(i=f),d):i},d}class TN{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function $T(e){return new TN(e,!0)}function LT(e){return new TN(e,!1)}const wg={draw(e,t){const r=Ur(t/zc);e.moveTo(r,0),e.arc(0,0,r,0,od)}},RT={draw(e,t){const r=Ur(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},MN=Ur(1/3),FT=MN*2,UT={draw(e,t){const r=Ur(t/FT),n=r*MN;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},BT={draw(e,t){const r=Ur(t),n=-r/2;e.rect(n,n,r,r)}},zT=.8908130915292852,IN=Bc(zc/10)/Bc(7*zc/10),WT=Bc(od/10)*IN,KT=-kN(od/10)*IN,qT={draw(e,t){const r=Ur(t*zT),n=WT*r,a=KT*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=od*i/5,o=kN(l),c=Bc(l);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},If=Ur(3),HT={draw(e,t){const r=-Ur(t/(If*3));e.moveTo(0,r*2),e.lineTo(-If*r,-r),e.lineTo(If*r,-r),e.closePath()}},lr=-.5,or=Ur(3)/2,fm=1/Ur(12),VT=(fm/2+1)*3,YT={draw(e,t){const r=Ur(t/VT),n=r/2,a=r*fm,i=n,l=r*fm+r,o=-i,c=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(lr*n-or*a,or*n+lr*a),e.lineTo(lr*i-or*l,or*i+lr*l),e.lineTo(lr*o-or*c,or*o+lr*c),e.lineTo(lr*n+or*a,lr*a-or*n),e.lineTo(lr*i+or*l,lr*l-or*i),e.lineTo(lr*o+or*c,lr*c-or*o),e.closePath()}};function GT(e,t){let r=null,n=yg(a);e=typeof e=="function"?e:we(e||wg),t=typeof t=="function"?t:we(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:we(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:we(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Wc(){}function Kc(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function DN(e){this._context=e}DN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JT(e){return new DN(e)}function $N(e){this._context=e}$N.prototype={areaStart:Wc,areaEnd:Wc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Kc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XT(e){return new $N(e)}function LN(e){this._context=e}LN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Kc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QT(e){return new LN(e)}function RN(e){this._context=e}RN.prototype={areaStart:Wc,areaEnd:Wc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ZT(e){return new RN(e)}function Bv(e){return e<0?-1:1}function zv(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),o=(i*a+l*n)/(n+a);return(Bv(i)+Bv(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function Wv(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Df(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,l-o*r,i,l)}function qc(e){this._context=e}qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Df(this,this._t0,Wv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Df(this,Wv(this,r=zv(this,e,t)),r);break;default:Df(this,this._t0,r=zv(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function FN(e){this._context=new UN(e)}(FN.prototype=Object.create(qc.prototype)).point=function(e,t){qc.prototype.point.call(this,t,e)};function UN(e){this._context=e}UN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function e3(e){return new qc(e)}function t3(e){return new FN(e)}function BN(e){this._context=e}BN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Kv(e),a=Kv(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Kv(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function r3(e){return new BN(e)}function ud(e,t){this._context=e,this._t=t}ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function n3(e){return new ud(e,.5)}function s3(e){return new ud(e,0)}function a3(e){return new ud(e,1)}function Ga(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,o=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function hm(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function i3(e,t){return e[t]}function l3(e){const t=[];return t.key=e,t}function o3(){var e=we([]),t=hm,r=Ga,n=i3;function a(i){var l=Array.from(e.apply(this,arguments),l3),o,c=l.length,d=-1,u;for(const f of i)for(o=0,++d;o<c;++o)(l[o][d]=[0,+n(f,l[o].key,d,i)]).data=f;for(o=0,u=bg(t(l));o<c;++o)l[u[o]].index=o;return r(l,u),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:we(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:we(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?hm:typeof i=="function"?i:we(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ga,a):r},a}function c3(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Ga(e,t)}}function u3(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,o=0;l<a;++l)o+=e[l][r][1]||0;n[r][1]+=n[r][0]=-o/2}Ga(e,t)}}function d3(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var o=0,c=0,d=0;o<l;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,m=(f-h)/2,x=0;x<o;++x){var g=e[t[x]],b=g[n][1]||0,p=g[n-1][1]||0;m+=b-p}c+=f,d+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,Ga(e,t)}}var f3=["type","size","sizeType"];function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mm.apply(null,arguments)}function qv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qv(Object(r),!0).forEach(function(n){h3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h3(e,t,r){return(t=m3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m3(e){var t=p3(e,"string");return typeof t=="symbol"?t:t+""}function p3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g3(e,t){if(e==null)return{};var r,n,a=x3(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function x3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zN={symbolCircle:wg,symbolCross:RT,symbolDiamond:UT,symbolSquare:BT,symbolStar:qT,symbolTriangle:HT,symbolWye:YT},v3=Math.PI/180,y3=e=>{var t="symbol".concat(no(e));return zN[t]||wg},b3=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*v3;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},w3=(e,t)=>{zN["symbol".concat(no(e))]=t},jg=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=g3(e,f3),i=Hv(Hv({},a),{},{type:t,size:r,sizeType:n}),l=()=>{var f=y3(t),h=GT().type(f).size(b3(r,n,t));return h()},{className:o,cx:c,cy:d}=i,u=ue(i,!0);return c===+c&&d===+d&&r===+r?w.createElement("path",mm({},u,{className:de("recharts-symbols",o),transform:"translate(".concat(c,", ").concat(d,")"),d:l()})):null};jg.registerSymbol=w3;function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pm.apply(null,arguments)}function Vv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vv(Object(r),!0).forEach(function(n){Ng(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ng(e,t,r){return(t=N3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N3(e){var t=S3(e,"string");return typeof t=="symbol"?t:t+""}function S3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cr=32;class Sg extends w.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=cr/2,i=cr/6,l=cr/3,o=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return w.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:cr,y2:a,className:"recharts-legend-icon"});if(c==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(cr,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return w.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(cr/8,"h").concat(cr,"v").concat(cr*3/4,"h").concat(-cr,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var d=j3({},t);return delete d.legendIcon,w.cloneElement(t.legendIcon,d)}return w.createElement(jg,{fill:o,cx:a,cy:a,size:cr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:l}=this.props,o={x:0,y:0,width:cr,height:cr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var h=u.formatter||a,m=de({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var x=u.inactive?i:u.color,g=h?h(u.value,u,f):u.value;return w.createElement("li",pm({className:m,style:c,key:"legend-item-".concat(f)},ld(this.props,u,f)),w.createElement(vg,{width:r,height:r,viewBox:o,style:d,"aria-label":"".concat(g," legend icon")},this.renderIcon(u,l)),w.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}Ng(Sg,"displayName","Legend");Ng(Sg,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var WN={},KN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const l=r[i],o=n(l);a.has(o)||a.set(o,l)}return Array.from(a.values())}e.uniqBy=t})(KN);var _g={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(_g);var qN={},dd={},HN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(HN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HN;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(dd);var VN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(VN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dd,r=VN;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(qN);var YN={},GN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gu;function r(n){return function(a){return t.get(a,n)}}e.property=r})(GN);var JN={},$f={},Lf={},kg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(kg);var Pg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Pg);var fd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(fd);var Yv;function _3(){return Yv||(Yv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cg(),r=kg,n=Pg,a=fd;function i(f,h,m){return typeof m!="function"?t.isMatch(f,h):l(f,h,function x(g,b,p,y,v,S){const j=m(g,b,p,y,v,S);return j!==void 0?!!j:l(g,b,x,S)},new Map)}function l(f,h,m,x){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,m,x);case"function":return Object.keys(h).length>0?l(f,{...h},m,x):a.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function o(f,h,m,x){if(h==null)return!0;if(Array.isArray(h))return d(f,h,m,x);if(h instanceof Map)return c(f,h,m,x);if(h instanceof Set)return u(f,h,m,x);const g=Object.keys(h);if(f==null)return g.length===0;if(g.length===0)return!0;if(x&&x.has(h))return x.get(h)===f;x&&x.set(h,f);try{for(let b=0;b<g.length;b++){const p=g[b];if(!n.isPrimitive(f)&&!(p in f)||h[p]===void 0&&f[p]!==void 0||h[p]===null&&f[p]!==null||!m(f[p],h[p],p,f,h,x))return!1}return!0}finally{x&&x.delete(h)}}function c(f,h,m,x){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,b]of h.entries()){const p=f.get(g);if(m(p,b,g,f,h,x)===!1)return!1}return!0}function d(f,h,m,x){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let b=0;b<h.length;b++){const p=h[b];let y=!1;for(let v=0;v<f.length;v++){if(g.has(v))continue;const S=f[v];let j=!1;if(m(S,p,b,f,h,x)&&(j=!0),j){g.add(v),y=!0;break}}if(!y)return!1}return!0}function u(f,h,m,x){return h.size===0?!0:f instanceof Set?d([...f],[...h],m,x):!1}e.isMatchWith=i,e.isSetMatch=u}(Lf)),Lf}var Gv;function Cg(){return Gv||(Gv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_3();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}($f)),$f}var XN={},Ag={},Og={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Og);var hd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(hd);var md={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",x="[object Error]",g="[object DataView]",b="[object Uint8Array]",p="[object Uint8ClampedArray]",y="[object Uint16Array]",v="[object Uint32Array]",S="[object BigUint64Array]",j="[object Int8Array]",N="[object Int16Array]",_="[object Int32Array]",k="[object BigInt64Array]",A="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=g,e.dateTag=o,e.errorTag=x,e.float32ArrayTag=A,e.float64ArrayTag=O,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=_,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=y,e.uint32ArrayTag=v,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=p})(md);var QN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(QN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Og,r=hd,n=md,a=Pg,i=QN;function l(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,h,m=new Map,x=void 0){const g=x==null?void 0:x(u,f,h,m);if(g!=null)return g;if(a.isPrimitive(u))return u;if(m.has(u))return m.get(u);if(Array.isArray(u)){const b=new Array(u.length);m.set(u,b);for(let p=0;p<u.length;p++)b[p]=o(u[p],p,h,m,x);return Object.hasOwn(u,"index")&&(b.index=u.index),Object.hasOwn(u,"input")&&(b.input=u.input),b}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const b=new RegExp(u.source,u.flags);return b.lastIndex=u.lastIndex,b}if(u instanceof Map){const b=new Map;m.set(u,b);for(const[p,y]of u)b.set(p,o(y,p,h,m,x));return b}if(u instanceof Set){const b=new Set;m.set(u,b);for(const p of u)b.add(o(p,void 0,h,m,x));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const b=new(Object.getPrototypeOf(u)).constructor(u.length);m.set(u,b);for(let p=0;p<u.length;p++)b[p]=o(u[p],p,h,m,x);return b}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const b=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return m.set(u,b),c(b,u,h,m,x),b}if(typeof File<"u"&&u instanceof File){const b=new File([u],u.name,{type:u.type});return m.set(u,b),c(b,u,h,m,x),b}if(u instanceof Blob){const b=new Blob([u],{type:u.type});return m.set(u,b),c(b,u,h,m,x),b}if(u instanceof Error){const b=new u.constructor;return m.set(u,b),b.message=u.message,b.name=u.name,b.stack=u.stack,b.cause=u.cause,c(b,u,h,m,x),b}if(typeof u=="object"&&d(u)){const b=Object.create(Object.getPrototypeOf(u));return m.set(u,b),c(b,u,h,m,x),b}return u}function c(u,f,h=u,m,x){const g=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<g.length;b++){const p=g[b],y=Object.getOwnPropertyDescriptor(u,p);(y==null||y.writable)&&(u[p]=o(f[p],p,h,m,x))}}function d(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=c})(Ag);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ag;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(XN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cg(),r=XN;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(JN);var ZN={},e2={},t2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ag,r=md;function n(a,i){return t.cloneDeepWith(a,(l,o,c,d)=>{const u=i==null?void 0:i(l,o,c,d);if(u!=null)return u;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(t2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t2;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(e2);var r2={},Eg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Eg);var n2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hd;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(n2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cg,r=Eg,n=n2,a=Ju;function i(l,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(l==null?void 0:l[o])==null?c=a.toPath(o):c=[o],c.length===0)return!1;let d=l;for(let u=0;u<c.length;u++){const f=c[u];if((d==null||!Object.hasOwn(d,f))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(f)&&f<d.length))return!1;d=d[f]}return!0}e.has=i})(r2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cg(),r=ug,n=e2,a=Gu,i=r2;function l(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(d){const u=a.get(d,o);return u===void 0?i.has(d,o):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=l})(ZN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_g,r=GN,n=JN,a=ZN;function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i})(YN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KN,r=_g,n=qN,a=YN;function i(l,o=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(o)):[]}e.uniqBy=i})(WN);var k3=WN.uniqBy;const Jv=kn(k3);function s2(e,t,r){return t===!0?Jv(e,r):typeof t=="function"?Jv(e,t):e}var a2={exports:{}},i2={},l2={exports:{}},o2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ja=w;function P3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var C3=typeof Object.is=="function"?Object.is:P3,A3=Ja.useState,O3=Ja.useEffect,E3=Ja.useLayoutEffect,T3=Ja.useDebugValue;function M3(e,t){var r=t(),n=A3({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return E3(function(){a.value=r,a.getSnapshot=t,Rf(a)&&i({inst:a})},[e,r,t]),O3(function(){return Rf(a)&&i({inst:a}),e(function(){Rf(a)&&i({inst:a})})},[e]),T3(r),r}function Rf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!C3(e,r)}catch{return!0}}function I3(e,t){return t()}var D3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?I3:M3;o2.useSyncExternalStore=Ja.useSyncExternalStore!==void 0?Ja.useSyncExternalStore:D3;l2.exports=o2;var $3=l2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd=w,L3=$3;function R3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var F3=typeof Object.is=="function"?Object.is:R3,U3=L3.useSyncExternalStore,B3=pd.useRef,z3=pd.useEffect,W3=pd.useMemo,K3=pd.useDebugValue;i2.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=B3(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=W3(function(){function c(m){if(!d){if(d=!0,u=m,m=n(m),a!==void 0&&l.hasValue){var x=l.value;if(a(x,m))return f=x}return f=m}if(x=f,F3(u,m))return x;var g=n(m);return a!==void 0&&a(x,g)?(u=m,x):(u=m,f=g)}var d=!1,u,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=U3(e,i[0],i[1]);return z3(function(){l.hasValue=!0,l.value=o},[o]),K3(o),o};a2.exports=i2;var q3=a2.exports,Tg=w.createContext(null),H3=e=>e,Fe=()=>{var e=w.useContext(Tg);return e?e.store.dispatch:H3},dc=()=>{},V3=()=>dc,Y3=(e,t)=>e===t;function G(e){var t=w.useContext(Tg);return q3.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:V3,t?t.store.getState:dc,t?t.store.getState:dc,t?e:dc,Y3)}function G3(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function J3(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function X3(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Xv=e=>Array.isArray(e)?e:[e];function Q3(e){const t=Array.isArray(e[0])?e[0]:e;return X3(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Z3(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var e6=class{constructor(e){this.value=e}deref(){return this.value}},t6=typeof WeakRef<"u"?WeakRef:e6,r6=0,Qv=1;function Uo(){return{s:r6,v:void 0,o:null,p:null}}function c2(e,t={}){let r=Uo();const{resultEqualityCheck:n}=t;let a,i=0;function l(){var f;let o=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const x=arguments[h];if(typeof x=="function"||typeof x=="object"&&x!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const b=g.get(x);b===void 0?(o=Uo(),g.set(x,o)):o=b}else{let g=o.p;g===null&&(o.p=g=new Map);const b=g.get(x);b===void 0?(o=Uo(),g.set(x,o)):o=b}}const d=o;let u;if(o.s===Qv)u=o.v;else if(u=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,u)&&(u=h,i!==0&&i--),a=typeof u=="object"&&u!==null||typeof u=="function"?new t6(u):u}return d.s=Qv,d.v=u,u}return l.clearCache=()=>{r=Uo(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function n6(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,l=0,o,c={},d=a.pop();typeof d=="object"&&(c=d,d=a.pop()),G3(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=c2,argsMemoizeOptions:x=[],devModeChecks:g={}}=u,b=Xv(h),p=Xv(x),y=Q3(a),v=f(function(){return i++,d.apply(null,arguments)},...b),S=m(function(){l++;const N=Z3(y,arguments);return o=v.apply(null,N),o},...p);return Object.assign(S,{resultFunc:d,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var T=n6(c2),s6=Object.assign((e,t=T)=>{J3(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,o,c)=>(l[r[c]]=o,l),{}))},{withTypes:()=>s6}),u2={},d2={},f2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const l=t(n),o=t(a);if(l===o&&l===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=r})(f2);var h2={},Mg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Mg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mg,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a})(h2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f2,r=h2,n=Ju;function a(i,l,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const d=(m,x)=>{let g=m;for(let b=0;b<x.length&&g!=null;++b)g=g[x[b]];return g},u=(m,x)=>x==null||m==null?x:typeof m=="object"&&"key"in m?Object.hasOwn(x,m.key)?x[m.key]:d(x,m.path):typeof m=="function"?m(x):Array.isArray(m)?d(x,m):typeof x=="object"?x[m]:x,f=l.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(x=>u(x,m))})).slice().sort((m,x)=>{for(let g=0;g<f.length;g++){const b=t.compareValues(m.criteria[g],x.criteria[g],o[g]);if(b!==0)return b}return 0}).map(m=>m.original)}e.orderBy=a})(d2);var m2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),l=(o,c)=>{for(let d=0;d<o.length;d++){const u=o[d];Array.isArray(u)&&c<i?l(u,c+1):a.push(u)}};return l(r,0),a}e.flatten=t})(m2);var Ig={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eg,r=dd,n=kg,a=fd;function i(l,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?a.eq(c[o],l):!1}e.isIterateeCall=i})(Ig);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d2,r=m2,n=Ig;function a(i,...l){const o=l.length;return o>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=a})(u2);var a6=u2.sortBy;const gd=kn(a6);var p2=e=>e.legend.settings,i6=e=>e.legend.size,l6=e=>e.legend.payload,o6=T([l6,p2],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?gd(n,r):n});function c6(){return G(o6)}var Bo=1;function g2(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>Bo||Math.abs(l.left-t.left)>Bo||Math.abs(l.top-t.top)>Bo||Math.abs(l.width-t.width)>Bo)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function rt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var u6=typeof Symbol=="function"&&Symbol.observable||"@@observable",Zv=u6,Ff=()=>Math.random().toString(36).substring(7).split("").join("."),d6={INIT:`@@redux/INIT${Ff()}`,REPLACE:`@@redux/REPLACE${Ff()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ff()}`},Hc=d6;function Dg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function x2(e,t,r){if(typeof e!="function")throw new Error(rt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(rt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(rt(1));return r(x2)(e,t)}let n=e,a=t,i=new Map,l=i,o=0,c=!1;function d(){l===i&&(l=new Map,i.forEach((b,p)=>{l.set(p,b)}))}function u(){if(c)throw new Error(rt(3));return a}function f(b){if(typeof b!="function")throw new Error(rt(4));if(c)throw new Error(rt(5));let p=!0;d();const y=o++;return l.set(y,b),function(){if(p){if(c)throw new Error(rt(6));p=!1,d(),l.delete(y),i=null}}}function h(b){if(!Dg(b))throw new Error(rt(7));if(typeof b.type>"u")throw new Error(rt(8));if(typeof b.type!="string")throw new Error(rt(17));if(c)throw new Error(rt(9));try{c=!0,a=n(a,b)}finally{c=!1}return(i=l).forEach(y=>{y()}),b}function m(b){if(typeof b!="function")throw new Error(rt(10));n=b,h({type:Hc.REPLACE})}function x(){const b=f;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(rt(11));function y(){const S=p;S.next&&S.next(u())}return y(),{unsubscribe:b(y)}},[Zv](){return this}}}return h({type:Hc.INIT}),{dispatch:h,subscribe:f,getState:u,replaceReducer:m,[Zv]:x}}function f6(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Hc.INIT})>"u")throw new Error(rt(12));if(typeof r(void 0,{type:Hc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rt(13))})}function v2(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{f6(r)}catch(i){a=i}return function(l={},o){if(a)throw a;let c=!1;const d={};for(let u=0;u<n.length;u++){const f=n[u],h=r[f],m=l[f],x=h(m,o);if(typeof x>"u")throw o&&o.type,new Error(rt(14));d[f]=x,c=c||x!==m}return c=c||n.length!==Object.keys(l).length,c?d:l}}function Vc(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function h6(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(rt(15))};const l={getState:a.getState,dispatch:(c,...d)=>i(c,...d)},o=e.map(c=>c(l));return i=Vc(...o)(a.dispatch),{...a,dispatch:i}}}function y2(e){return Dg(e)&&"type"in e&&typeof e.type=="string"}var b2=Symbol.for("immer-nothing"),ey=Symbol.for("immer-draftable"),tr=Symbol.for("immer-state");function Mr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xa=Object.getPrototypeOf;function Zs(e){return!!e&&!!e[tr]}function jn(e){var t;return e?w2(e)||Array.isArray(e)||!!e[ey]||!!((t=e.constructor)!=null&&t[ey])||vd(e)||yd(e):!1}var m6=Object.prototype.constructor.toString();function w2(e){if(!e||typeof e!="object")return!1;const t=Xa(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===m6}function Yc(e,t){xd(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function xd(e){const t=e[tr];return t?t.type_:Array.isArray(e)?1:vd(e)?2:yd(e)?3:0}function gm(e,t){return xd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function j2(e,t,r){const n=xd(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function p6(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function vd(e){return e instanceof Map}function yd(e){return e instanceof Set}function Os(e){return e.copy_||e.base_}function xm(e,t){if(vd(e))return new Map(e);if(yd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=w2(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[tr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],o=n[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(Xa(e),n)}else{const n=Xa(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function $g(e,t=!1){return bd(e)||Zs(e)||!jn(e)||(xd(e)>1&&(e.set=e.add=e.clear=e.delete=g6),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>$g(n,!0))),e}function g6(){Mr(2)}function bd(e){return Object.isFrozen(e)}var x6={};function ea(e){const t=x6[e];return t||Mr(0,e),t}var Ml;function N2(){return Ml}function v6(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ty(e,t){t&&(ea("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function vm(e){ym(e),e.drafts_.forEach(y6),e.drafts_=null}function ym(e){e===Ml&&(Ml=e.parent_)}function ry(e){return Ml=v6(Ml,e)}function y6(e){const t=e[tr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ny(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[tr].modified_&&(vm(t),Mr(4)),jn(e)&&(e=Gc(t,e),t.parent_||Jc(t,e)),t.patches_&&ea("Patches").generateReplacementPatches_(r[tr].base_,e,t.patches_,t.inversePatches_)):e=Gc(t,r,[]),vm(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==b2?e:void 0}function Gc(e,t,r){if(bd(t))return t;const n=t[tr];if(!n)return Yc(t,(a,i)=>sy(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Jc(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,l=!1;n.type_===3&&(i=new Set(a),a.clear(),l=!0),Yc(i,(o,c)=>sy(e,n,a,o,c,r,l)),Jc(e,a,!1),r&&e.patches_&&ea("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function sy(e,t,r,n,a,i,l){if(Zs(a)){const o=i&&t&&t.type_!==3&&!gm(t.assigned_,n)?i.concat(n):void 0,c=Gc(e,a,o);if(j2(r,n,c),Zs(c))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(jn(a)&&!bd(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Gc(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Jc(e,a)}}function Jc(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$g(t,r)}function b6(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:N2(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Lg;r&&(a=[n],i=Il);const{revoke:l,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=l,o}var Lg={get(e,t){if(t===tr)return e;const r=Os(e);if(!gm(r,t))return w6(e,r,t);const n=r[t];return e.finalized_||!jn(n)?n:n===Uf(e.base_,t)?(Bf(e),e.copy_[t]=wm(n,e)):n},has(e,t){return t in Os(e)},ownKeys(e){return Reflect.ownKeys(Os(e))},set(e,t,r){const n=S2(Os(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Uf(Os(e),t),i=a==null?void 0:a[tr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(p6(r,a)&&(r!==void 0||gm(e.base_,t)))return!0;Bf(e),bm(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Uf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Bf(e),bm(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Os(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Mr(11)},getPrototypeOf(e){return Xa(e.base_)},setPrototypeOf(){Mr(12)}},Il={};Yc(Lg,(e,t)=>{Il[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Il.deleteProperty=function(e,t){return Il.set.call(this,e,t,void 0)};Il.set=function(e,t,r){return Lg.set.call(this,e[0],t,r,e[0])};function Uf(e,t){const r=e[tr];return(r?Os(r):e)[t]}function w6(e,t,r){var a;const n=S2(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function S2(e,t){if(!(t in e))return;let r=Xa(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Xa(r)}}function bm(e){e.modified_||(e.modified_=!0,e.parent_&&bm(e.parent_))}function Bf(e){e.copy_||(e.copy_=xm(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var j6=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(c=i,...d){return l.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&Mr(6),n!==void 0&&typeof n!="function"&&Mr(7);let a;if(jn(t)){const i=ry(this),l=wm(t,void 0);let o=!0;try{a=r(l),o=!1}finally{o?vm(i):ym(i)}return ty(i,n),ny(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===b2&&(a=void 0),this.autoFreeze_&&$g(a,!0),n){const i=[],l=[];ea("Patches").generateReplacementPatches_(t,a,i,l),n(i,l)}return a}else Mr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let n,a;return[this.produce(t,r,(l,o)=>{n=l,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){jn(e)||Mr(8),Zs(e)&&(e=ns(e));const t=ry(this),r=wm(e,void 0);return r[tr].isManual_=!0,ym(t),r}finishDraft(e,t){const r=e&&e[tr];(!r||!r.isManual_)&&Mr(9);const{scope_:n}=r;return ty(n,t),ny(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=ea("Patches").applyPatches_;return Zs(e)?n(e,t):this.produce(e,a=>n(a,t))}};function wm(e,t){const r=vd(e)?ea("MapSet").proxyMap_(e,t):yd(e)?ea("MapSet").proxySet_(e,t):b6(e,t);return(t?t.scope_:N2()).drafts_.push(r),r}function ns(e){return Zs(e)||Mr(10,e),_2(e)}function _2(e){if(!jn(e)||bd(e))return e;const t=e[tr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=xm(e,t.scope_.immer_.useStrictShallowCopy_)}else r=xm(e,!0);return Yc(r,(n,a)=>{j2(r,n,_2(a))}),t&&(t.finalized_=!1),r}var rr=new j6,k2=rr.produce;rr.produceWithPatches.bind(rr);rr.setAutoFreeze.bind(rr);rr.setUseStrictShallowCopy.bind(rr);rr.applyPatches.bind(rr);rr.createDraft.bind(rr);rr.finishDraft.bind(rr);function P2(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var N6=P2(),S6=P2,_6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vc:Vc.apply(null,arguments)};function br(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Jt(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>y2(n)&&n.type===e,r}var C2=class Ki extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ki.prototype)}static get[Symbol.species](){return Ki}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ki(...t[0].concat(this)):new Ki(...t.concat(this))}};function ay(e){return jn(e)?k2(e,()=>{}):e}function zo(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function k6(e){return typeof e=="boolean"}var P6=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new C2;return r&&(k6(r)?l.push(N6):l.push(S6(r.extraArgument))),l},C6="RTK_autoBatch",iy=e=>t=>{setTimeout(t,e)},A6=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:iy(10):e.type==="callback"?e.queueNotification:iy(e.timeout),d=()=>{l=!1,i&&(i=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>a&&u(),h=n.subscribe(f);return o.add(u),()=>{h(),o.delete(u)}},dispatch(u){var f;try{return a=!((f=u==null?void 0:u.meta)!=null&&f[C6]),i=!a,i&&(l||(l=!0,c(d))),n.dispatch(u)}finally{a=!0}}})},O6=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new C2(e);return n&&a.push(A6(typeof n=="object"?n:void 0)),a};function E6(e){const t=P6(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:l=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Dg(r))c=v2(r);else throw new Error(Jt(1));let d;typeof n=="function"?d=n(t):d=t();let u=Vc;a&&(u=_6({trace:!1,...typeof a=="object"&&a}));const f=h6(...d),h=O6(f);let m=typeof o=="function"?o(h):h();const x=u(...m);return x2(c,l,x)}function A2(e){const t={},r=[];let n;const a={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Jt(28));if(o in t)throw new Error(Jt(29));return t[o]=l,a},addMatcher(i,l){return r.push({matcher:i,reducer:l}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function T6(e){return typeof e=="function"}function M6(e,t){let[r,n,a]=A2(t),i;if(T6(e))i=()=>ay(e());else{const o=ay(e);i=()=>o}function l(o=i(),c){let d=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[a]),d.reduce((u,f)=>{if(f)if(Zs(u)){const m=f(u,c);return m===void 0?u:m}else{if(jn(u))return k2(u,h=>f(h,c));{const h=f(u,c);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},o)}return l.getInitialState=i,l}var I6="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",D6=(e=21)=>{let t="",r=e;for(;r--;)t+=I6[Math.random()*64|0];return t},$6=Symbol.for("rtk-slice-createasyncthunk");function L6(e,t){return`${e}/${t}`}function R6({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[$6];return function(a){const{name:i,reducerPath:l=i}=a;if(!i)throw new Error(Jt(11));typeof process<"u";const o=(typeof a.reducers=="function"?a.reducers(U6()):a.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(S,j){const N=typeof S=="string"?S:S.type;if(!N)throw new Error(Jt(12));if(N in d.sliceCaseReducersByType)throw new Error(Jt(13));return d.sliceCaseReducersByType[N]=j,u},addMatcher(S,j){return d.sliceMatchers.push({matcher:S,reducer:j}),u},exposeAction(S,j){return d.actionCreators[S]=j,u},exposeCaseReducer(S,j){return d.sliceCaseReducersByName[S]=j,u}};c.forEach(S=>{const j=o[S],N={reducerName:S,type:L6(i,S),createNotation:typeof a.reducers=="function"};z6(j)?K6(N,j,u,t):B6(N,j,u)});function f(){const[S={},j=[],N=void 0]=typeof a.extraReducers=="function"?A2(a.extraReducers):[a.extraReducers],_={...S,...d.sliceCaseReducersByType};return M6(a.initialState,k=>{for(let A in _)k.addCase(A,_[A]);for(let A of d.sliceMatchers)k.addMatcher(A.matcher,A.reducer);for(let A of j)k.addMatcher(A.matcher,A.reducer);N&&k.addDefaultCase(N)})}const h=S=>S,m=new Map,x=new WeakMap;let g;function b(S,j){return g||(g=f()),g(S,j)}function p(){return g||(g=f()),g.getInitialState()}function y(S,j=!1){function N(k){let A=k[S];return typeof A>"u"&&j&&(A=zo(x,N,p)),A}function _(k=h){const A=zo(m,j,()=>new WeakMap);return zo(A,k,()=>{const O={};for(const[P,C]of Object.entries(a.selectors??{}))O[P]=F6(C,k,()=>zo(x,k,p),j);return O})}return{reducerPath:S,getSelectors:_,get selectors(){return _(N)},selectSlice:N}}const v={name:i,reducer:b,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:p,...y(l),injectInto(S,{reducerPath:j,...N}={}){const _=j??l;return S.inject({reducerPath:_,reducer:b},N),{...v,...y(_,!0)}}};return v}}function F6(e,t,r,n){function a(i,...l){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...l)}return a.unwrapped=e,a}var Nr=R6();function U6(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function B6({type:e,reducerName:t,createNotation:r},n,a){let i,l;if("reducer"in n){if(r&&!W6(n))throw new Error(Jt(17));i=n.reducer,l=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?br(e,l):br(e))}function z6(e){return e._reducerDefinitionType==="asyncThunk"}function W6(e){return e._reducerDefinitionType==="reducerWithPrepare"}function K6({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Jt(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:d,options:u}=r,f=a(e,i,u);n.exposeAction(t,f),l&&n.addCase(f.fulfilled,l),o&&n.addCase(f.pending,o),c&&n.addCase(f.rejected,c),d&&n.addMatcher(f.settled,d),n.exposeCaseReducer(t,{fulfilled:l||Wo,pending:o||Wo,rejected:c||Wo,settled:d||Wo})}function Wo(){}var q6="task",O2="listener",E2="completed",Rg="cancelled",H6=`task-${Rg}`,V6=`task-${E2}`,jm=`${O2}-${Rg}`,Y6=`${O2}-${E2}`,wd=class{constructor(e){Jd(this,"name","TaskAbortError");Jd(this,"message");this.code=e,this.message=`${q6} ${Rg} (reason: ${e})`}},Fg=(e,t)=>{if(typeof e!="function")throw new TypeError(Jt(32))},Xc=()=>{},T2=(e,t=Xc)=>(e.catch(t),e),M2=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ws=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ks=e=>{if(e.aborted){const{reason:t}=e;throw new wd(t)}};function I2(e,t){let r=Xc;return new Promise((n,a)=>{const i=()=>a(new wd(e.reason));if(e.aborted){i();return}r=M2(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Xc})}var G6=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof wd?"cancelled":"rejected",error:r}}finally{t==null||t()}},Qc=e=>t=>T2(I2(e,t).then(r=>(Ks(e),r))),D2=e=>{const t=Qc(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ra}=Object,ly={},jd="listenerMiddleware",J6=(e,t)=>{const r=n=>M2(e,()=>Ws(n,e.reason));return(n,a)=>{Fg(n);const i=new AbortController;r(i);const l=G6(async()=>{Ks(e),Ks(i.signal);const o=await n({pause:Qc(i.signal),delay:D2(i.signal),signal:i.signal});return Ks(i.signal),o},()=>Ws(i,V6));return a!=null&&a.autoJoin&&t.push(l.catch(Xc)),{result:Qc(e)(l),cancel(){Ws(i,H6)}}}},X6=(e,t)=>{const r=async(n,a)=>{Ks(t);let i=()=>{};const o=[new Promise((c,d)=>{let u=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{u(),d()}})];a!=null&&o.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await I2(t,Promise.race(o));return Ks(t),c}finally{i()}};return(n,a)=>T2(r(n,a))},$2=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=br(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Jt(21));return Fg(i),{predicate:a,type:t,effect:i}},L2=Ra(e=>{const{type:t,predicate:r,effect:n}=$2(e);return{id:D6(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Jt(22))}}},{withTypes:()=>L2}),oy=(e,t)=>{const{type:r,effect:n,predicate:a}=$2(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Nm=e=>{e.pending.forEach(t=>{Ws(t,jm)})},Q6=e=>()=>{e.forEach(Nm),e.clear()},cy=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},R2=Ra(br(`${jd}/add`),{withTypes:()=>R2}),Z6=br(`${jd}/removeAll`),F2=Ra(br(`${jd}/remove`),{withTypes:()=>F2}),e5=(...e)=>{console.error(`${jd}/error`,...e)},so=(e={})=>{const t=new Map,{extra:r,onError:n=e5}=e;Fg(n);const a=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),f=>{u.unsubscribe(),f!=null&&f.cancelActive&&Nm(u)}),i=u=>{const f=oy(t,u)??L2(u);return a(f)};Ra(i,{withTypes:()=>i});const l=u=>{const f=oy(t,u);return f&&(f.unsubscribe(),u.cancelActive&&Nm(f)),!!f};Ra(l,{withTypes:()=>l});const o=async(u,f,h,m)=>{const x=new AbortController,g=X6(i,x.signal),b=[];try{u.pending.add(x),await Promise.resolve(u.effect(f,Ra({},h,{getOriginalState:m,condition:(p,y)=>g(p,y).then(Boolean),take:g,delay:D2(x.signal),pause:Qc(x.signal),extra:r,signal:x.signal,fork:J6(x.signal,b),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((p,y,v)=>{p!==x&&(Ws(p,jm),v.delete(p))})},cancel:()=>{Ws(x,jm),u.pending.delete(x)},throwIfCancelled:()=>{Ks(x.signal)}})))}catch(p){p instanceof wd||cy(n,p,{raisedBy:"effect"})}finally{await Promise.all(b),Ws(x,Y6),u.pending.delete(x)}},c=Q6(t);return{middleware:u=>f=>h=>{if(!y2(h))return f(h);if(R2.match(h))return i(h.payload);if(Z6.match(h)){c();return}if(F2.match(h))return l(h.payload);let m=u.getState();const x=()=>{if(m===ly)throw new Error(Jt(23));return m};let g;try{if(g=f(h),t.size>0){const b=u.getState(),p=Array.from(t.values());for(const y of p){let v=!1;try{v=y.predicate(h,b,m)}catch(S){v=!1,cy(n,S,{raisedBy:"predicate"})}v&&o(y,h,u,x)}}}finally{m=ly}return g},startListening:i,stopListening:l,clearListeners:c}};function Jt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var t5={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},U2=Nr({name:"chartLayout",initialState:t5,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:r5,setLayout:n5,setChartSize:s5,setScale:a5}=U2.actions,i5=U2.reducer;function uy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uy(Object(r),!0).forEach(function(n){l5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l5(e,t,r){return(t=o5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o5(e){var t=c5(e,"string");return typeof t=="symbol"?t:t+""}function c5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zc=Math.PI/180,u5=e=>e*180/Math.PI,at=(e,t,r,n)=>({x:e+Math.cos(-Zc*n)*r,y:t+Math.sin(-Zc*n)*r}),d5=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},f5=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},h5=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,l=f5({x:r,y:n},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var o=(r-a)/l,c=Math.acos(o);return n>i&&(c=2*Math.PI-c),{radius:l,angle:u5(c),angleInRadian:c}},m5=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},p5=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return e+l*360},g5=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=h5({x:r,y:n},t),{innerRadius:l,outerRadius:o}=t;if(a<l||a>o||a===0)return null;var{startAngle:c,endAngle:d}=m5(t),u=i,f;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;f=u>=d&&u<=c}return f?dy(dy({},t),{},{radius:a,angle:p5(u,t)}):null};function fy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fy(Object(r),!0).forEach(function(n){x5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x5(e,t,r){return(t=v5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v5(e){var t=y5(e,"string");return typeof t=="symbol"?t:t+""}function y5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gt(e,t,r){return ge(e)||ge(t)?r:Zr(t)?Qs(e,t,r):typeof t=="function"?t(e):r}var b5=(e,t,r,n,a)=>{var i,l=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var d=c>0?r[c-1].coordinate:r[o-1].coordinate,u=r[c].coordinate,f=c>=o-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(Et(u-d)!==Et(f-u)){var m=[];if(Et(f-u)===Et(a[1]-a[0])){h=f;var x=u+a[1]-a[0];m[0]=Math.min(x,(x+d)/2),m[1]=Math.max(x,(x+d)/2)}else{h=d;var g=f+a[1]-a[0];m[0]=Math.min(u,(g+u)/2),m[1]=Math.max(u,(g+u)/2)}var b=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){({index:l}=r[c]);break}}else{var p=Math.min(d,f),y=Math.max(d,f);if(e>(p+u)/2&&e<=(y+u)/2){({index:l}=r[c]);break}}}else if(t){for(var v=0;v<o;v++)if(v===0&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v>0&&v<o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v===o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2){({index:l}=t[v]);break}}return l},w5=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&H(e[i]))return hr(hr({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&H(e[l]))return hr(hr({},e),{},{[l]:e[l]+(a||0)})}return e},gs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",B2=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,l=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||l.push(t),i||l.push(r),l},z2=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:l,realScaleType:o,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:f,niceTicks:h,axisType:m}=e;if(!l)return null;var x=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,g=a==="category"&&l.bandwidth?l.bandwidth()/x:0;if(g=m==="angleAxis"&&i&&i.length>=2?Et(i[0]-i[1])*2*g:g,f||h){var b=(f||h||[]).map((p,y)=>{var v=n?n.indexOf(p):p;return{coordinate:l(v)+g,value:p,offset:g,index:y}});return b.filter(p=>!Zt(p.coordinate))}return c&&d?d.map((p,y)=>({coordinate:l(p)+g,value:p,index:y,offset:g})):l.ticks&&!r&&u!=null?l.ticks(u).map((p,y)=>({coordinate:l(p)+g,value:p,offset:g,index:y})):l.domain().map((p,y)=>({coordinate:l(p)+g,value:n?n[p]:p,index:y,offset:g}))},hy=1e-4,j5=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-hy,i=Math.max(n[0],n[1])+hy,l=e(t[0]),o=e(t[r-1]);(l<a||l>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},N5=(e,t)=>{if(!t||t.length!==2||!H(t[0])||!H(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!H(e[0])||e[0]<r)&&(a[0]=r),(!H(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},S5=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,l=0;l<t;++l){var o=Zt(e[l][r][1])?e[l][r][0]:e[l][r][1];o>=0?(e[l][r][0]=a,e[l][r][1]=a+o,a=e[l][r][1]):(e[l][r][0]=i,e[l][r][1]=i+o,i=e[l][r][1])}},_5=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var l=Zt(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},k5={sign:S5,expand:c3,none:Ga,silhouette:u3,wiggle:d3,positive:_5},P5=(e,t,r)=>{var n=k5[r],a=o3().keys(t).value((i,l)=>+gt(i,l,0)).order(hm).offset(n);return a(e)};function W2(e){return e==null?void 0:String(e)}function my(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ge(a[t.dataKey])){var o=mg(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=gt(a,ge(l)?t.dataKey:l);return ge(c)?null:t.scale(c)}var py=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var o=gt(i,t.dataKey,t.scale.domain()[l]);return ge(o)?null:t.scale(o)-a/2+n},C5=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},A5=e=>{var t=e.flat(2).filter(H);return[Math.min(...t),Math.max(...t)]},O5=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],E5=(e,t,r)=>{if(e!=null)return O5(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:l}=i,o=l.reduce((c,d)=>{var u=A5(d.slice(t,r+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},gy=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xy=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dl=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=gd(t,u=>u.coordinate),i=1/0,l=1,o=a.length;l<o;l++){var c=a[l],d=a[l-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function vy(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return hr(hr({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Nd(e,t){if(e)return String(e);if(typeof t=="string")return t}function T5(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?g5({x:e,y:t},n):null}var M5=(e,t,r,n)=>{var a=t.find(d=>d&&d.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:l}=n;return hr(hr(hr({},n),at(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var o=a.coordinate,{angle:c}=n;return hr(hr(hr({},n),at(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},I5=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,xs=e=>e.layout.width,vs=e=>e.layout.height,D5=e=>e.layout.scale,K2=e=>e.layout.margin,Ug=T(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Bg=T(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),$5="data-recharts-item-index",L5="data-recharts-item-data-key",Sd=60;function yy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yy(Object(r),!0).forEach(function(n){R5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R5(e,t,r){return(t=F5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F5(e){var t=U5(e,"string");return typeof t=="symbol"?t:t+""}function U5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B5=e=>e.brush.height,ot=T([xs,vs,K2,B5,Ug,Bg,p2,i6],(e,t,r,n,a,i,l,o)=>{var c=i.reduce((x,g)=>{var{orientation:b}=g;if(!g.mirror&&!g.hide){var p=typeof g.width=="number"?g.width:Sd;return Dn(Dn({},x),{},{[b]:x[b]+p})}return x},{left:r.left||0,right:r.right||0}),d=a.reduce((x,g)=>{var{orientation:b}=g;return!g.mirror&&!g.hide?Dn(Dn({},x),{},{[b]:Qs(x,"".concat(b))+g.height}):x},{top:r.top||0,bottom:r.bottom||0}),u=Dn(Dn({},d),c),f=u.bottom;u.bottom+=n,u=w5(u,l,o);var h=e-u.left-u.right,m=t-u.top-u.bottom;return Dn(Dn({brushBottom:f},u),{},{width:Math.max(h,0),height:Math.max(m,0)})}),z5=T(ot,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),q2=T(xs,vs,(e,t)=>({x:0,y:0,width:e,height:t})),W5=w.createContext(null),St=()=>w.useContext(W5)!=null,_d=e=>e.brush,kd=T([_d,ot,K2],(e,t,r)=>({height:e.height,x:H(e.x)?e.x:t.left,y:H(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:H(e.width)?e.width:t.width})),zg=()=>{var e,t=St(),r=G(z5),n=G(kd),a=(e=G(_d))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},K5={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ao=()=>{var e;return(e=G(ot))!==null&&e!==void 0?e:K5},Wg=()=>G(xs),Kg=()=>G(vs),q5={top:0,right:0,bottom:0,left:0},H5=()=>{var e;return(e=G(t=>t.layout.margin))!==null&&e!==void 0?e:q5},me=e=>e.layout.layoutType,Pd=()=>G(me),V5={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},H2=Nr({name:"legend",initialState:V5,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=ns(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:by,setLegendSettings:Y5,addLegendPayload:G5,removeLegendPayload:J5}=H2.actions,X5=H2.reducer,Q5=["contextPayload"];function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sm.apply(null,arguments)}function wy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wy(Object(r),!0).forEach(function(n){qg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qg(e,t,r){return(t=Z5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z5(e){var t=eM(e,"string");return typeof t=="symbol"?t:t+""}function eM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tM(e,t){if(e==null)return{};var r,n,a=rM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nM(e){return e.value}function sM(e){var{contextPayload:t}=e,r=tM(e,Q5),n=s2(t,e.payloadUniqBy,nM),a=Qa(Qa({},r),{},{payload:n});return w.isValidElement(e.content)?w.cloneElement(e.content,a):typeof e.content=="function"?w.createElement(e.content,a):w.createElement(Sg,a)}function aM(e,t,r,n,a,i){var{layout:l,align:o,verticalAlign:c}=t,d,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?d={left:((n||0)-i.width)/2}:d=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((a||0)-i.height)/2}:u=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Qa(Qa({},d),u)}function iM(e){var t=Fe();return w.useEffect(()=>{t(Y5(e))},[t,e]),null}function lM(e){var t=Fe();return w.useEffect(()=>(t(by(e)),()=>{t(by({width:0,height:0}))}),[t,e]),null}function oM(e){var t=c6(),r=TT(),n=H5(),{width:a,height:i,wrapperStyle:l,portal:o}=e,[c,d]=g2([t]),u=Wg(),f=Kg(),h=u-(n.left||0)-(n.right||0),m=$l.getWidthOrHeight(e.layout,i,a,h),x=o?l:Qa(Qa({position:"absolute",width:(m==null?void 0:m.width)||a||"auto",height:(m==null?void 0:m.height)||i||"auto"},aM(l,e,n,u,f,c)),l),g=o??r;if(g==null)return null;var b=w.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},w.createElement(iM,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),w.createElement(lM,{width:c.width,height:c.height}),w.createElement(sM,Sm({},e,m,{margin:n,chartWidth:u,chartHeight:f,contextPayload:t})));return Qp.createPortal(b,g)}class $l extends w.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&H(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return w.createElement(oM,this.props)}}qg($l,"displayName","Legend");qg($l,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function _m(){return _m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_m.apply(null,arguments)}function jy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jy(Object(r),!0).forEach(function(n){cM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cM(e,t,r){return(t=uM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uM(e){var t=dM(e,"string");return typeof t=="symbol"?t:t+""}function dM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fM(e){return Array.isArray(e)&&Zr(e[0])&&Zr(e[1])?e.join(" ~ "):e}var hM=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var j={padding:0,margin:0},N=(o?gd(i,o):i).map((_,k)=>{if(_.type==="none")return null;var A=_.formatter||l||fM,{value:O,name:P}=_,C=O,E=P;if(A){var F=A(O,P,_,k,i);if(Array.isArray(F))[C,E]=F;else if(F!=null)C=F;else return null}var z=zf({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:z},Zr(E)?w.createElement("span",{className:"recharts-tooltip-item-name"},E):null,Zr(E)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},C),w.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},x=zf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=zf({margin:0},a),b=!ge(u),p=b?u:"",y=de("recharts-default-tooltip",c),v=de("recharts-tooltip-label",d);b&&f&&i!==void 0&&i!==null&&(p=f(u,i));var S=h?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",_m({className:y,style:x},S),w.createElement("p",{className:v,style:g},w.isValidElement(p)?p:"".concat(p)),m())},Ei="recharts-tooltip-wrapper",mM={visibility:"hidden"};function pM(e){var{coordinate:t,translateX:r,translateY:n}=e;return de(Ei,{["".concat(Ei,"-right")]:H(r)&&t&&H(t.x)&&r>=t.x,["".concat(Ei,"-left")]:H(r)&&t&&H(t.x)&&r<t.x,["".concat(Ei,"-bottom")]:H(n)&&t&&H(t.y)&&n>=t.y,["".concat(Ei,"-top")]:H(n)&&t&&H(t.y)&&n<t.y})}function Ny(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:l,tooltipDimension:o,viewBox:c,viewBoxDimension:d}=e;if(i&&H(i[n]))return i[n];var u=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return l[n]?u:f;var h=c[n];if(h==null)return 0;if(l[n]){var m=u,x=h;return m<x?Math.max(f,h):Math.max(u,h)}if(d==null)return 0;var g=f+o,b=h+d;return g>b?Math.max(u,h):Math.max(f,h)}function gM(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function xM(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:c}=e,d,u,f;return l.height>0&&l.width>0&&r?(u=Ny({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),f=Ny({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=gM({translateX:u,translateY:f,useTranslate3d:o})):d=mM,{cssProperties:d,cssClasses:pM({translateX:u,translateY:f,coordinate:r})}}function Sy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sy(Object(r),!0).forEach(function(n){km(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function km(e,t,r){return(t=vM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vM(e){var t=yM(e,"string");return typeof t=="symbol"?t:t+""}function yM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bM extends w.PureComponent{constructor(){super(...arguments),km(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),km(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:l,hasPayload:o,isAnimationActive:c,offset:d,position:u,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:x,lastBoundingBox:g,innerRef:b,hasPortalFromProps:p}=this.props,{cssClasses:y,cssProperties:v}=xM({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:d,position:u,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),S=p?{}:Ko(Ko({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=Ko(Ko({},S),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},x);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:j,ref:b},i)}}var wM=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),fi={isSsr:wM()},V2=()=>G(e=>e.rootProps.accessibilityLayer);function nr(e){return Number.isFinite(e)}function eu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(null,arguments)}function _y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ky(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_y(Object(r),!0).forEach(function(n){jM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_y(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jM(e,t,r){return(t=NM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NM(e){var t=SM(e,"string");return typeof t=="symbol"?t:t+""}function SM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Py={curveBasisClosed:XT,curveBasisOpen:QT,curveBasis:JT,curveBumpX:$T,curveBumpY:LT,curveLinearClosed:ZT,curveLinear:cd,curveMonotoneX:e3,curveMonotoneY:t3,curveNatural:r3,curveStep:n3,curveStepAfter:a3,curveStepBefore:s3},qo=e=>nr(e.x)&&nr(e.y),Ti=e=>e.x,Mi=e=>e.y,_M=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(no(e));return(r==="curveMonotone"||r==="curveBump")&&t?Py["".concat(r).concat(t==="vertical"?"Y":"X")]:Py[r]||cd},kM=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,l=_M(t,a),o=i?r.filter(qo):r,c;if(Array.isArray(n)){var d=i?n.filter(f=>qo(f)):n,u=o.map((f,h)=>ky(ky({},f),{},{base:d[h]}));return a==="vertical"?c=Fo().y(Mi).x1(Ti).x0(f=>f.base.x):c=Fo().x(Ti).y1(Mi).y0(f=>f.base.y),c.defined(qo).curve(l),c(u)}return a==="vertical"&&H(n)?c=Fo().y(Mi).x1(Ti).x0(n):H(n)?c=Fo().x(Ti).y1(Mi).y0(n):c=EN().x(Ti).y(Mi),c.defined(qo).curve(l),c(o)},Y2=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?kM(e):n;return w.createElement("path",Pm({},ue(e,!1),gg(e),{className:de("recharts-curve",t),d:i===null?void 0:i,ref:a}))},PM=["x","y","top","left","width","height","className"];function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cm.apply(null,arguments)}function Cy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cy(Object(r),!0).forEach(function(n){AM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AM(e,t,r){return(t=OM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OM(e){var t=EM(e,"string");return typeof t=="symbol"?t:t+""}function EM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TM(e,t){if(e==null)return{};var r,n,a=MM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IM=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),DM=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:l=0,className:o}=e,c=TM(e,PM),d=CM({x:t,y:r,top:n,left:a,width:i,height:l},c);return!H(t)||!H(r)||!H(i)||!H(l)||!H(n)||!H(a)?null:w.createElement("path",Cm({},ue(d,!0),{className:de("recharts-cross",o),d:IM(t,r,i,l,n,a)}))};function $M(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Ay(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ay(Object(r),!0).forEach(function(n){RM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ay(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RM(e,t,r){return(t=FM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FM(e){var t=UM(e,"string");return typeof t=="symbol"?t:t+""}function UM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function An(e,t){var r=LM({},e),n=t,a=Object.keys(t),i=a.reduce((l,o)=>(l[o]===void 0&&n[o]!==void 0&&(l[o]=n[o]),l),r);return i}var G2={},J2={},X2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(X2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X2,r=Og,n=hd,a=md,i=fd;function l(d,u,f){return o(d,u,void 0,void 0,void 0,void 0,f)}function o(d,u,f,h,m,x,g){const b=g(d,u,f,h,m,x);if(b!==void 0)return b;if(typeof d==typeof u)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===u;case"number":return d===u||Object.is(d,u);case"function":return d===u;case"object":return c(d,u,x,g)}return c(d,u,x,g)}function c(d,u,f,h){if(Object.is(d,u))return!0;let m=n.getTag(d),x=n.getTag(u);if(m===a.argumentsTag&&(m=a.objectTag),x===a.argumentsTag&&(x=a.objectTag),m!==x)return!1;switch(m){case a.stringTag:return d.toString()===u.toString();case a.numberTag:{const p=d.valueOf(),y=u.valueOf();return i.eq(p,y)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(d.valueOf(),u.valueOf());case a.regexpTag:return d.source===u.source&&d.flags===u.flags;case a.functionTag:return d===u}f=f??new Map;const g=f.get(d),b=f.get(u);if(g!=null&&b!=null)return g===u;f.set(d,u),f.set(u,d);try{switch(m){case a.mapTag:{if(d.size!==u.size)return!1;for(const[p,y]of d.entries())if(!u.has(p)||!o(y,u.get(p),p,d,u,f,h))return!1;return!0}case a.setTag:{if(d.size!==u.size)return!1;const p=Array.from(d.values()),y=Array.from(u.values());for(let v=0;v<p.length;v++){const S=p[v],j=y.findIndex(N=>o(S,N,void 0,d,u,f,h));if(j===-1)return!1;y.splice(j,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(u)||d.length!==u.length)return!1;for(let p=0;p<d.length;p++)if(!o(d[p],u[p],p,d,u,f,h))return!1;return!0}case a.arrayBufferTag:return d.byteLength!==u.byteLength?!1:c(new Uint8Array(d),new Uint8Array(u),f,h);case a.dataViewTag:return d.byteLength!==u.byteLength||d.byteOffset!==u.byteOffset?!1:c(new Uint8Array(d),new Uint8Array(u),f,h);case a.errorTag:return d.name===u.name&&d.message===u.message;case a.objectTag:{if(!(c(d.constructor,u.constructor,f,h)||t.isPlainObject(d)&&t.isPlainObject(u)))return!1;const y=[...Object.keys(d),...r.getSymbols(d)],v=[...Object.keys(u),...r.getSymbols(u)];if(y.length!==v.length)return!1;for(let S=0;S<y.length;S++){const j=y[S],N=d[j];if(!Object.hasOwn(u,j))return!1;const _=u[j];if(!o(N,_,j,d,u,f,h))return!1}return!0}default:return!1}}finally{f.delete(d),f.delete(u)}}e.isEqualWith=l})(J2);var Q2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(Q2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J2,r=Q2;function n(a,i){return t.isEqualWith(a,i,r.noop)}e.isEqual=n})(G2);var BM=G2.isEqual;const zM=kn(BM);function WM(e){var t={},r=()=>null,n=!1,a=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var o=l,[c,...d]=o;if(typeof c=="number"){a=e.setTimeout(i.bind(null,d),c);return}i(c),a=e.setTimeout(i.bind(null,d));return}typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}var tu=1e-4,Z2=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],eS=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Oy=(e,t)=>r=>{var n=Z2(e,t);return eS(n,r)},KM=(e,t)=>r=>{var n=Z2(e,t),a=[...n.map((i,l)=>i*l).slice(1),0];return eS(a,r)},Ey=function(){for(var t,r,n,a,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=l[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else l.length===4&&([t,n,r,a]=l);var d=Oy(t,r),u=Oy(n,a),f=KM(t,r),h=x=>x>1?1:x<0?0:x,m=x=>{for(var g=x>1?1:x,b=g,p=0;p<8;++p){var y=d(b)-g,v=f(b);if(Math.abs(y-g)<tu||v<tu)return u(b);b=h(b-y/v)}return u(b)};return m.isStepper=!1,m},qM=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(l,o,c)=>{var d=-(l-o)*r,u=c*n,f=c+(d-u)*a/1e3,h=c*a/1e3+l;return Math.abs(h-o)<tu&&Math.abs(f)<tu?[o,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},HM=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ey(e);case"spring":return qM();default:if(e.split("(")[0]==="cubic-bezier")return Ey(e)}return typeof e=="function"?e:null};function Ty(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function My(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ty(Object(r),!0).forEach(function(n){VM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ty(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VM(e,t,r){return(t=YM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YM(e){var t=GM(e,"string");return typeof t=="symbol"?t:t+""}function GM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JM=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),XM=(e,t,r)=>e.map(n=>"".concat(JM(n)," ").concat(t,"ms ").concat(r)).join(","),QM=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Ll=(e,t)=>Object.keys(t).reduce((r,n)=>My(My({},r),{},{[n]:e(n,t[n])}),{});function Iy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iy(Object(r),!0).forEach(function(n){ZM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZM(e,t,r){return(t=eI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eI(e){var t=tI(e,"string");return typeof t=="symbol"?t:t+""}function tI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ru=(e,t,r)=>e+(t-e)*r,Am=e=>{var{from:t,to:r}=e;return t!==r},tS=(e,t,r)=>{var n=Ll((a,i)=>{if(Am(i)){var[l,o]=e(i.from,i.to,i.velocity);return st(st({},i),{},{from:l,velocity:o})}return i},t);return r<1?Ll((a,i)=>Am(i)?st(st({},i),{},{velocity:ru(i.velocity,n[a].velocity,r),from:ru(i.from,n[a].from,r)}):i,t):tS(e,n,r-1)};function rI(e,t,r,n,a,i){var l,o=n.reduce((h,m)=>st(st({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>Ll((h,m)=>m.from,o),d=()=>!Object.values(o).filter(Am).length,u=null,f=h=>{l||(l=h);var m=h-l,x=m/r.dt;o=tS(r,o,x),a(st(st(st({},e),t),c())),l=h,d()||(u=i.setTimeout(f))};return()=>(u=i.setTimeout(f),()=>{u()})}function nI(e,t,r,n,a,i,l){var o=null,c=a.reduce((f,h)=>st(st({},f),{},{[h]:[e[h],t[h]]}),{}),d,u=f=>{d||(d=f);var h=(f-d)/n,m=Ll((g,b)=>ru(...b,r(h)),c);if(i(st(st(st({},e),t),m)),h<1)o=l.setTimeout(u);else{var x=Ll((g,b)=>ru(...b,r(1)),c);i(st(st(st({},e),t),x))}};return()=>(o=l.setTimeout(u),()=>{o()})}const sI=(e,t,r,n,a,i)=>{var l=QM(e,t);return r.isStepper===!0?rI(e,t,r,l,a,i):nI(e,t,r,n,l,a,i)};class aI{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}var iI=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Om.apply(null,arguments)}function lI(e,t){if(e==null)return{};var r,n,a=oI(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dy(Object(r),!0).forEach(function(n){Ls(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ls(e,t,r){return(t=cI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cI(e){var t=uI(e,"string");return typeof t=="symbol"?t:t+""}function uI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dI(){return WM(new aI)}class Hg extends w.PureComponent{constructor(t,r){super(t,r),Ls(this,"mounted",!1),Ls(this,"manager",null),Ls(this,"stopJSAnimation",null),Ls(this,"unSubscribe",null);var{isActive:n,attributeName:a,from:i,to:l,children:o,duration:c,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:l});return}if(i){if(typeof o=="function"){this.state={style:i};return}this.state={style:a?{[a]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:a,shouldReAnimate:i,to:l,from:o}=this.props,{style:c}=this.state;if(n){if(!r){var d={style:a?{[a]:l}:l};this.state&&c&&(a&&c[a]!==l||!a&&c!==l)&&this.setState(d);return}if(!(zM(t.to,l)&&t.canBegin&&t.isActive)){var u=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=u||i?o:t.to;if(this.state&&c){var h={style:a?{[a]:f}:f};(a&&c[a]!==f||!a&&c!==f)&&this.setState(h)}this.runAnimation($n($n({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:a,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c}=t,d=sI(r,n,HM(i),a,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=d()};this.manager.start([c,l,u,a,o])}runAnimation(t){var{begin:r,duration:n,attributeName:a,to:i,easing:l,onAnimationStart:o,onAnimationEnd:c,children:d}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof d=="function"||l==="spring"){this.runJSAnimation(t);return}var u=a?{[a]:i}:i,f=XM(Object.keys(u),n,l);this.manager.start([o,r,$n($n({},u),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:a,attributeName:i,easing:l,isActive:o,from:c,to:d,canBegin:u,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:m,animationManager:x}=t,g=lI(t,iI),b=w.Children.count(r),p=this.state.style;if(typeof r=="function")return r(p);if(!o||b===0||a<=0)return r;var y=v=>{var{style:S={},className:j}=v.props,N=w.cloneElement(v,$n($n({},g),{},{style:$n($n({},S),p),className:j}));return N};return b===1?y(w.Children.only(r)):w.createElement("div",null,w.Children.map(r,v=>y(v)))}}Ls(Hg,"displayName","Animate");Ls(Hg,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var fI=w.createContext(null);function ta(e){var t,r,n=w.useContext(fI);return w.createElement(Hg,Om({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:dI()}))}function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nu.apply(null,arguments)}var $y=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],f=0,h=4;f<h;f++)u[f]=a[f]>i?i:a[f];d="M".concat(e,",").concat(t+l*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+o*u[0],",").concat(t)),d+="L ".concat(e+r-o*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+l*u[1])),d+="L ".concat(e+r,",").concat(t+n-l*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-o*u[2],",").concat(t+n)),d+="L ".concat(e+o*u[3],",").concat(t+n),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-l*u[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);d="M ".concat(e,",").concat(t+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+r-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+l*m,`
            L `).concat(e+r,",").concat(t+n-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-o*m,",").concat(t+n,`
            L `).concat(e+o*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-l*m," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},hI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rS=e=>{var t=An(e,hI),r=w.useRef(null),[n,a]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var p=r.current.getTotalLength();p&&a(p)}catch{}},[]);var{x:i,y:l,width:o,height:c,radius:d,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:x,isUpdateAnimationActive:g}=t;if(i!==+i||l!==+l||o!==+o||c!==+c||o===0||c===0)return null;var b=de("recharts-rectangle",u);return g?w.createElement(ta,{canBegin:n>0,from:{width:o,height:c,x:i,y:l},to:{width:o,height:c,x:i,y:l},duration:h,animationEasing:f,isActive:g},p=>{var{width:y,height:v,x:S,y:j}=p;return w.createElement(ta,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:x,easing:f},w.createElement("path",nu({},ue(t,!0),{className:b,d:$y(S,j,y,v,d),ref:r})))}):w.createElement("path",nu({},ue(t,!0),{className:b,d:$y(i,l,o,c,d)}))};function nS(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,l=at(t,r,n,a),o=at(t,r,n,i);return{points:[l,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(null,arguments)}var mI=(e,t)=>{var r=Et(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Ho=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:c}=e,d=o*(l?1:-1)+n,u=Math.asin(o/d)/Zc,f=c?a:a+i*u,h=at(t,r,d,f),m=at(t,r,n,f),x=c?a-i*u:a,g=at(t,r,d*Math.cos(u*Zc),x);return{center:h,circleTangency:m,lineTangency:g,theta:u}},sS=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:l}=e,o=mI(i,l),c=i+o,d=at(t,r,a,i),u=at(t,r,a,c),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var h=at(t,r,n,i),m=at(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},pI=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:c,endAngle:d}=e,u=Et(d-c),{circleTangency:f,lineTangency:h,theta:m}=Ho({cx:t,cy:r,radius:a,angle:c,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:x,lineTangency:g,theta:b}=Ho({cx:t,cy:r,radius:a,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:o}),p=o?Math.abs(c-d):Math.abs(c-d)-m-b;if(p<0)return l?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):sS({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:d});var y="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(p>180),",").concat(+(u<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:v,lineTangency:S,theta:j}=Ho({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:N,lineTangency:_,theta:k}=Ho({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),A=o?Math.abs(c-d):Math.abs(c-d)-j-k;if(A<0&&i===0)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+="L".concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(v.x,",").concat(v.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else y+="L".concat(t,",").concat(r,"Z");return y},gI={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aS=e=>{var t=An(e,gI),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u,className:f}=t;if(i<a||d===u)return null;var h=de("recharts-sector",f),m=i-a,x=Rr(l,m,0,!0),g;return x>0&&Math.abs(d-u)<360?g=pI({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(x,m/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u}):g=sS({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u}),w.createElement("path",Em({},ue(t,!0),{className:h,d:g}))};function xI(e,t,r){var n,a,i,l;if(e==="horizontal")n=t.x,i=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:d,outerRadius:u,angle:f}=t,h=at(o,c,d,f),m=at(o,c,u,f);n=h.x,a=h.y,i=m.x,l=m.y}else return nS(t);return[{x:n,y:a},{x:i,y:l}]}var iS={},lS={},oS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mg;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(oS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oS;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(lS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ig,r=lS;function n(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),l=l===void 0?a<i?1:-1:r.toFinite(l);const o=Math.max(Math.ceil((i-a)/(l||1)),0),c=new Array(o);for(let d=0;d<o;d++)c[d]=a,a+=l;return c}e.range=n})(iS);var vI=iS.range;const cS=kn(vI);function ss(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yI(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vg(e){let t,r,n;e.length!==2?(t=ss,r=(o,c)=>ss(e(o),c),n=(o,c)=>e(o)-c):(t=e===ss||e===yI?e:bI,r=e,n=e);function a(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(o[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(o[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function l(o,c,d=0,u=o.length){const f=a(o,c,d,u-1);return f>d&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:a,center:l,right:i}}function bI(){return 0}function uS(e){return e===null?NaN:+e}function*wI(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const jI=Vg(ss),io=jI.right;Vg(uS).center;class Ly extends Map{constructor(t,r=_I){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Ry(this,t))}has(t){return super.has(Ry(this,t))}set(t,r){return super.set(NI(this,t),r)}delete(t){return super.delete(SI(this,t))}}function Ry({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function NI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function SI({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function _I(e){return e!==null&&typeof e=="object"?e.valueOf():e}function kI(e=ss){if(e===ss)return dS;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function dS(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const PI=Math.sqrt(50),CI=Math.sqrt(10),AI=Math.sqrt(2);function su(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=PI?10:i>=CI?5:i>=AI?2:1;let o,c,d;return a<0?(d=Math.pow(10,-a)/l,o=Math.round(e*d),c=Math.round(t*d),o/d<e&&++o,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*l,o=Math.round(e/d),c=Math.round(t/d),o*d<e&&++o,c*d>t&&--c),c<o&&.5<=r&&r<2?su(e,t,r*2):[o,c,d]}function Tm(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?su(t,e,r):su(e,t,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(l<0)for(let d=0;d<o;++d)c[d]=(i-d)/-l;else for(let d=0;d<o;++d)c[d]=(i-d)*l;else if(l<0)for(let d=0;d<o;++d)c[d]=(a+d)/-l;else for(let d=0;d<o;++d)c[d]=(a+d)*l;return c}function Mm(e,t,r){return t=+t,e=+e,r=+r,su(e,t,r)[2]}function Im(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Mm(t,e,r):Mm(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Fy(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Uy(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function fS(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?dS:kI(a);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),m=Math.max(r,Math.floor(t-d*f/c+h)),x=Math.min(n,Math.floor(t+(c-d)*f/c+h));fS(e,t,m,x,a)}const i=e[t];let l=r,o=n;for(Ii(e,r,t),a(e[n],i)>0&&Ii(e,r,n);l<o;){for(Ii(e,l,o),++l,--o;a(e[l],i)<0;)++l;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Ii(e,r,o):(++o,Ii(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Ii(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function OI(e,t,r){if(e=Float64Array.from(wI(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Uy(e);if(t>=1)return Fy(e);var n,a=(n-1)*t,i=Math.floor(a),l=Fy(fS(e,i).subarray(0,i+1)),o=Uy(e.subarray(i+1));return l+(o-l)*(a-i)}}function EI(e,t,r=uS){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return l+(o-l)*(a-i)}}function TI(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Sr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function On(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Dm=Symbol("implicit");function Yg(){var e=new Ly,t=[],r=[],n=Dm;function a(i){let l=e.get(i);if(l===void 0){if(n!==Dm)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Ly;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Yg(t,r).unknown(n)},Sr.apply(a,arguments),a}function Gg(){var e=Yg().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,o=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var h=t().length,m=a<n,x=m?a:n,g=m?n:a;i=(g-x)/Math.max(1,h-c+d*2),o&&(i=Math.floor(i)),x+=(g-x-i*(h-c))*u,l=i*(1-c),o&&(x=Math.round(x),l=Math.round(l));var b=TI(h).map(function(p){return x+i*p});return r(m?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,f()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return Gg(t(),[n,a]).round(o).paddingInner(c).paddingOuter(d).align(u)},Sr.apply(f(),arguments)}function hS(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return hS(t())},e}function MI(){return hS(Gg.apply(null,arguments).paddingInner(1))}function Jg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function mS(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function lo(){}var Rl=.7,au=1/Rl,Fa="\\s*([+-]?\\d+)\\s*",Fl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",II=/^#([0-9a-f]{3,8})$/,DI=new RegExp(`^rgb\\(${Fa},${Fa},${Fa}\\)$`),$I=new RegExp(`^rgb\\(${Yr},${Yr},${Yr}\\)$`),LI=new RegExp(`^rgba\\(${Fa},${Fa},${Fa},${Fl}\\)$`),RI=new RegExp(`^rgba\\(${Yr},${Yr},${Yr},${Fl}\\)$`),FI=new RegExp(`^hsl\\(${Fl},${Yr},${Yr}\\)$`),UI=new RegExp(`^hsla\\(${Fl},${Yr},${Yr},${Fl}\\)$`),By={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jg(lo,Ul,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zy,formatHex:zy,formatHex8:BI,formatHsl:zI,formatRgb:Wy,toString:Wy});function zy(){return this.rgb().formatHex()}function BI(){return this.rgb().formatHex8()}function zI(){return pS(this).formatHsl()}function Wy(){return this.rgb().formatRgb()}function Ul(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=II.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ky(t):r===3?new Tt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Vo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Vo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=DI.exec(e))?new Tt(t[1],t[2],t[3],1):(t=$I.exec(e))?new Tt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=LI.exec(e))?Vo(t[1],t[2],t[3],t[4]):(t=RI.exec(e))?Vo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=FI.exec(e))?Vy(t[1],t[2]/100,t[3]/100,1):(t=UI.exec(e))?Vy(t[1],t[2]/100,t[3]/100,t[4]):By.hasOwnProperty(e)?Ky(By[e]):e==="transparent"?new Tt(NaN,NaN,NaN,0):null}function Ky(e){return new Tt(e>>16&255,e>>8&255,e&255,1)}function Vo(e,t,r,n){return n<=0&&(e=t=r=NaN),new Tt(e,t,r,n)}function WI(e){return e instanceof lo||(e=Ul(e)),e?(e=e.rgb(),new Tt(e.r,e.g,e.b,e.opacity)):new Tt}function $m(e,t,r,n){return arguments.length===1?WI(e):new Tt(e,t,r,n??1)}function Tt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Jg(Tt,$m,mS(lo,{brighter(e){return e=e==null?au:Math.pow(au,e),new Tt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rl:Math.pow(Rl,e),new Tt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tt(qs(this.r),qs(this.g),qs(this.b),iu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qy,formatHex:qy,formatHex8:KI,formatRgb:Hy,toString:Hy}));function qy(){return`#${Rs(this.r)}${Rs(this.g)}${Rs(this.b)}`}function KI(){return`#${Rs(this.r)}${Rs(this.g)}${Rs(this.b)}${Rs((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hy(){const e=iu(this.opacity);return`${e===1?"rgb(":"rgba("}${qs(this.r)}, ${qs(this.g)}, ${qs(this.b)}${e===1?")":`, ${e})`}`}function iu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Rs(e){return e=qs(e),(e<16?"0":"")+e.toString(16)}function Vy(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ir(e,t,r,n)}function pS(e){if(e instanceof Ir)return new Ir(e.h,e.s,e.l,e.opacity);if(e instanceof lo||(e=Ul(e)),!e)return new Ir;if(e instanceof Ir)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,o=i-a,c=(i+a)/2;return o?(t===i?l=(r-n)/o+(r<n)*6:r===i?l=(n-t)/o+2:l=(t-r)/o+4,o/=c<.5?i+a:2-i-a,l*=60):o=c>0&&c<1?0:l,new Ir(l,o,c,e.opacity)}function qI(e,t,r,n){return arguments.length===1?pS(e):new Ir(e,t,r,n??1)}function Ir(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Jg(Ir,qI,mS(lo,{brighter(e){return e=e==null?au:Math.pow(au,e),new Ir(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rl:Math.pow(Rl,e),new Ir(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Tt(Wf(e>=240?e-240:e+120,a,n),Wf(e,a,n),Wf(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ir(Yy(this.h),Yo(this.s),Yo(this.l),iu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=iu(this.opacity);return`${e===1?"hsl(":"hsla("}${Yy(this.h)}, ${Yo(this.s)*100}%, ${Yo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Yy(e){return e=(e||0)%360,e<0?e+360:e}function Yo(e){return Math.max(0,Math.min(1,e||0))}function Wf(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Xg=e=>()=>e;function HI(e,t){return function(r){return e+r*t}}function VI(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function YI(e){return(e=+e)==1?gS:function(t,r){return r-t?VI(t,r,e):Xg(isNaN(t)?r:t)}}function gS(e,t){var r=t-e;return r?HI(e,r):Xg(isNaN(e)?t:e)}const Gy=function e(t){var r=YI(t);function n(a,i){var l=r((a=$m(a)).r,(i=$m(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),d=gS(a.opacity,i.opacity);return function(u){return a.r=l(u),a.g=o(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=e,n}(1);function GI(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function JI(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function XI(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=hi(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(o){for(l=0;l<n;++l)i[l]=a[l](o);return i}}function QI(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function lu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ZI(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=hi(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Lm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kf=new RegExp(Lm.source,"g");function eD(e){return function(){return e}}function tD(e){return function(t){return e(t)+""}}function rD(e,t){var r=Lm.lastIndex=Kf.lastIndex=0,n,a,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(n=Lm.exec(e))&&(a=Kf.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[l]?o[l]+=i:o[++l]=i),(n=n[0])===(a=a[0])?o[l]?o[l]+=a:o[++l]=a:(o[++l]=null,c.push({i:l,x:lu(n,a)})),r=Kf.lastIndex;return r<t.length&&(i=t.slice(r),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?tD(c[0].x):eD(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)o[(f=c[u]).i]=f.x(d);return o.join("")})}function hi(e,t){var r=typeof t,n;return t==null||r==="boolean"?Xg(t):(r==="number"?lu:r==="string"?(n=Ul(t))?(t=n,Gy):rD:t instanceof Ul?Gy:t instanceof Date?QI:JI(t)?GI:Array.isArray(t)?XI:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ZI:lu)(e,t)}function Qg(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function nD(e,t){t===void 0&&(t=e,e=hi);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var o=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[o](l-o)}}function sD(e){return function(){return e}}function ou(e){return+e}var Jy=[0,1];function bt(e){return e}function Rm(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:sD(isNaN(t)?NaN:.5)}function aD(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function iD(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=Rm(a,n),i=r(l,i)):(n=Rm(n,a),i=r(i,l)),function(o){return i(n(o))}}function lD(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Rm(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(o){var c=io(e,o,1,n)-1;return i[c](a[c](o))}}function oo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Cd(){var e=Jy,t=Jy,r=hi,n,a,i,l=bt,o,c,d;function u(){var h=Math.min(e.length,t.length);return l!==bt&&(l=aD(e[0],e[h-1])),o=h>2?lD:iD,c=d=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=o(e.map(n),t,r)))(n(l(h)))}return f.invert=function(h){return l(a((d||(d=o(t,e.map(n),lu)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ou),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Qg,u()},f.clamp=function(h){return arguments.length?(l=h?!0:bt,u()):l!==bt},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,u()}}function Zg(){return Cd()(bt,bt)}function oD(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Za(e){return e=cu(Math.abs(e)),e?e[1]:NaN}function cD(e,t){return function(r,n){for(var a=r.length,i=[],l=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function uD(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var dD=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bl(e){if(!(t=dD.exec(e)))throw new Error("invalid format: "+e);var t;return new e0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Bl.prototype=e0.prototype;function e0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}e0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fD(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var xS;function hD(e,t){var r=cu(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(xS=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+cu(e,Math.max(0,t+i-1))[0]}function Xy(e,t){var r=cu(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Qy={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oD,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Xy(e*100,t),r:Xy,s:hD,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Zy(e){return e}var eb=Array.prototype.map,tb=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mD(e){var t=e.grouping===void 0||e.thousands===void 0?Zy:cD(eb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Zy:uD(eb.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=Bl(f);var h=f.fill,m=f.align,x=f.sign,g=f.symbol,b=f.zero,p=f.width,y=f.comma,v=f.precision,S=f.trim,j=f.type;j==="n"?(y=!0,j="g"):Qy[j]||(v===void 0&&(v=12),S=!0,j="g"),(b||h==="0"&&m==="=")&&(b=!0,h="0",m="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",_=g==="$"?n:/[%p]/.test(j)?l:"",k=Qy[j],A=/[defgprs%]/.test(j);v=v===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function O(P){var C=N,E=_,F,z,M;if(j==="c")E=k(P)+E,P="";else{P=+P;var U=P<0||1/P<0;if(P=isNaN(P)?c:k(Math.abs(P),v),S&&(P=fD(P)),U&&+P==0&&x!=="+"&&(U=!1),C=(U?x==="("?x:o:x==="-"||x==="("?"":x)+C,E=(j==="s"?tb[8+xS/3]:"")+E+(U&&x==="("?")":""),A){for(F=-1,z=P.length;++F<z;)if(M=P.charCodeAt(F),48>M||M>57){E=(M===46?a+P.slice(F+1):P.slice(F))+E,P=P.slice(0,F);break}}}y&&!b&&(P=t(P,1/0));var I=C.length+P.length+E.length,B=I<p?new Array(p-I+1).join(h):"";switch(y&&b&&(P=t(B+P,B.length?p-E.length:1/0),B=""),m){case"<":P=C+P+E+B;break;case"=":P=C+B+P+E;break;case"^":P=B.slice(0,I=B.length>>1)+C+P+E+B.slice(I);break;default:P=B+C+P+E;break}return i(P)}return O.toString=function(){return f+""},O}function u(f,h){var m=d((f=Bl(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(Za(h)/3)))*3,g=Math.pow(10,-x),b=tb[8+x/3];return function(p){return m(g*p)+b}}return{format:d,formatPrefix:u}}var Go,t0,vS;pD({thousands:",",grouping:[3],currency:["$",""]});function pD(e){return Go=mD(e),t0=Go.format,vS=Go.formatPrefix,Go}function gD(e){return Math.max(0,-Za(Math.abs(e)))}function xD(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Za(t)/3)))*3-Za(Math.abs(e)))}function vD(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Za(t)-Za(e))+1}function yS(e,t,r,n){var a=Im(e,t,r),i;switch(n=Bl(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=xD(a,l))&&(n.precision=i),vS(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=vD(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=gD(a))&&(n.precision=i-(n.type==="%")*2);break}}return t0(n)}function ys(e){var t=e.domain;return e.ticks=function(r){var n=t();return Tm(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return yS(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],o=n[i],c,d,u=10;for(o<l&&(d=l,l=o,o=d,d=a,a=i,i=d);u-- >0;){if(d=Mm(l,o,r),d===c)return n[a]=l,n[i]=o,t(n);if(d>0)l=Math.floor(l/d)*d,o=Math.ceil(o/d)*d;else if(d<0)l=Math.ceil(l*d)/d,o=Math.floor(o*d)/d;else break;c=d}return e},e}function bS(){var e=Zg();return e.copy=function(){return oo(e,bS())},Sr.apply(e,arguments),ys(e)}function wS(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ou),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return wS(e).unknown(t)},e=arguments.length?Array.from(e,ou):[0,1],ys(r)}function jS(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function rb(e){return Math.log(e)}function nb(e){return Math.exp(e)}function yD(e){return-Math.log(-e)}function bD(e){return-Math.exp(-e)}function wD(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jD(e){return e===10?wD:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ND(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sb(e){return(t,r)=>-e(-t,r)}function r0(e){const t=e(rb,nb),r=t.domain;let n=10,a,i;function l(){return a=ND(n),i=jD(n),r()[0]<0?(a=sb(a),i=sb(i),e(yD,bD)):e(rb,nb),t}return t.base=function(o){return arguments.length?(n=+o,l()):n},t.domain=function(o){return arguments.length?(r(o),l()):r()},t.ticks=o=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let h=a(d),m=a(u),x,g;const b=o==null?10:+o;let p=[];if(!(n%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),d>0){for(;h<=m;++h)for(x=1;x<n;++x)if(g=h<0?x/i(-h):x*i(h),!(g<d)){if(g>u)break;p.push(g)}}else for(;h<=m;++h)for(x=n-1;x>=1;--x)if(g=h>0?x/i(-h):x*i(h),!(g<d)){if(g>u)break;p.push(g)}p.length*2<b&&(p=Tm(d,u,b))}else p=Tm(h,m,Math.min(m-h,b)).map(i);return f?p.reverse():p},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Bl(c)).precision==null&&(c.trim=!0),c=t0(c)),o===1/0)return c;const d=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=d?c(u):""}},t.nice=()=>r(jS(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function NS(){const e=r0(Cd()).domain([1,10]);return e.copy=()=>oo(e,NS()).base(e.base()),Sr.apply(e,arguments),e}function ab(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ib(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function n0(e){var t=1,r=e(ab(t),ib(t));return r.constant=function(n){return arguments.length?e(ab(t=+n),ib(t)):t},ys(r)}function SS(){var e=n0(Cd());return e.copy=function(){return oo(e,SS()).constant(e.constant())},Sr.apply(e,arguments)}function lb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function SD(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _D(e){return e<0?-e*e:e*e}function s0(e){var t=e(bt,bt),r=1;function n(){return r===1?e(bt,bt):r===.5?e(SD,_D):e(lb(r),lb(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ys(t)}function a0(){var e=s0(Cd());return e.copy=function(){return oo(e,a0()).exponent(e.exponent())},Sr.apply(e,arguments),e}function kD(){return a0.apply(null,arguments).exponent(.5)}function ob(e){return Math.sign(e)*e*e}function PD(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function _S(){var e=Zg(),t=[0,1],r=!1,n;function a(i){var l=PD(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert(ob(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ou)).map(ob)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return _S(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Sr.apply(a,arguments),ys(a)}function kS(){var e=[],t=[],r=[],n;function a(){var l=0,o=Math.max(1,t.length);for(r=new Array(o-1);++l<o;)r[l-1]=EI(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?n:t[io(r,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ss),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return kS().domain(e).range(t).unknown(n)},Sr.apply(i,arguments)}function PS(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(c){return c!=null&&c<=c?a[io(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},l.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return n.slice()},l.copy=function(){return PS().domain([e,t]).range(a).unknown(i)},Sr.apply(ys(l),arguments)}function CS(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[io(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return CS().domain(e).range(t).unknown(r)},Sr.apply(a,arguments)}const qf=new Date,Hf=new Date;function Ve(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),o=a.ceil(i);return i-l<o-i?l:o},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let d;do c.push(d=new Date(+i)),t(i,o),e(i);while(d<i&&i<l);return c},a.filter=i=>Ve(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(qf.setTime(+i),Hf.setTime(+l),e(qf),e(Hf),Math.floor(r(qf,Hf))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const uu=Ve(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);uu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ve(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):uu);uu.range;const hn=1e3,pr=hn*60,mn=pr*60,Nn=mn*24,i0=Nn*7,cb=Nn*30,Vf=Nn*365,Fs=Ve(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*hn)},(e,t)=>(t-e)/hn,e=>e.getUTCSeconds());Fs.range;const l0=Ve(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hn)},(e,t)=>{e.setTime(+e+t*pr)},(e,t)=>(t-e)/pr,e=>e.getMinutes());l0.range;const o0=Ve(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pr)},(e,t)=>(t-e)/pr,e=>e.getUTCMinutes());o0.range;const c0=Ve(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hn-e.getMinutes()*pr)},(e,t)=>{e.setTime(+e+t*mn)},(e,t)=>(t-e)/mn,e=>e.getHours());c0.range;const u0=Ve(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*mn)},(e,t)=>(t-e)/mn,e=>e.getUTCHours());u0.range;const co=Ve(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pr)/Nn,e=>e.getDate()-1);co.range;const Ad=Ve(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Nn,e=>e.getUTCDate()-1);Ad.range;const AS=Ve(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Nn,e=>Math.floor(e/Nn));AS.range;function ia(e){return Ve(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*pr)/i0)}const Od=ia(0),du=ia(1),CD=ia(2),AD=ia(3),ei=ia(4),OD=ia(5),ED=ia(6);Od.range;du.range;CD.range;AD.range;ei.range;OD.range;ED.range;function la(e){return Ve(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/i0)}const Ed=la(0),fu=la(1),TD=la(2),MD=la(3),ti=la(4),ID=la(5),DD=la(6);Ed.range;fu.range;TD.range;MD.range;ti.range;ID.range;DD.range;const d0=Ve(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());d0.range;const f0=Ve(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());f0.range;const Sn=Ve(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Sn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ve(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Sn.range;const _n=Ve(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_n.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ve(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});_n.range;function OS(e,t,r,n,a,i){const l=[[Fs,1,hn],[Fs,5,5*hn],[Fs,15,15*hn],[Fs,30,30*hn],[i,1,pr],[i,5,5*pr],[i,15,15*pr],[i,30,30*pr],[a,1,mn],[a,3,3*mn],[a,6,6*mn],[a,12,12*mn],[n,1,Nn],[n,2,2*Nn],[r,1,i0],[t,1,cb],[t,3,3*cb],[e,1,Vf]];function o(d,u,f){const h=u<d;h&&([d,u]=[u,d]);const m=f&&typeof f.range=="function"?f:c(d,u,f),x=m?m.range(d,+u+1):[];return h?x.reverse():x}function c(d,u,f){const h=Math.abs(u-d)/f,m=Vg(([,,b])=>b).right(l,h);if(m===l.length)return e.every(Im(d/Vf,u/Vf,f));if(m===0)return uu.every(Math.max(Im(d,u,f),1));const[x,g]=l[h/l[m-1][2]<l[m][2]/h?m-1:m];return x.every(g)}return[o,c]}const[$D,LD]=OS(_n,f0,Ed,AS,u0,o0),[RD,FD]=OS(Sn,d0,Od,co,c0,l0);function Yf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Di(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function UD(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,d=$i(a),u=Li(a),f=$i(i),h=Li(i),m=$i(l),x=Li(l),g=$i(o),b=Li(o),p=$i(c),y=Li(c),v={a:U,A:I,b:B,B:Y,c:null,d:pb,e:pb,f:c$,g:y$,G:w$,H:i$,I:l$,j:o$,L:ES,m:u$,M:d$,p:R,q:D,Q:vb,s:yb,S:f$,u:h$,U:m$,V:p$,w:g$,W:x$,x:null,X:null,y:v$,Y:b$,Z:j$,"%":xb},S={a:ne,A:ve,b:oe,B:$e,c:null,d:gb,e:gb,f:k$,g:$$,G:R$,H:N$,I:S$,j:_$,L:MS,m:P$,M:C$,p:Br,q:Gd,Q:vb,s:yb,S:A$,u:O$,U:E$,V:T$,w:M$,W:I$,x:null,X:null,y:D$,Y:L$,Z:F$,"%":xb},j={a:O,A:P,b:C,B:E,c:F,d:hb,e:hb,f:r$,g:fb,G:db,H:mb,I:mb,j:QD,L:t$,m:XD,M:ZD,p:A,q:JD,Q:s$,s:a$,S:e$,u:qD,U:HD,V:VD,w:KD,W:YD,x:z,X:M,y:fb,Y:db,Z:GD,"%":n$};v.x=N(r,v),v.X=N(n,v),v.c=N(t,v),S.x=N(r,S),S.X=N(n,S),S.c=N(t,S);function N(q,ee){return function(se){var L=[],_t=-1,ye=0,Ft=q.length,Ut,Ns,Q0;for(se instanceof Date||(se=new Date(+se));++_t<Ft;)q.charCodeAt(_t)===37&&(L.push(q.slice(ye,_t)),(Ns=ub[Ut=q.charAt(++_t)])!=null?Ut=q.charAt(++_t):Ns=Ut==="e"?" ":"0",(Q0=ee[Ut])&&(Ut=Q0(se,Ns)),L.push(Ut),ye=_t+1);return L.push(q.slice(ye,_t)),L.join("")}}function _(q,ee){return function(se){var L=Di(1900,void 0,1),_t=k(L,q,se+="",0),ye,Ft;if(_t!=se.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(ee&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(ye=Gf(Di(L.y,0,1)),Ft=ye.getUTCDay(),ye=Ft>4||Ft===0?fu.ceil(ye):fu(ye),ye=Ad.offset(ye,(L.V-1)*7),L.y=ye.getUTCFullYear(),L.m=ye.getUTCMonth(),L.d=ye.getUTCDate()+(L.w+6)%7):(ye=Yf(Di(L.y,0,1)),Ft=ye.getDay(),ye=Ft>4||Ft===0?du.ceil(ye):du(ye),ye=co.offset(ye,(L.V-1)*7),L.y=ye.getFullYear(),L.m=ye.getMonth(),L.d=ye.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Ft="Z"in L?Gf(Di(L.y,0,1)).getUTCDay():Yf(Di(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Ft+5)%7:L.w+L.U*7-(Ft+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Gf(L)):Yf(L)}}function k(q,ee,se,L){for(var _t=0,ye=ee.length,Ft=se.length,Ut,Ns;_t<ye;){if(L>=Ft)return-1;if(Ut=ee.charCodeAt(_t++),Ut===37){if(Ut=ee.charAt(_t++),Ns=j[Ut in ub?ee.charAt(_t++):Ut],!Ns||(L=Ns(q,se,L))<0)return-1}else if(Ut!=se.charCodeAt(L++))return-1}return L}function A(q,ee,se){var L=d.exec(ee.slice(se));return L?(q.p=u.get(L[0].toLowerCase()),se+L[0].length):-1}function O(q,ee,se){var L=m.exec(ee.slice(se));return L?(q.w=x.get(L[0].toLowerCase()),se+L[0].length):-1}function P(q,ee,se){var L=f.exec(ee.slice(se));return L?(q.w=h.get(L[0].toLowerCase()),se+L[0].length):-1}function C(q,ee,se){var L=p.exec(ee.slice(se));return L?(q.m=y.get(L[0].toLowerCase()),se+L[0].length):-1}function E(q,ee,se){var L=g.exec(ee.slice(se));return L?(q.m=b.get(L[0].toLowerCase()),se+L[0].length):-1}function F(q,ee,se){return k(q,t,ee,se)}function z(q,ee,se){return k(q,r,ee,se)}function M(q,ee,se){return k(q,n,ee,se)}function U(q){return l[q.getDay()]}function I(q){return i[q.getDay()]}function B(q){return c[q.getMonth()]}function Y(q){return o[q.getMonth()]}function R(q){return a[+(q.getHours()>=12)]}function D(q){return 1+~~(q.getMonth()/3)}function ne(q){return l[q.getUTCDay()]}function ve(q){return i[q.getUTCDay()]}function oe(q){return c[q.getUTCMonth()]}function $e(q){return o[q.getUTCMonth()]}function Br(q){return a[+(q.getUTCHours()>=12)]}function Gd(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var ee=N(q+="",v);return ee.toString=function(){return q},ee},parse:function(q){var ee=_(q+="",!1);return ee.toString=function(){return q},ee},utcFormat:function(q){var ee=N(q+="",S);return ee.toString=function(){return q},ee},utcParse:function(q){var ee=_(q+="",!0);return ee.toString=function(){return q},ee}}}var ub={"-":"",_:" ",0:"0"},Ze=/^\s*\d+/,BD=/^%/,zD=/[\\^$*+?|[\]().{}]/g;function le(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function WD(e){return e.replace(zD,"\\$&")}function $i(e){return new RegExp("^(?:"+e.map(WD).join("|")+")","i")}function Li(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function KD(e,t,r){var n=Ze.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function qD(e,t,r){var n=Ze.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function HD(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function VD(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function YD(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function db(e,t,r){var n=Ze.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function fb(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GD(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function JD(e,t,r){var n=Ze.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function XD(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function hb(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function QD(e,t,r){var n=Ze.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function mb(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ZD(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function e$(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function t$(e,t,r){var n=Ze.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function r$(e,t,r){var n=Ze.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function n$(e,t,r){var n=BD.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function s$(e,t,r){var n=Ze.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function a$(e,t,r){var n=Ze.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function pb(e,t){return le(e.getDate(),t,2)}function i$(e,t){return le(e.getHours(),t,2)}function l$(e,t){return le(e.getHours()%12||12,t,2)}function o$(e,t){return le(1+co.count(Sn(e),e),t,3)}function ES(e,t){return le(e.getMilliseconds(),t,3)}function c$(e,t){return ES(e,t)+"000"}function u$(e,t){return le(e.getMonth()+1,t,2)}function d$(e,t){return le(e.getMinutes(),t,2)}function f$(e,t){return le(e.getSeconds(),t,2)}function h$(e){var t=e.getDay();return t===0?7:t}function m$(e,t){return le(Od.count(Sn(e)-1,e),t,2)}function TS(e){var t=e.getDay();return t>=4||t===0?ei(e):ei.ceil(e)}function p$(e,t){return e=TS(e),le(ei.count(Sn(e),e)+(Sn(e).getDay()===4),t,2)}function g$(e){return e.getDay()}function x$(e,t){return le(du.count(Sn(e)-1,e),t,2)}function v$(e,t){return le(e.getFullYear()%100,t,2)}function y$(e,t){return e=TS(e),le(e.getFullYear()%100,t,2)}function b$(e,t){return le(e.getFullYear()%1e4,t,4)}function w$(e,t){var r=e.getDay();return e=r>=4||r===0?ei(e):ei.ceil(e),le(e.getFullYear()%1e4,t,4)}function j$(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+le(t/60|0,"0",2)+le(t%60,"0",2)}function gb(e,t){return le(e.getUTCDate(),t,2)}function N$(e,t){return le(e.getUTCHours(),t,2)}function S$(e,t){return le(e.getUTCHours()%12||12,t,2)}function _$(e,t){return le(1+Ad.count(_n(e),e),t,3)}function MS(e,t){return le(e.getUTCMilliseconds(),t,3)}function k$(e,t){return MS(e,t)+"000"}function P$(e,t){return le(e.getUTCMonth()+1,t,2)}function C$(e,t){return le(e.getUTCMinutes(),t,2)}function A$(e,t){return le(e.getUTCSeconds(),t,2)}function O$(e){var t=e.getUTCDay();return t===0?7:t}function E$(e,t){return le(Ed.count(_n(e)-1,e),t,2)}function IS(e){var t=e.getUTCDay();return t>=4||t===0?ti(e):ti.ceil(e)}function T$(e,t){return e=IS(e),le(ti.count(_n(e),e)+(_n(e).getUTCDay()===4),t,2)}function M$(e){return e.getUTCDay()}function I$(e,t){return le(fu.count(_n(e)-1,e),t,2)}function D$(e,t){return le(e.getUTCFullYear()%100,t,2)}function $$(e,t){return e=IS(e),le(e.getUTCFullYear()%100,t,2)}function L$(e,t){return le(e.getUTCFullYear()%1e4,t,4)}function R$(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ti(e):ti.ceil(e),le(e.getUTCFullYear()%1e4,t,4)}function F$(){return"+0000"}function xb(){return"%"}function vb(e){return+e}function yb(e){return Math.floor(+e/1e3)}var pa,DS,$S;U$({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function U$(e){return pa=UD(e),DS=pa.format,pa.parse,$S=pa.utcFormat,pa.utcParse,pa}function B$(e){return new Date(e)}function z$(e){return e instanceof Date?+e:+new Date(+e)}function h0(e,t,r,n,a,i,l,o,c,d){var u=Zg(),f=u.invert,h=u.domain,m=d(".%L"),x=d(":%S"),g=d("%I:%M"),b=d("%I %p"),p=d("%a %d"),y=d("%b %d"),v=d("%B"),S=d("%Y");function j(N){return(c(N)<N?m:o(N)<N?x:l(N)<N?g:i(N)<N?b:n(N)<N?a(N)<N?p:y:r(N)<N?v:S)(N)}return u.invert=function(N){return new Date(f(N))},u.domain=function(N){return arguments.length?h(Array.from(N,z$)):h().map(B$)},u.ticks=function(N){var _=h();return e(_[0],_[_.length-1],N??10)},u.tickFormat=function(N,_){return _==null?j:d(_)},u.nice=function(N){var _=h();return(!N||typeof N.range!="function")&&(N=t(_[0],_[_.length-1],N??10)),N?h(jS(_,N)):u},u.copy=function(){return oo(u,h0(e,t,r,n,a,i,l,o,c,d))},u}function W$(){return Sr.apply(h0(RD,FD,Sn,d0,Od,co,c0,l0,Fs,DS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function K$(){return Sr.apply(h0($D,LD,_n,f0,Ed,Ad,u0,o0,Fs,$S).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Td(){var e=0,t=1,r,n,a,i,l=bt,o=!1,c;function d(f){return f==null||isNaN(f=+f)?c:l(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(f){return arguments.length?(o=!!f,d):o},d.interpolator=function(f){return arguments.length?(l=f,d):l};function u(f){return function(h){var m,x;return arguments.length?([m,x]=h,l=f(m,x),d):[l(0),l(1)]}}return d.range=u(hi),d.rangeRound=u(Qg),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),d}}function bs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function LS(){var e=ys(Td()(bt));return e.copy=function(){return bs(e,LS())},On.apply(e,arguments)}function RS(){var e=r0(Td()).domain([1,10]);return e.copy=function(){return bs(e,RS()).base(e.base())},On.apply(e,arguments)}function FS(){var e=n0(Td());return e.copy=function(){return bs(e,FS()).constant(e.constant())},On.apply(e,arguments)}function m0(){var e=s0(Td());return e.copy=function(){return bs(e,m0()).exponent(e.exponent())},On.apply(e,arguments)}function q$(){return m0.apply(null,arguments).exponent(.5)}function US(){var e=[],t=bt;function r(n){if(n!=null&&!isNaN(n=+n))return t((io(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ss),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>OI(e,i/n))},r.copy=function(){return US(t).domain(e)},On.apply(r,arguments)}function Md(){var e=0,t=.5,r=1,n=1,a,i,l,o,c,d=bt,u,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-i)*(n*g<n*i?o:c),d(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=u(e=+e),i=u(t=+t),l=u(r=+r),o=a===i?0:.5/(i-a),c=i===l?0:.5/(l-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(d=g,m):d};function x(g){return function(b){var p,y,v;return arguments.length?([p,y,v]=b,d=nD(g,[p,y,v]),m):[d(0),d(.5),d(1)]}}return m.range=x(hi),m.rangeRound=x(Qg),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return u=g,a=g(e),i=g(t),l=g(r),o=a===i?0:.5/(i-a),c=i===l?0:.5/(l-i),n=i<a?-1:1,m}}function BS(){var e=ys(Md()(bt));return e.copy=function(){return bs(e,BS())},On.apply(e,arguments)}function zS(){var e=r0(Md()).domain([.1,1,10]);return e.copy=function(){return bs(e,zS()).base(e.base())},On.apply(e,arguments)}function WS(){var e=n0(Md());return e.copy=function(){return bs(e,WS()).constant(e.constant())},On.apply(e,arguments)}function p0(){var e=s0(Md());return e.copy=function(){return bs(e,p0()).exponent(e.exponent())},On.apply(e,arguments)}function H$(){return p0.apply(null,arguments).exponent(.5)}const qi=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gg,scaleDiverging:BS,scaleDivergingLog:zS,scaleDivergingPow:p0,scaleDivergingSqrt:H$,scaleDivergingSymlog:WS,scaleIdentity:wS,scaleImplicit:Dm,scaleLinear:bS,scaleLog:NS,scaleOrdinal:Yg,scalePoint:MI,scalePow:a0,scaleQuantile:kS,scaleQuantize:PS,scaleRadial:_S,scaleSequential:LS,scaleSequentialLog:RS,scaleSequentialPow:m0,scaleSequentialQuantile:US,scaleSequentialSqrt:q$,scaleSequentialSymlog:FS,scaleSqrt:kD,scaleSymlog:SS,scaleThreshold:CS,scaleTime:W$,scaleUtc:K$,tickFormat:yS},Symbol.toStringTag,{value:"Module"}));var mi=e=>e.chartData,V$=T([mi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),g0=(e,t,r,n)=>n?V$(e):mi(e);function ri(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(nr(t)&&nr(r))return!0}return!1}function bb(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Y$(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(nr(r))a=r;else if(typeof r=="function")return;if(nr(n))i=n;else if(typeof n=="function")return;var l=[a,i];if(ri(l))return l}}function G$(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ri(n))return bb(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,o;if(a==="auto")t!=null&&(l=Math.min(...t));else if(H(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&gy.test(a)){var c=gy.exec(a);if(c==null||t==null)l=void 0;else{var d=+c[1];l=t[0]-d}}else l=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(H(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&xy.test(i)){var u=xy.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[l,o];if(ri(h))return t==null?h:bb(h,t,r)}}}var pi=1e9,J$={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},v0,Ee=!0,wr="[DecimalError] ",Hs=wr+"Invalid argument: ",x0=wr+"Exponent out of range: ",gi=Math.floor,Es=Math.pow,X$=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vt,Ge=1e7,Se=7,KS=9007199254740991,hu=gi(KS/Se),K={};K.absoluteValue=K.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};K.comparedTo=K.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};K.decimalPlaces=K.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Se;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};K.dividedBy=K.div=function(e){return gn(this,new this.constructor(e))};K.dividedToIntegerBy=K.idiv=function(e){var t=this,r=t.constructor;return pe(gn(t,new r(e),0,1),r.precision)};K.equals=K.eq=function(e){return!this.cmp(e)};K.exponent=function(){return ze(this)};K.greaterThan=K.gt=function(e){return this.cmp(e)>0};K.greaterThanOrEqualTo=K.gte=function(e){return this.cmp(e)>=0};K.isInteger=K.isint=function(){return this.e>this.d.length-2};K.isNegative=K.isneg=function(){return this.s<0};K.isPositive=K.ispos=function(){return this.s>0};K.isZero=function(){return this.s===0};K.lessThan=K.lt=function(e){return this.cmp(e)<0};K.lessThanOrEqualTo=K.lte=function(e){return this.cmp(e)<1};K.logarithm=K.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Vt))throw Error(wr+"NaN");if(r.s<1)throw Error(wr+(r.s?"NaN":"-Infinity"));return r.eq(Vt)?new n(0):(Ee=!1,t=gn(zl(r,i),zl(e,i),i),Ee=!0,pe(t,a))};K.minus=K.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?VS(t,e):qS(t,(e.s=-e.s,e))};K.modulo=K.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(wr+"NaN");return r.s?(Ee=!1,t=gn(r,e,0,1).times(e),Ee=!0,r.minus(t)):pe(new n(r),a)};K.naturalExponential=K.exp=function(){return HS(this)};K.naturalLogarithm=K.ln=function(){return zl(this)};K.negated=K.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};K.plus=K.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qS(t,e):VS(t,(e.s=-e.s,e))};K.precision=K.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hs+e);if(t=ze(a)+1,n=a.d.length-1,r=n*Se+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};K.squareRoot=K.sqrt=function(){var e,t,r,n,a,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(wr+"NaN")}for(e=ze(o),Ee=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=qr(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=gi((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=l=r+3;;)if(i=n,n=i.plus(gn(o,i,l+2)).times(.5),qr(i.d).slice(0,l)===(t=qr(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(pe(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;l+=4}return Ee=!0,pe(n,r)};K.times=K.mul=function(e){var t,r,n,a,i,l,o,c,d,u=this,f=u.constructor,h=u.d,m=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=h.length,d=m.length,c<d&&(i=h,h=m,m=i,l=c,c=d,d=l),i=[],l=c+d,n=l;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)o=i[a]+m[n]*h[a-n-1]+t,i[a--]=o%Ge|0,t=o/Ge|0;i[a]=(i[a]+t)%Ge|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ee?pe(e,f.precision):e};K.toDecimalPlaces=K.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(en(e,0,pi),t===void 0?t=n.rounding:en(t,0,8),pe(r,e+ze(r)+1,t))};K.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ra(n,!0):(en(e,0,pi),t===void 0?t=a.rounding:en(t,0,8),n=pe(new a(n),e+1,t),r=ra(n,!0,e+1)),r};K.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ra(a):(en(e,0,pi),t===void 0?t=i.rounding:en(t,0,8),n=pe(new i(a),e+ze(a)+1,t),r=ra(n.abs(),!1,e+ze(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};K.toInteger=K.toint=function(){var e=this,t=e.constructor;return pe(new t(e),ze(e)+1,t.rounding)};K.toNumber=function(){return+this};K.toPower=K.pow=function(e){var t,r,n,a,i,l,o=this,c=o.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Vt);if(o=new c(o),!o.s){if(e.s<1)throw Error(wr+"Infinity");return o}if(o.eq(Vt))return o;if(n=c.precision,e.eq(Vt))return pe(o,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=o.s,l){if((r=u<0?-u:u)<=KS){for(a=new c(Vt),t=Math.ceil(n/Se+4),Ee=!1;r%2&&(a=a.times(o),jb(a.d,t)),r=gi(r/2),r!==0;)o=o.times(o),jb(o.d,t);return Ee=!0,e.s<0?new c(Vt).div(a):pe(a,n)}}else if(i<0)throw Error(wr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Ee=!1,a=e.times(zl(o,n+d)),Ee=!0,a=HS(a),a.s=i,a};K.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ze(a),n=ra(a,r<=i.toExpNeg||r>=i.toExpPos)):(en(e,1,pi),t===void 0?t=i.rounding:en(t,0,8),a=pe(new i(a),e,t),r=ze(a),n=ra(a,e<=r||r<=i.toExpNeg,e)),n};K.toSignificantDigits=K.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(en(e,1,pi),t===void 0?t=n.rounding:en(t,0,8)),pe(new n(r),e,t)};K.toString=K.valueOf=K.val=K.toJSON=K[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ze(e),r=e.constructor;return ra(e,t<=r.toExpNeg||t>=r.toExpPos)};function qS(e,t){var r,n,a,i,l,o,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ee?pe(t,f):t;if(c=e.d,d=t.d,l=e.e,a=t.e,c=c.slice(),i=l-a,i){for(i<0?(n=c,i=-i,o=d.length):(n=d,a=l,o=c.length),l=Math.ceil(f/Se),o=l>o?l+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=d.length,o-i<0&&(i=o,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Ge|0,c[i]%=Ge;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,Ee?pe(t,f):t}function en(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Hs+e)}function qr(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=Se-n.length,r&&(i+=Bn(r)),i+=n;l=e[t],n=l+"",r=Se-n.length,r&&(i+=Bn(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var gn=function(){function e(n,a){var i,l=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+l,n[o]=i%Ge|0,l=i/Ge|0;return l&&n.unshift(l),n}function t(n,a,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*Ge+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var o,c,d,u,f,h,m,x,g,b,p,y,v,S,j,N,_,k,A=n.constructor,O=n.s==a.s?1:-1,P=n.d,C=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(wr+"Division by zero");for(c=n.e-a.e,_=C.length,j=P.length,m=new A(O),x=m.d=[],d=0;C[d]==(P[d]||0);)++d;if(C[d]>(P[d]||0)&&--c,i==null?y=i=A.precision:l?y=i+(ze(n)-ze(a))+1:y=i,y<0)return new A(0);if(y=y/Se+2|0,d=0,_==1)for(u=0,C=C[0],y++;(d<j||u)&&y--;d++)v=u*Ge+(P[d]||0),x[d]=v/C|0,u=v%C|0;else{for(u=Ge/(C[0]+1)|0,u>1&&(C=e(C,u),P=e(P,u),_=C.length,j=P.length),S=_,g=P.slice(0,_),b=g.length;b<_;)g[b++]=0;k=C.slice(),k.unshift(0),N=C[0],C[1]>=Ge/2&&++N;do u=0,o=t(C,g,_,b),o<0?(p=g[0],_!=b&&(p=p*Ge+(g[1]||0)),u=p/N|0,u>1?(u>=Ge&&(u=Ge-1),f=e(C,u),h=f.length,b=g.length,o=t(f,g,h,b),o==1&&(u--,r(f,_<h?k:C,h))):(u==0&&(o=u=1),f=C.slice()),h=f.length,h<b&&f.unshift(0),r(g,f,b),o==-1&&(b=g.length,o=t(C,g,_,b),o<1&&(u++,r(g,_<b?k:C,b))),b=g.length):o===0&&(u++,g=[0]),x[d++]=u,o&&g[0]?g[b++]=P[S]||0:(g=[P[S]],b=1);while((S++<j||g[0]!==void 0)&&y--)}return x[0]||x.shift(),m.e=c,pe(m,l?i+ze(m)+1:i)}}();function HS(e,t){var r,n,a,i,l,o,c=0,d=0,u=e.constructor,f=u.precision;if(ze(e)>16)throw Error(x0+ze(e));if(!e.s)return new u(Vt);for(t==null?(Ee=!1,o=f):o=t,l=new u(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(n=Math.log(Es(2,d))/Math.LN10*2+5|0,o+=n,r=a=i=new u(Vt),u.precision=o;;){if(a=pe(a.times(e),o),r=r.times(++c),l=i.plus(gn(a,r,o)),qr(l.d).slice(0,o)===qr(i.d).slice(0,o)){for(;d--;)i=pe(i.times(i),o);return u.precision=f,t==null?(Ee=!0,pe(i,f)):i}i=l}}function ze(e){for(var t=e.e*Se,r=e.d[0];r>=10;r/=10)t++;return t}function Jf(e,t,r){if(t>e.LN10.sd())throw Ee=!0,r&&(e.precision=r),Error(wr+"LN10 precision limit exceeded");return pe(new e(e.LN10),t)}function Bn(e){for(var t="";e--;)t+="0";return t}function zl(e,t){var r,n,a,i,l,o,c,d,u,f=1,h=10,m=e,x=m.d,g=m.constructor,b=g.precision;if(m.s<1)throw Error(wr+(m.s?"NaN":"-Infinity"));if(m.eq(Vt))return new g(0);if(t==null?(Ee=!1,d=b):d=t,m.eq(10))return t==null&&(Ee=!0),Jf(g,d);if(d+=h,g.precision=d,r=qr(x),n=r.charAt(0),i=ze(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=qr(m.d),n=r.charAt(0),f++;i=ze(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return c=Jf(g,d+2,b).times(i+""),m=zl(new g(n+"."+r.slice(1)),d-h).plus(c),g.precision=b,t==null?(Ee=!0,pe(m,b)):m;for(o=l=m=gn(m.minus(Vt),m.plus(Vt),d),u=pe(m.times(m),d),a=3;;){if(l=pe(l.times(u),d),c=o.plus(gn(l,new g(a),d)),qr(c.d).slice(0,d)===qr(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(Jf(g,d+2,b).times(i+""))),o=gn(o,new g(f),d),g.precision=b,t==null?(Ee=!0,pe(o,b)):o;o=c,a+=2}}function wb(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=gi(r/Se),e.d=[],n=(r+1)%Se,r<0&&(n+=Se),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Se;n<a;)e.d.push(+t.slice(n,n+=Se));t=t.slice(n),n=Se-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ee&&(e.e>hu||e.e<-hu))throw Error(x0+r)}else e.s=0,e.e=0,e.d=[0];return e}function pe(e,t,r){var n,a,i,l,o,c,d,u,f=e.d;for(l=1,i=f[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=Se,a=t,d=f[u=0];else{if(u=Math.ceil((n+1)/Se),i=f.length,u>=i)return e;for(d=i=f[u],l=1;i>=10;i/=10)l++;n%=Se,a=n-Se+l}if(r!==void 0&&(i=Es(10,l-a-1),o=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?d/Es(10,l-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ze(e),f.length=1,t=t-i-1,f[0]=Es(10,(Se-t%Se)%Se),e.e=gi(-t/Se)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=Es(10,Se-n),f[u]=a>0?(d/Es(10,l-a)%Es(10,a)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==Ge&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Ge)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ee&&(e.e>hu||e.e<-hu))throw Error(x0+ze(e));return e}function VS(e,t){var r,n,a,i,l,o,c,d,u,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ee?pe(t,m):t;if(c=e.d,f=t.d,n=t.e,d=e.e,c=c.slice(),l=d-n,l){for(u=l<0,u?(r=c,l=-l,o=f.length):(r=f,n=d,o=c.length),a=Math.max(Math.ceil(m/Se),o)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(c[a]!=f[a]){u=c[a]<f[a];break}l=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,a=f.length-o;a>0;--a)c[o++]=0;for(a=f.length;a>l;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Ge-1;--c[i],c[a]+=Ge}c[a]-=f[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ee?pe(t,m):t):new h(0)}function ra(e,t,r){var n,a=ze(e),i=qr(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+Bn(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Bn(-a-1)+i,r&&(n=r-l)>0&&(i+=Bn(n))):a>=l?(i+=Bn(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+Bn(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=Bn(n))),e.s<0?"-"+i:i}function jb(e,t){if(e.length>t)return e.length=t,!0}function YS(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Hs+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return wb(l,i.toString())}else if(typeof i!="string")throw Error(Hs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,X$.test(i))wb(l,i);else throw Error(Hs+i)}if(a.prototype=K,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=YS,a.config=a.set=Q$,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Q$(e){if(!e||typeof e!="object")throw Error(wr+"Object expected");var t,r,n,a=["precision",1,pi,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(gi(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Hs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Hs+r+": "+n);return this}var v0=YS(J$);Vt=new v0(1);const ce=v0;var Z$=e=>e,GS={"@@functional/placeholder":!0},JS=e=>e===GS,Nb=e=>function t(){return arguments.length===0||arguments.length===1&&JS(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},XS=(e,t)=>e===1?t:Nb(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(l=>l!==GS).length;return i>=e?t(...n):XS(e-i,Nb(function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];var d=n.map(u=>JS(u)?o.shift():u);return t(...d,...o)}))}),Id=e=>XS(e.length,e),Fm=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},eL=Id((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),tL=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Z$;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce((o,c)=>c(o),i(...arguments))}},Um=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),QS=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((l,o)=>{var c;return l===((c=t)===null||c===void 0?void 0:c[o])})||(t=a,r=e(...a)),r}};function ZS(e){var t;return e===0?t=1:t=Math.floor(new ce(e).abs().log(10).toNumber())+1,t}function e_(e,t,r){for(var n=new ce(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}Id((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});Id((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Id((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var t_=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},r_=(e,t,r)=>{if(e.lte(0))return new ce(0);var n=ZS(e.toNumber()),a=new ce(10).pow(n),i=e.div(a),l=n!==1?.05:.1,o=new ce(Math.ceil(i.div(l).toNumber())).add(r).mul(l),c=o.mul(a);return t?new ce(c.toNumber()):new ce(Math.ceil(c.toNumber()))},rL=(e,t,r)=>{var n=new ce(1),a=new ce(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ce(10).pow(ZS(e)-1),a=new ce(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ce(Math.floor(e)))}else e===0?a=new ce(Math.floor((t-1)/2)):r||(a=new ce(Math.floor(e)));var l=Math.floor((t-1)/2),o=tL(eL(c=>a.add(new ce(c-l).mul(n)).toNumber()),Fm);return o(0,t)},n_=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ce(0),tickMin:new ce(0),tickMax:new ce(0)};var l=r_(new ce(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new ce(0):(o=new ce(t).add(r).div(2),o=o.sub(new ce(o).mod(l)));var c=Math.ceil(o.sub(t).div(l).toNumber()),d=Math.ceil(new ce(r).sub(o).div(l).toNumber()),u=c+d+1;return u>n?n_(t,r,n,a,i+1):(u<n&&(d=r>0?d+(n-u):d,c=r>0?c:c+(n-u)),{step:l,tickMin:o.sub(new ce(c).mul(l)),tickMax:o.add(new ce(d).mul(l))})};function nL(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[l,o]=t_([t,r]);if(l===-1/0||o===1/0){var c=o===1/0?[l,...Fm(0,n-1).map(()=>1/0)]:[...Fm(0,n-1).map(()=>-1/0),o];return t>r?Um(c):c}if(l===o)return rL(l,n,a);var{step:d,tickMin:u,tickMax:f}=n_(l,o,i,a,0),h=e_(u,f.add(new ce(.1).mul(d)),d);return t>r?Um(h):h}function sL(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=t_([r,n]);if(i===-1/0||l===1/0)return[r,n];if(i===l)return[i];var o=Math.max(t,2),c=r_(new ce(l).sub(i).div(o-1),a,0),d=[...e_(new ce(i),new ce(l).sub(new ce(.99).mul(c)),c),l];return r>n?Um(d):d}var aL=QS(nL),iL=QS(sL),s_=e=>e.rootProps.maxBarSize,lL=e=>e.rootProps.barGap,a_=e=>e.rootProps.barCategoryGap,oL=e=>e.rootProps.barSize,Dd=e=>e.rootProps.stackOffset,y0=e=>e.options.chartName,b0=e=>e.rootProps.syncId,i_=e=>e.rootProps.syncMethod,w0=e=>e.options.eventEmitter,cn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Kt={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},$d=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},cL={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:cn.angleAxisId,includeHidden:!1,name:void 0,reversed:cn.reversed,scale:cn.scale,tick:cn.tick,tickCount:void 0,ticks:void 0,type:cn.type,unit:void 0},uL={allowDataOverflow:Kt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Kt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Kt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Kt.scale,tick:Kt.tick,tickCount:Kt.tickCount,ticks:void 0,type:Kt.type,unit:void 0},dL={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cn.scale,tick:cn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fL={allowDataOverflow:Kt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Kt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Kt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Kt.scale,tick:Kt.tick,tickCount:Kt.tickCount,ticks:void 0,type:"category",unit:void 0},j0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?dL:cL,N0=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?fL:uL,Ld=e=>e.polarOptions,S0=T([xs,vs,ot],d5),l_=T([Ld,S0],(e,t)=>{if(e!=null)return Rr(e.innerRadius,t,0)}),o_=T([Ld,S0],(e,t)=>{if(e!=null)return Rr(e.outerRadius,t,t*.8)}),hL=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},c_=T([Ld],hL);T([j0,c_],$d);var u_=T([S0,l_,o_],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});T([N0,u_],$d);var mL=T([me,Ld,l_,o_,xs,vs],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:o,startAngle:c,endAngle:d}=t;return{cx:Rr(l,a,a/2),cy:Rr(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),et=(e,t)=>t,Rd=(e,t,r)=>r;function Sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sb(Object(r),!0).forEach(function(n){pL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pL(e,t,r){return(t=gL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gL(e){var t=xL(e,"string");return typeof t=="symbol"?t:t+""}function xL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bm=[0,"auto"],Bt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},En=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Bt},zt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Bm,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Sd},ws=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??zt},vL={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_0=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??vL},Rt=(e,t,r)=>{switch(t){case"xAxis":return En(e,r);case"yAxis":return ws(e,r);case"zAxis":return _0(e,r);case"angleAxis":return j0(e,r);case"radiusAxis":return N0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yL=(e,t,r)=>{switch(t){case"xAxis":return En(e,r);case"yAxis":return ws(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},uo=(e,t,r)=>{switch(t){case"xAxis":return En(e,r);case"yAxis":return ws(e,r);case"angleAxis":return j0(e,r);case"radiusAxis":return N0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},d_=e=>e.graphicalItems.countOfBars>0;function f_(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Fd=e=>e.graphicalItems.cartesianItems,bL=T([et,Rd],f_),h_=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),fo=T([Fd,Rt,bL],h_),m_=e=>e.filter(t=>t.stackId===void 0),wL=T([fo],m_),p_=e=>e.map(t=>t.data).filter(Boolean).flat(1),jL=T([fo],p_),g_=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Ud=T([jL,g0],g_),x_=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:gt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:gt(a,n)}))):e.map(n=>({value:n})),Bd=T([Ud,Rt,fo],x_);function v_(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function oa(e){return e.filter(t=>Zr(t)||t instanceof Date).map(Number).filter(t=>Zt(t)===!1)}function NL(e,t,r){return!r||typeof t!="number"||Zt(t)?[]:r.length?oa(r.flatMap(n=>{var a=gt(e,n.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!nr(i)||!nr(l)))return[t-i,t+l]})):[]}var y_=(e,t,r)=>{var n={},a=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[l,o]=i,c=o.map(d=>d.dataKey);return[l,{stackedData:P5(e,c,r),graphicalItems:o}]}))},zm=T([Ud,fo,Dd],y_),b_=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=E5(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},SL=T([zm,mi,et],b_),w_=(e,t,r,n)=>r.length>0?e.flatMap(a=>r.flatMap(i=>{var l,o,c=(l=i.errorBars)===null||l===void 0?void 0:l.filter(u=>v_(n,u)),d=gt(a,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:d,errorDomain:NL(a,d,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:gt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),_L=T(Ud,Rt,wL,et,w_);function kL(e){var{value:t}=e;if(Zr(t)||t instanceof Date)return t}var PL=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=oa(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},CL=(e,t,r)=>{var n=e.map(kL).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&jN(n))?cS(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},k0=e=>{var t;if(e==null||!("domain"in e))return Bm;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=oa(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Bm},P0=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},j_=e=>e.referenceElements.dots,xi=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),AL=T([j_,et,Rd],xi),N_=e=>e.referenceElements.areas,OL=T([N_,et,Rd],xi),S_=e=>e.referenceElements.lines,EL=T([S_,et,Rd],xi),__=(e,t)=>{var r=oa(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},TL=T(AL,et,__),k_=(e,t)=>{var r=oa(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ML=T([OL,et],k_),P_=(e,t)=>{var r=oa(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},IL=T(EL,et,P_),DL=T(TL,IL,ML,(e,t,r)=>P0(e,r,t)),$L=T([Rt],k0),C_=(e,t,r,n,a)=>{var i=Y$(t,e.allowDataOverflow);return i??G$(t,P0(r,a,PL(n)),e.allowDataOverflow)},LL=T([Rt,$L,SL,_L,DL],C_),RL=[0,1],A_=(e,t,r,n,a,i,l)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:o,type:c}=e,d=gs(t,i);return d&&o==null?cS(0,r.length):c==="category"?CL(n,e,d):a==="expand"?RL:l}},C0=T([Rt,me,Ud,Bd,Dd,et,LL],A_),O_=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(no(i));return o in qi?o:"point"}}},ho=T([Rt,me,d_,y0,et],O_);function FL(e){if(e!=null){if(e in qi)return qi[e]();var t="scale".concat(no(e));if(t in qi)return qi[t]()}}function A0(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=FL(t);if(a!=null){var i=a.domain(r).range(n);return j5(i),i}}}var E_=(e,t,r)=>{var n=k0(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ri(e))return aL(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ri(e))return iL(e,t.tickCount,t.allowDecimals)}},O0=T([C0,uo,ho],E_),T_=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ri(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],l=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(l,o)]}return t},UL=T([Rt,C0,O0,et],T_),BL=T(Bd,Rt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(oa(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var l=n[i+1]-n[i];r=Math.min(r,l)}return r/a}}),M_=T(BL,me,a_,ot,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!nr(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=Rr(r,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),zL=(e,t)=>{var r=En(e,t);return r==null||typeof r.padding!="string"?0:M_(e,"xAxis",t,r.padding)},WL=(e,t)=>{var r=ws(e,t);return r==null||typeof r.padding!="string"?0:M_(e,"yAxis",t,r.padding)},KL=T(En,zL,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),qL=T(ws,WL,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),HL=T([ot,KL,kd,_d,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),VL=T([ot,me,qL,kd,_d,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:l}=a;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),mo=(e,t,r,n)=>{var a;switch(t){case"xAxis":return HL(e,r,n);case"yAxis":return VL(e,r,n);case"zAxis":return(a=_0(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return c_(e);case"radiusAxis":return u_(e,r);default:return}},I_=T([Rt,mo],$d),vi=T([Rt,ho,UL,I_],A0);T(fo,et,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>v_(t,r)));function D_(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var zd=(e,t)=>t,Wd=(e,t,r)=>r,YL=T(Ug,zd,Wd,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(D_)),GL=T(Bg,zd,Wd,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(D_)),$_=(e,t)=>({width:e.width,height:t.height}),JL=(e,t)=>{var r=typeof t.width=="number"?t.width:Sd;return{width:r,height:e.height}},L_=T(ot,En,$_),XL=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},QL=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},ZL=T(vs,ot,YL,zd,Wd,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var c=$_(t,o);l==null&&(l=XL(t,n,e));var d=n==="top"&&!a||n==="bottom"&&a;i[o.id]=l-Number(d)*c.height,l+=(d?-1:1)*c.height}),i}),eR=T(xs,ot,GL,zd,Wd,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var c=JL(t,o);l==null&&(l=QL(t,n,e));var d=n==="left"&&!a||n==="right"&&a;i[o.id]=l-Number(d)*c.width,l+=(d?-1:1)*c.width}),i}),tR=(e,t)=>{var r=ot(e),n=En(e,t);if(n!=null){var a=ZL(e,n.orientation,n.mirror),i=a[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},rR=(e,t)=>{var r=ot(e),n=ws(e,t);if(n!=null){var a=eR(e,n.orientation,n.mirror),i=a[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},R_=T(ot,ws,(e,t)=>{var r=typeof t.width=="number"?t.width:Sd;return{width:r,height:e.height}}),_b=(e,t,r)=>{switch(t){case"xAxis":return L_(e,r).width;case"yAxis":return R_(e,r).height;default:return}},F_=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=r,o=gs(e,n),c=t.map(d=>d.value);if(l&&o&&i==="category"&&a&&jN(c))return c}},E0=T([me,Bd,Rt,et],F_),U_=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,l=gs(e,n);if(l&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},T0=T([me,Bd,uo,et],U_),kb=T([me,yL,ho,vi,E0,T0,mo,O0,et],(e,t,r,n,a,i,l,o,c)=>{if(t==null)return null;var d=gs(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:d,niceTicks:o,range:l,realScaleType:r,scale:n}}),nR=(e,t,r,n,a,i,l,o,c)=>{if(!(t==null||n==null)){var d=gs(e,c),{type:u,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=u==="category"&&n.bandwidth?n.bandwidth()/m:0;x=c==="angleAxis"&&i!=null&&i.length>=2?Et(i[0]-i[1])*2*x:x;var g=f||a;if(g){var b=g.map((p,y)=>{var v=l?l.indexOf(p):p;return{index:y,coordinate:n(v)+x,value:p,offset:x}});return b.filter(p=>!Zt(p.coordinate))}return d&&o?o.map((p,y)=>({coordinate:n(p)+x,value:p,index:y,offset:x})):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+x,value:p,offset:x})):n.domain().map((p,y)=>({coordinate:n(p)+x,value:l?l[p]:p,index:y,offset:x}))}},B_=T([me,uo,ho,vi,O0,mo,E0,T0,et],nR),sR=(e,t,r,n,a,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=gs(e,l),{tickCount:c}=t,d=0;return d=l==="angleAxis"&&(n==null?void 0:n.length)>=2?Et(n[0]-n[1])*2*d:d,o&&i?i.map((u,f)=>({coordinate:r(u)+d,value:u,index:f,offset:d})):r.ticks?r.ticks(c).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,f)=>({coordinate:r(u)+d,value:a?a[u]:u,index:f,offset:d}))}},ds=T([me,uo,vi,mo,E0,T0,et],sR),tn=T(Rt,vi,(e,t)=>{if(!(e==null||t==null))return mu(mu({},e),{},{scale:t})}),aR=T([Rt,ho,C0,I_],A0);T((e,t,r)=>_0(e,r),aR,(e,t)=>{if(!(e==null||t==null))return mu(mu({},e),{},{scale:t})});var iR=T([me,Ug,Bg],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),z_=e=>e.options.defaultTooltipEventType,W_=e=>e.options.validateTooltipEventTypes;function K_(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function M0(e,t){var r=z_(e),n=W_(e);return K_(t,r,n)}function lR(e){return G(t=>M0(t,e))}var q_=(e,t)=>{var r,n=Number(t);if(!(Zt(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},oR=e=>e.tooltip.settings,qn={active:!1,index:null,dataKey:void 0,coordinate:void 0},cR={itemInteraction:{click:qn,hover:qn},axisInteraction:{click:qn,hover:qn},keyboardInteraction:qn,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},H_=Nr({name:"tooltip",initialState:cR,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=ns(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:uR,removeTooltipEntrySettings:dR,setTooltipSettingsState:fR,setActiveMouseOverItemIndex:V_,mouseLeaveItem:hR,mouseLeaveChart:Y_,setActiveClickItemIndex:mR,setMouseOverAxisIndex:G_,setMouseClickAxisIndex:pR,setSyncInteraction:Wm,setKeyboardInteraction:Km}=H_.actions,gR=H_.reducer;function Pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pb(Object(r),!0).forEach(function(n){xR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xR(e,t,r){return(t=vR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vR(e){var t=yR(e,"string");return typeof t=="symbol"?t:t+""}function yR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bR(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function wR(e){return e.index!=null}var J_=(e,t,r,n)=>{if(t==null)return qn;var a=bR(e,t,r);if(a==null)return qn;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(wR(a)){if(i)return Jo(Jo({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Jo(Jo({},qn),{},{coordinate:a.coordinate})},I0=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!nr(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},X_=(e,t,r,n,a,i,l,o)=>{if(!(i==null||o==null)){var c=l[0],d=c==null?void 0:o(c.positions,i);if(d!=null)return d;var u=a==null?void 0:a[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},Q_=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===a})},Kd=e=>e.options.tooltipPayloadSearcher,yi=e=>e.tooltip,tt=e=>{var t=me(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},bi=e=>e.tooltip.settings.axisId,vt=e=>{var t=tt(e),r=bi(e);return uo(e,t,r)},D0=T([vt,me,d_,y0,tt],O_),jR=T([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),NR=T([tt,bi],f_),qd=T([jR,vt,NR],h_),SR=T([qd],p_),ca=T([SR,mi],g_),$0=T([ca,vt,qd],x_),_R=T([vt],k0),kR=T([ca,qd,Dd],y_),PR=T([kR,mi,tt],b_),CR=T([qd],m_),AR=T([ca,vt,CR,tt],w_),OR=T([j_,tt,bi],xi),ER=T([OR,tt],__),TR=T([N_,tt,bi],xi),MR=T([TR,tt],k_),IR=T([S_,tt,bi],xi),DR=T([IR,tt],P_),$R=T([ER,DR,MR],P0),LR=T([vt,_R,PR,AR,$R],C_),Z_=T([vt,me,ca,$0,Dd,tt,LR],A_),RR=T([Z_,vt,D0],E_),FR=T([vt,Z_,RR,tt],T_),ek=e=>{var t=tt(e),r=bi(e),n=!1;return mo(e,t,r,n)},tk=T([vt,ek],$d),rk=T([vt,D0,FR,tk],A0),UR=T([me,$0,vt,tt],F_),BR=T([me,$0,vt,tt],U_),zR=(e,t,r,n,a,i,l,o)=>{if(t){var{type:c}=t,d=gs(e,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Et(a[0]-a[1])*2*f:f,d&&l?l.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},Tn=T([me,vt,D0,rk,ek,UR,BR,tt],zR),nk=T([z_,W_,oR],(e,t,r)=>K_(r.shared,e,t)),sk=e=>e.tooltip.settings.trigger,L0=e=>e.tooltip.settings.defaultIndex,Hd=T([yi,nk,sk,L0],J_),ni=T([Hd,ca],I0),ak=T([Tn,ni],q_),ik=T([Hd],e=>{if(e)return e.dataKey}),WR=T([yi,nk,sk,L0],Q_),KR=T([xs,vs,me,ot,Tn,L0,WR,Kd],X_),qR=T([Hd,KR],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),HR=T([Hd],e=>e.active);function Cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ab(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(r),!0).forEach(function(n){VR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VR(e,t,r){return(t=YR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YR(e){var t=GR(e,"string");return typeof t=="symbol"?t:t+""}function GR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lk=()=>G(vt),JR=()=>{var e=lk(),t=G(Tn),r=G(rk);return Dl(Ab(Ab({},e),{},{scale:r}),t)};function Ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ob(Object(r),!0).forEach(function(n){XR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ob(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XR(e,t,r){return(t=QR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QR(e){var t=ZR(e,"string");return typeof t=="symbol"?t:t+""}function ZR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e8=()=>G(y0),R0=(e,t)=>t,ok=(e,t,r)=>r,F0=(e,t,r,n)=>n;function t8(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}var r8=T(Tn,e=>gd(e,t=>t.coordinate)),U0=T([yi,R0,ok,F0],J_),ck=T([U0,ca],I0),n8=(e,t,r)=>{if(t!=null){var n=yi(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},uk=T([yi,R0,ok,F0],Q_),pu=T([xs,vs,me,ot,Tn,F0,uk,Kd],X_),s8=T([U0,pu],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),dk=T(Tn,ck,q_);function a8(e,t){return e??t}var i8=(e,t,r,n,a,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:d,dataEndIndex:u}=r,f=[];return e.reduce((h,m)=>{var x,{dataDefinedOnItem:g,settings:b}=m,p=a8(g,o),y=t8(p,d,u),v=(x=b==null?void 0:b.dataKey)!==null&&x!==void 0?x:n==null?void 0:n.dataKey,S=b==null?void 0:b.nameKey,j;if(n!=null&&n.dataKey&&!(n!=null&&n.allowDuplicatedCategory)&&Array.isArray(y)&&l==="axis"?j=mg(y,n.dataKey,a):j=i(y,t,c,S),Array.isArray(j))j.forEach(_=>{var k=Eb(Eb({},b),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});h.push(vy({tooltipEntrySettings:k,dataKey:_.dataKey,payload:_.payload,value:gt(_.payload,_.dataKey),name:_.name}))});else{var N;h.push(vy({tooltipEntrySettings:b,dataKey:v,payload:j,value:gt(j,v),name:(N=gt(j,S))!==null&&N!==void 0?N:b==null?void 0:b.name}))}return h},f)}},l8=T([uk,ck,mi,vt,dk,Kd,R0],i8),o8=T([U0],e=>({isActive:e.active,activeIndex:e.index})),c8=(e,t,r,n,a,i,l,o)=>{if(!(!e||!t||!n||!a||!i)){var c=T5(e.chartX,e.chartY,t,r,o);if(c){var d=I5(c,t),u=b5(d,l,i,n,a),f=M5(t,i,u,c);return{activeIndex:String(u),activeCoordinate:f}}}};function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qm.apply(null,arguments)}function Tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tb(Object(r),!0).forEach(function(n){u8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u8(e,t,r){return(t=d8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d8(e){var t=f8(e,"string");return typeof t=="symbol"?t:t+""}function f8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h8(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:l,cursor:o,tooltipEventType:c,chartName:d}=e,u=t,f=r,h=n;if(!o||!u||d!=="ScatterChart"&&c!=="axis")return null;var m,x;if(d==="ScatterChart")m=u,x=DM;else if(d==="BarChart")m=$M(l,u,a,i),x=rS;else if(l==="radial"){var{cx:g,cy:b,radius:p,startAngle:y,endAngle:v}=nS(u);m={cx:g,cy:b,startAngle:y,endAngle:v,innerRadius:p,outerRadius:p},x=aS}else m={points:xI(l,u,a)},x=Y2;var S=typeof o=="object"&&"className"in o?o.className:void 0,j=Xo(Xo(Xo(Xo({stroke:"#ccc",pointerEvents:"none"},a),m),ue(o,!1)),{},{payload:f,payloadIndex:h,className:de("recharts-tooltip-cursor",S)});return w.isValidElement(o)?w.cloneElement(o,j):w.createElement(x,j)}function m8(e){var t=JR(),r=ao(),n=Pd(),a=e8();return w.createElement(h8,qm({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var fk=w.createContext(null),p8=()=>w.useContext(fk),hk={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new a(u,f||c,h),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},o.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,x=new Array(m);h<m;h++)x[h]=f[h].fn;return x},o.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(d,u,f,h,m,x){var g=r?r+d:d;if(!this._events[g])return!1;var b=this._events[g],p=arguments.length,y,v;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),p){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,f),!0;case 4:return b.fn.call(b.context,u,f,h),!0;case 5:return b.fn.call(b.context,u,f,h,m),!0;case 6:return b.fn.call(b.context,u,f,h,m,x),!0}for(v=1,y=new Array(p-1);v<p;v++)y[v-1]=arguments[v];b.fn.apply(b.context,y)}else{var S=b.length,j;for(v=0;v<S;v++)switch(b[v].once&&this.removeListener(d,b[v].fn,void 0,!0),p){case 1:b[v].fn.call(b[v].context);break;case 2:b[v].fn.call(b[v].context,u);break;case 3:b[v].fn.call(b[v].context,u,f);break;case 4:b[v].fn.call(b[v].context,u,f,h);break;default:if(!y)for(j=1,y=new Array(p-1);j<p;j++)y[j-1]=arguments[j];b[v].fn.apply(b[v].context,y)}}return!0},o.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},o.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},o.prototype.removeListener=function(d,u,f,h){var m=r?r+d:d;if(!this._events[m])return this;if(!u)return l(this,m),this;var x=this._events[m];if(x.fn)x.fn===u&&(!h||x.once)&&(!f||x.context===f)&&l(this,m);else{for(var g=0,b=[],p=x.length;g<p;g++)(x[g].fn!==u||h&&!x[g].once||f&&x[g].context!==f)&&b.push(x[g]);b.length?this._events[m]=b.length===1?b[0]:b:l(this,m)}return this},o.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&l(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(hk);var g8=hk.exports;const x8=kn(g8);var Wl=new x8,Hm="recharts.syncEvent.tooltip",Mb="recharts.syncEvent.brush";function mk(e,t){if(t){var r=Number.parseInt(t,10);if(!Zt(r))return e==null?void 0:e[r]}}var v8={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},pk=Nr({name:"options",initialState:v8,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),y8=pk.reducer,{createEventEmitter:b8}=pk.actions;function w8(e){return e.tooltip.syncInteraction}var j8={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},gk=Nr({name:"chartData",initialState:j8,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Ib,setDataStartEndIndexes:N8,setComputedData:Ez}=gk.actions,S8=gk.reducer,xk=()=>{};function _8(){var e=G(b0),t=G(w0),r=Fe(),n=G(i_),a=G(Tn),i=Pd(),l=zg(),o=G(c=>c.rootProps.className);w.useEffect(()=>{if(e==null)return xk;var c=(d,u,f)=>{if(t!==f&&e===d){if(n==="index"){r(u);return}if(a!=null){var h;if(typeof n=="function"){var m={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},x=n(a,m);h=a[x]}else n==="value"&&(h=a.find(N=>String(N.value)===u.payload.label));var{coordinate:g}=u.payload;if(h==null||u.payload.active===!1||g==null||l==null){r(Wm({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:b,y:p}=g,y=Math.min(b,l.x+l.width),v=Math.min(p,l.y+l.height),S={x:i==="horizontal"?h.coordinate:y,y:i==="horizontal"?v:h.coordinate},j=Wm({active:u.payload.active,coordinate:S,dataKey:u.payload.dataKey,index:String(h.index),label:u.payload.label});r(j)}}};return Wl.on(Hm,c),()=>{Wl.off(Hm,c)}},[o,r,t,e,n,a,i,l])}function k8(){var e=G(b0),t=G(w0),r=Fe();w.useEffect(()=>{if(e==null)return xk;var n=(a,i,l)=>{t!==l&&e===a&&r(N8(i))};return Wl.on(Mb,n),()=>{Wl.off(Mb,n)}},[r,t,e])}function P8(){var e=Fe();w.useEffect(()=>{e(b8())},[e]),_8(),k8()}function C8(e,t,r,n,a,i){var l=G(h=>n8(h,e,t)),o=G(w0),c=G(b0),d=G(i_),u=G(w8),f=u==null?void 0:u.active;w.useEffect(()=>{if(!f&&c!=null&&o!=null){var h=Wm({active:i,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n});Wl.emit(Hm,c,h,o)}},[f,r,l,a,n,o,c,d,i])}function Db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(r),!0).forEach(function(n){A8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A8(e,t,r){return(t=O8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O8(e){var t=E8(e,"string");return typeof t=="symbol"?t:t+""}function E8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T8(e){return e.dataKey}function M8(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(hM,t)}var Lb=[],I8={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!fi.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Rb(e){var t=An(e,I8),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:l,filterNull:o,isAnimationActive:c,offset:d,payloadUniqBy:u,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:x,cursor:g,shared:b,trigger:p,defaultIndex:y,portal:v,axisId:S}=t,j=Fe(),N=typeof y=="number"?String(y):y;w.useEffect(()=>{j(fR({shared:b,trigger:p,axisId:S,active:r,defaultIndex:N}))},[j,b,p,S,r,N]);var _=zg(),k=V2(),A=lR(b),{activeIndex:O,isActive:P}=G(oe=>o8(oe,A,p,N)),C=G(oe=>l8(oe,A,p,N)),E=G(oe=>dk(oe,A,p,N)),F=G(oe=>s8(oe,A,p,N)),z=C,M=p8(),U=r??P,[I,B]=g2([z,U]),Y=A==="axis"?E:void 0;C8(A,p,F,Y,O,U);var R=v??M;if(R==null)return null;var D=z??Lb;U||(D=Lb),o&&D.length&&(D=s2(z.filter(oe=>oe.value!=null&&(oe.hide!==!0||t.includeHidden)),u,T8));var ne=D.length>0,ve=w.createElement(bM,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:U,coordinate:F,hasPayload:ne,offset:d,position:f,reverseDirection:h,useTranslate3d:m,viewBox:_,wrapperStyle:x,lastBoundingBox:I,innerRef:B,hasPortalFromProps:!!v},M8(l,$b($b({},t),{},{payload:D,label:Y,active:U,coordinate:F,accessibilityLayer:k})));return w.createElement(w.Fragment,null,Qp.createPortal(ve,R),U&&w.createElement(m8,{cursor:g,tooltipEventType:A,coordinate:F,payload:z,index:O}))}var vk={},yk={},bk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let l,o=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{o!==null&&(r.apply(l,o),l=void 0,o=null)},f=()=>{d&&u(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},x=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{x(),l=void 0,o=null},b=()=>{x(),u()},p=function(...y){if(a!=null&&a.aborted)return;l=this,o=y;const v=h==null;m(),c&&v&&u()};return p.schedule=m,p.cancel=g,p.flush=b,a==null||a.addEventListener("abort",g,{once:!0}),p}e.debounce=t})(bk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bk;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:c}=i,d=Array(2);l&&(d[0]="leading"),o&&(d[1]="trailing");let u,f=null;const h=t.debounce(function(...g){u=n.apply(this,g),f=null},a,{edges:d}),m=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(u=n.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,g),u)},x=()=>(h.flush(),u);return m.cancel=h.cancel,m.flush=x,m}e.debounce=r})(yk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yk;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:l,trailing:o,maxWait:a})}e.throttle=r})(vk);var D8=vk.throttle;const $8=kn(D8);var ll=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fb(Object(r),!0).forEach(function(n){L8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L8(e,t,r){return(t=R8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R8(e){var t=F8(e,"string");return typeof t=="symbol"?t:t+""}function F8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ub=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:l=0,minHeight:o,maxHeight:c,children:d,debounce:u=0,id:f,className:h,onResize:m,style:x={}}=e,g=w.useRef(null),b=w.useRef();b.current=m,w.useImperativeHandle(t,()=>g.current);var[p,y]=w.useState({containerWidth:n.width,containerHeight:n.height}),v=w.useCallback((j,N)=>{y(_=>{var k=Math.round(j),A=Math.round(N);return _.containerWidth===k&&_.containerHeight===A?_:{containerWidth:k,containerHeight:A}})},[]);w.useEffect(()=>{var j=A=>{var O,{width:P,height:C}=A[0].contentRect;v(P,C),(O=b.current)===null||O===void 0||O.call(b,P,C)};u>0&&(j=$8(j,u,{trailing:!0,leading:!1}));var N=new ResizeObserver(j),{width:_,height:k}=g.current.getBoundingClientRect();return v(_,k),N.observe(g.current),()=>{N.disconnect()}},[v,u]);var S=w.useMemo(()=>{var{containerWidth:j,containerHeight:N}=p;if(j<0||N<0)return null;ll($s(a)||$s(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),ll(!r||r>0,"The aspect(%s) must be greater than zero.",r);var _=$s(a)?j:a,k=$s(i)?N:i;return r&&r>0&&(_?k=_/r:k&&(_=k*r),c&&k>c&&(k=c)),ll(_>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,k,a,i,l,o,r),w.Children.map(d,A=>w.cloneElement(A,{width:_,height:k,style:Xf({height:"100%",width:"100%",maxHeight:k,maxWidth:_},A.props.style)}))},[r,d,i,c,o,l,p,a]);return w.createElement("div",{id:f?"".concat(f):void 0,className:de("recharts-responsive-container",h),style:Xf(Xf({},x),{},{width:a,height:i,minWidth:l,minHeight:o,maxHeight:c}),ref:g},S)}),wk=e=>null;wk.displayName="Cell";function Bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(r),!0).forEach(function(n){U8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U8(e,t,r){return(t=B8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B8(e){var t=z8(e,"string");return typeof t=="symbol"?t:t+""}function z8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ga={widthCache:{},cacheCount:0},W8=2e3,K8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zb="recharts_measurement_span";function q8(e){var t=Vm({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var ol=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fi.isSsr)return{width:0,height:0};var n=q8(r),a=JSON.stringify({text:t,copyStyle:n});if(ga.widthCache[a])return ga.widthCache[a];try{var i=document.getElementById(zb);i||(i=document.createElement("span"),i.setAttribute("id",zb),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=Vm(Vm({},K8),n);Object.assign(i.style,l),i.textContent="".concat(t);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return ga.widthCache[a]=c,++ga.cacheCount>W8&&(ga.cacheCount=0,ga.widthCache={}),c}catch{return{width:0,height:0}}},Wb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,H8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,V8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Y8=Object.keys(jk),Oa="NaN";function G8(e,t){return e*jk[t]}class Pt{static parse(t){var r,[,n,a]=(r=V8.exec(t))!==null&&r!==void 0?r:[];return new Pt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Zt(t)&&(this.unit=""),r!==""&&!H8.test(r)&&(this.num=NaN,this.unit=""),Y8.includes(r)&&(this.num=G8(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Pt(NaN,""):new Pt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Pt(NaN,""):new Pt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Pt(NaN,""):new Pt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Pt(NaN,""):new Pt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Zt(this.num)}}function Nk(e){if(e.includes(Oa))return Oa;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=Wb.exec(t))!==null&&r!==void 0?r:[],l=Pt.parse(n??""),o=Pt.parse(i??""),c=a==="*"?l.multiply(o):l.divide(o);if(c.isNaN())return Oa;t=t.replace(Wb,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,f,h]=(d=Kb.exec(t))!==null&&d!==void 0?d:[],m=Pt.parse(u??""),x=Pt.parse(h??""),g=f==="+"?m.add(x):m.subtract(x);if(g.isNaN())return Oa;t=t.replace(Kb,g.toString())}return t}var qb=/\(([^()]*)\)/;function J8(e){for(var t=e,r;(r=qb.exec(t))!=null;){var[,n]=r;t=t.replace(qb,Nk(n))}return t}function X8(e){var t=e.replace(/\s+/g,"");return t=J8(t),t=Nk(t),t}function Q8(e){try{return X8(e)}catch{return Oa}}function Qf(e){var t=Q8(e.slice(5,-1));return t===Oa?"":t}var Z8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],eF=["dx","dy","angle","className","breakAll"];function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ym.apply(null,arguments)}function Hb(e,t){if(e==null)return{};var r,n,a=tF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sk=/[ \f\n\r\t\v\u2028\u2029]+/,_k=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];ge(t)||(r?a=t.toString().split(""):a=t.toString().split(Sk));var i=a.map(o=>({word:o,width:ol(o,n).width})),l=r?0:ol("",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},rF=(e,t,r,n,a)=>{var{maxLines:i,children:l,style:o,breakAll:c}=e,d=H(i),u=l,f=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((C,E)=>{var{word:F,width:z}=E,M=C[C.length-1];if(M&&(n==null||a||M.width+z+r<Number(n)))M.words.push(F),M.width+=z+r;else{var U={words:[F],width:z};C.push(U)}return C},[])},h=f(t),m=O=>O.reduce((P,C)=>P.width>C.width?P:C);if(!d||a)return h;var x=h.length>i||m(h).width>Number(n);if(!x)return h;for(var g="",b=O=>{var P=u.slice(0,O),C=_k({breakAll:c,style:o,children:P+g}).wordsWithComputedWidth,E=f(C),F=E.length>i||m(E).width>Number(n);return[F,E]},p=0,y=u.length-1,v=0,S;p<=y&&v<=u.length-1;){var j=Math.floor((p+y)/2),N=j-1,[_,k]=b(N),[A]=b(j);if(!_&&!A&&(p=j+1),_&&A&&(y=j-1),!_&&A){S=k;break}v++}return S||h},Vb=e=>{var t=ge(e)?[]:e.toString().split(Sk);return[{words:t}]},nF=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:l}=e;if((t||r)&&!fi.isSsr){var o,c,d=_k({breakAll:i,children:n,style:a});if(d){var{wordsWithComputedWidth:u,spaceWidth:f}=d;o=u,c=f}else return Vb(n);return rF({breakAll:i,children:n,maxLines:l,style:a},o,c,t,r)}return Vb(n)},Yb="#808080",B0=w.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:c="end",fill:d=Yb}=e,u=Hb(e,Z8),f=w.useMemo(()=>nF({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:l,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,l,u.style,u.width]),{dx:h,dy:m,angle:x,className:g,breakAll:b}=u,p=Hb(u,eF);if(!Zr(r)||!Zr(n))return null;var y=r+(H(h)?h:0),v=n+(H(m)?m:0),S;switch(c){case"start":S=Qf("calc(".concat(i,")"));break;case"middle":S=Qf("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:S=Qf("calc(".concat(f.length-1," * -").concat(a,")"));break}var j=[];if(l){var N=f[0].width,{width:_}=u;j.push("scale(".concat(H(_)?_/N:1,")"))}return x&&j.push("rotate(".concat(x,", ").concat(y,", ").concat(v,")")),j.length&&(p.transform=j.join(" ")),w.createElement("text",Ym({},ue(p,!0),{ref:t,x:y,y:v,className:de("recharts-text",g),textAnchor:o,fill:d.includes("url")?Yb:d}),f.map((k,A)=>{var O=k.words.join(b?"":" ");return w.createElement("tspan",{x:y,dy:A===0?S:a,key:"".concat(O,"-").concat(A)},O)}))});B0.displayName="Text";var sF=["offset"],aF=["labelRef"];function Gb(e,t){if(e==null)return{};var r,n,a=iF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jb(Object(r),!0).forEach(function(n){lF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lF(e,t,r){return(t=oF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oF(e){var t=cF(e,"string");return typeof t=="symbol"?t:t+""}function cF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function un(){return un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},un.apply(null,arguments)}var uF=e=>{var{value:t,formatter:r}=e,n=ge(e.children)?t:e.children;return typeof r=="function"?r(n):n},z0=e=>e!=null&&typeof e=="function",dF=(e,t)=>{var r=Et(t-e),n=Math.min(Math.abs(t-e),360);return r*n},fF=(e,t,r)=>{var{position:n,viewBox:a,offset:i,className:l}=e,{cx:o,cy:c,innerRadius:d,outerRadius:u,startAngle:f,endAngle:h,clockWise:m}=a,x=(d+u)/2,g=dF(f,h),b=g>=0?1:-1,p,y;n==="insideStart"?(p=f+b*i,y=m):n==="insideEnd"?(p=h-b*i,y=!m):n==="end"&&(p=h+b*i,y=m),y=g<=0?y:!y;var v=at(o,c,x,p),S=at(o,c,x,p+(y?1:-1)*359),j="M".concat(v.x,",").concat(v.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(y?0:1,`,
    `).concat(S.x,",").concat(S.y),N=ge(e.id)?Ya("recharts-radial-line-"):e.id;return w.createElement("text",un({},r,{dominantBaseline:"central",className:de("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:N,d:j})),w.createElement("textPath",{xlinkHref:"#".concat(N)},t))},hF=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:a,cy:i,innerRadius:l,outerRadius:o,startAngle:c,endAngle:d}=t,u=(c+d)/2;if(n==="outside"){var{x:f,y:h}=at(a,i,o+r,u);return{x:f,y:h,textAnchor:f>=a?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(l+o)/2,{x,y:g}=at(a,i,m,u);return{x,y:g,textAnchor:"middle",verticalAnchor:"middle"}},mF=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,{x:i,y:l,width:o,height:c}=t,d=c>=0?1:-1,u=d*n,f=d>0?"end":"start",h=d>0?"start":"end",m=o>=0?1:-1,x=m*n,g=m>0?"end":"start",b=m>0?"start":"end";if(a==="top"){var p={x:i+o/2,y:l-d*n,textAnchor:"middle",verticalAnchor:f};return Ue(Ue({},p),r?{height:Math.max(l-r.y,0),width:o}:{})}if(a==="bottom"){var y={x:i+o/2,y:l+c+u,textAnchor:"middle",verticalAnchor:h};return Ue(Ue({},y),r?{height:Math.max(r.y+r.height-(l+c),0),width:o}:{})}if(a==="left"){var v={x:i-x,y:l+c/2,textAnchor:g,verticalAnchor:"middle"};return Ue(Ue({},v),r?{width:Math.max(v.x-r.x,0),height:c}:{})}if(a==="right"){var S={x:i+o+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Ue(Ue({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:c}:{})}var j=r?{width:o,height:c}:{};return a==="insideLeft"?Ue({x:i+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},j):a==="insideRight"?Ue({x:i+o-x,y:l+c/2,textAnchor:g,verticalAnchor:"middle"},j):a==="insideTop"?Ue({x:i+o/2,y:l+u,textAnchor:"middle",verticalAnchor:h},j):a==="insideBottom"?Ue({x:i+o/2,y:l+c-u,textAnchor:"middle",verticalAnchor:f},j):a==="insideTopLeft"?Ue({x:i+x,y:l+u,textAnchor:b,verticalAnchor:h},j):a==="insideTopRight"?Ue({x:i+o-x,y:l+u,textAnchor:g,verticalAnchor:h},j):a==="insideBottomLeft"?Ue({x:i+x,y:l+c-u,textAnchor:b,verticalAnchor:f},j):a==="insideBottomRight"?Ue({x:i+o-x,y:l+c-u,textAnchor:g,verticalAnchor:f},j):a&&typeof a=="object"&&(H(a.x)||$s(a.x))&&(H(a.y)||$s(a.y))?Ue({x:i+Rr(a.x,o),y:l+Rr(a.y,c),textAnchor:"end",verticalAnchor:"end"},j):Ue({x:i+o/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},j)},pF=e=>"cx"in e&&H(e.cx);function Ht(e){var{offset:t=5}=e,r=Gb(e,sF),n=Ue({offset:t},r),{viewBox:a,position:i,value:l,children:o,content:c,className:d="",textBreakAll:u,labelRef:f}=n,h=zg(),m=a||h;if(!m||ge(l)&&ge(o)&&!w.isValidElement(c)&&typeof c!="function")return null;if(w.isValidElement(c)){var x=Gb(n,aF);return w.cloneElement(c,x)}var g;if(typeof c=="function"){if(g=w.createElement(c,n),w.isValidElement(g))return g}else g=uF(n);var b=pF(m),p=ue(n,!0);if(b&&(i==="insideStart"||i==="insideEnd"||i==="end"))return fF(n,g,p);var y=b?hF(n):mF(n,m);return w.createElement(B0,un({ref:f,className:de("recharts-label",d)},p,y,{breakAll:u}),g)}Ht.displayName="Label";var kk=e=>{var{cx:t,cy:r,angle:n,startAngle:a,endAngle:i,r:l,radius:o,innerRadius:c,outerRadius:d,x:u,y:f,top:h,left:m,width:x,height:g,clockWise:b,labelViewBox:p}=e;if(p)return p;if(H(x)&&H(g)){if(H(u)&&H(f))return{x:u,y:f,width:x,height:g};if(H(h)&&H(m))return{x:h,y:m,width:x,height:g}}if(H(u)&&H(f))return{x:u,y:f,width:0,height:0};if(H(t)&&H(r))return{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:d||o||l||0,clockWise:b};if(e.viewBox)return e.viewBox},gF=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(Ht,un({key:"label-implicit"},n)):Zr(e)?w.createElement(Ht,un({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===Ht?w.cloneElement(e,Ue({key:"label-implicit"},n)):w.createElement(Ht,un({key:"label-implicit",content:e},n)):z0(e)?w.createElement(Ht,un({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(Ht,un({},e,{key:"label-implicit"},n)):null},xF=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:a,labelRef:i}=t,l=kk(t),o=xg(a,Ht).map((d,u)=>w.cloneElement(d,{viewBox:r||l,key:"label-".concat(u)}));if(!n)return o;var c=gF(t.label,r||l,i);return[c,...o]};Ht.parseViewBox=kk;Ht.renderCallByParent=xF;var Pk={},Ck={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Ck);var Ak={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Ak);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ck,r=Ak,n=dd;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(Pk);var vF=Pk.last;const yF=kn(vF);var bF=["valueAccessor"],wF=["data","dataKey","clockWise","id","textBreakAll"];function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gu.apply(null,arguments)}function Xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xb(Object(r),!0).forEach(function(n){jF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jF(e,t,r){return(t=NF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NF(e){var t=SF(e,"string");return typeof t=="symbol"?t:t+""}function SF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zb(e,t){if(e==null)return{};var r,n,a=_F(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _F(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kF=e=>Array.isArray(e.value)?yF(e.value):e.value;function as(e){var{valueAccessor:t=kF}=e,r=Zb(e,bF),{data:n,dataKey:a,clockWise:i,id:l,textBreakAll:o}=r,c=Zb(r,wF);return!n||!n.length?null:w.createElement(er,{className:"recharts-label-list"},n.map((d,u)=>{var f=ge(a)?t(d,u):gt(d&&d.payload,a),h=ge(l)?{}:{id:"".concat(l,"-").concat(u)};return w.createElement(Ht,gu({},ue(d,!0),c,h,{parentViewBox:d.parentViewBox,value:f,textBreakAll:o,viewBox:Ht.parseViewBox(ge(i)?d:Qb(Qb({},d),{},{clockWise:i})),key:"label-".concat(u),index:u}))}))}as.displayName="LabelList";function PF(e,t){return e?e===!0?w.createElement(as,{key:"labelList-implicit",data:t}):w.isValidElement(e)||z0(e)?w.createElement(as,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?w.createElement(as,gu({data:t},e,{key:"labelList-implicit"})):null:null}function CF(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,a=xg(n,as).map((l,o)=>w.cloneElement(l,{data:t,key:"labelList-".concat(o)}));if(!r)return a;var i=PF(e.label,t);return[i,...a]}as.renderCallByParent=CF;function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gm.apply(null,arguments)}var Ok=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=de("recharts-dot",a);return t===+t&&r===+r&&n===+n?w.createElement("circle",Gm({},ue(e,!1),gg(e),{className:i,cx:t,cy:r,r:n})):null},AF={radiusAxis:{},angleAxis:{}},OF=Nr({name:"polarAxis",initialState:AF,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),EF=OF.reducer,TF={countOfBars:0,cartesianItems:[],polarItems:[]},Ek=Nr({name:"graphicalItems",initialState:TF,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},removeCartesianGraphicalItem(e,t){var r=ns(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=ns(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:MF,removeBar:IF,addCartesianGraphicalItem:DF,removeCartesianGraphicalItem:$F,addPolarGraphicalItem:Tz,removePolarGraphicalItem:Mz}=Ek.actions,LF=Ek.reducer;function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(n){RF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RF(e,t,r){return(t=FF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FF(e){var t=UF(e,"string");return typeof t=="symbol"?t:t+""}function UF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BF(e){var t=Fe();return w.useEffect(()=>{var r=tw(tw({},e),{},{stackId:W2(e.stackId)});return t(DF(r)),()=>{t($F(r))}},[t,e]),null}var Tk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Tk);var zF=Tk.isPlainObject;const WF=kn(zF);function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xu.apply(null,arguments)}var rw=(e,t,r,n,a)=>{var i=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-i/2,",").concat(t+a),l+="L ".concat(e+r-i/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},KF={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qF=e=>{var t=An(e,KF),r=w.useRef(),[n,a]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&a(b)}catch{}},[]);var{x:i,y:l,upperWidth:o,lowerWidth:c,height:d,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:x}=t;if(i!==+i||l!==+l||o!==+o||c!==+c||d!==+d||o===0&&c===0||d===0)return null;var g=de("recharts-trapezoid",u);return x?w.createElement(ta,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:d,x:i,y:l},to:{upperWidth:o,lowerWidth:c,height:d,x:i,y:l},duration:h,animationEasing:f,isActive:x},b=>{var{upperWidth:p,lowerWidth:y,height:v,x:S,y:j}=b;return w.createElement(ta,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},w.createElement("path",xu({},ue(t,!0),{className:g,d:rw(S,j,p,y,v),ref:r})))}):w.createElement("g",null,w.createElement("path",xu({},ue(t,!0),{className:g,d:rw(i,l,o,c,d)})))},HF=["option","shapeType","propTransformer","activeClassName","isActive"];function VF(e,t){if(e==null)return{};var r,n,a=YF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(n){GF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GF(e,t,r){return(t=JF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JF(e){var t=XF(e,"string");return typeof t=="symbol"?t:t+""}function XF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QF(e,t){return vu(vu({},t),e)}function ZF(e,t){return e==="symbols"}function sw(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(rS,r);case"trapezoid":return w.createElement(qF,r);case"sector":return w.createElement(aS,r);case"symbols":if(ZF(t))return w.createElement(jg,r);break;default:return null}}function e9(e){return w.isValidElement(e)?e.props:e}function t9(e){var{option:t,shapeType:r,propTransformer:n=QF,activeClassName:a="recharts-active-shape",isActive:i}=e,l=VF(e,HF),o;if(w.isValidElement(t))o=w.cloneElement(t,vu(vu({},l),e9(t)));else if(typeof t=="function")o=t(l);else if(WF(t)&&typeof t!="boolean"){var c=n(t,l);o=w.createElement(sw,{shapeType:r,elementProps:c})}else{var d=l;o=w.createElement(sw,{shapeType:r,elementProps:d})}return i?w.createElement(er,{className:a},o):o}var Mk=(e,t)=>{var r=Fe();return(n,a)=>i=>{e==null||e(n,a,i),r(V_({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Ik=e=>{var t=Fe();return(r,n)=>a=>{e==null||e(r,n,a),t(hR())}},Dk=(e,t)=>{var r=Fe();return(n,a)=>i=>{e==null||e(n,a,i),r(mR({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function $k(e){var{fn:t,args:r}=e,n=Fe(),a=St();return w.useEffect(()=>{if(!a){var i=t(r);return n(uR(i)),()=>{n(dR(i))}}},[t,r,n,a]),null}var r9=()=>{};function Lk(e){var{legendPayload:t}=e,r=Fe(),n=St();return w.useEffect(()=>n?r9:(r(G5(t)),()=>{r(J5(t))}),[r,n,t]),null}function Rk(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(Ya(t)),n=w.useRef(e);return n.current!==e&&(r.current=Ya(t),n.current=e),r.current}function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(n){n9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n9(e,t,r){return(t=s9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s9(e){var t=a9(e,"string");return typeof t=="symbol"?t:t+""}function a9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i9=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l=iw(iw({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ue(a,!1)),gg(a)),o;return w.isValidElement(a)?o=w.cloneElement(a,l):typeof a=="function"?o=a(l):o=w.createElement(Ok,l),w.createElement(er,{className:"recharts-active-dot"},o)};function l9(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=lk(),l=G(ni),o=G(ak);if(!l)return null;var c,d=i.dataKey;if(d&&!i.allowDuplicatedCategory){var u=typeof d=="function"?f=>d(f.payload):"payload.".concat(d);c=mg(t,u,o)}else c=t==null?void 0:t[Number(l)];return ge(c)?null:i9({point:c,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n})}var o9=()=>{var e=Fe();return w.useEffect(()=>(e(MF()),()=>{e(IF())})),null},c9=["children"];function u9(e,t){if(e==null)return{};var r,n,a=d9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function d9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lw=()=>{},Fk=w.createContext({addErrorBar:lw,removeErrorBar:lw}),f9={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Uk=w.createContext(f9);function Bk(e){var{children:t}=e,r=u9(e,c9);return w.createElement(Uk.Provider,{value:r},t)}var h9=()=>w.useContext(Uk),zk=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:a,dataKey:i,data:l,stackId:o,hide:c,type:d,barSize:u}=e,[f,h]=w.useState([]),m=w.useCallback(b=>{h(p=>[...p,b])},[h]),x=w.useCallback(b=>{h(p=>p.filter(y=>y!==b))},[h]),g=St();return w.createElement(Fk.Provider,{value:{addErrorBar:m,removeErrorBar:x}},w.createElement(BF,{type:d,data:l,xAxisId:r,yAxisId:n,zAxisId:a,dataKey:i,errorBars:f,stackId:o,hide:c,barSize:u,isPanorama:g}),t)};function m9(e){var{addErrorBar:t,removeErrorBar:r}=w.useContext(Fk);return w.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var p9=e=>{var t=St();return G(r=>tn(r,"xAxis",e,t))},g9=e=>{var t=St();return G(r=>tn(r,"yAxis",e,t))},x9=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function Wk(e,t,r){return(t=v9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v9(e){var t=y9(e,"string");return typeof t=="symbol"?t:t+""}function y9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kl.apply(null,arguments)}function b9(e,t){if(e==null)return{};var r,n,a=w9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function w9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function j9(e){var{direction:t,width:r,dataKey:n,isAnimationActive:a,animationBegin:i,animationDuration:l,animationEasing:o}=e,c=b9(e,x9),d=ue(c,!1),{data:u,dataPointFormatter:f,xAxisId:h,yAxisId:m,errorBarOffset:x}=h9(),g=p9(h),b=g9(m);if((g==null?void 0:g.scale)==null||(b==null?void 0:b.scale)==null||u==null||t==="x"&&g.type!=="number")return null;var p=u.map(y=>{var{x:v,y:S,value:j,errorVal:N}=f(y,n,t);if(!N)return null;var _=[],k,A;if(Array.isArray(N)?[k,A]=N:k=A=N,t==="x"){var{scale:O}=g,P=S+x,C=P+r,E=P-r,F=O(j-k),z=O(j+A);_.push({x1:z,y1:C,x2:z,y2:E}),_.push({x1:F,y1:P,x2:z,y2:P}),_.push({x1:F,y1:C,x2:F,y2:E})}else if(t==="y"){var{scale:M}=b,U=v+x,I=U-r,B=U+r,Y=M(j-k),R=M(j+A);_.push({x1:I,y1:R,x2:B,y2:R}),_.push({x1:U,y1:Y,x2:U,y2:R}),_.push({x1:I,y1:Y,x2:B,y2:Y})}var D="".concat(v+x,"px ").concat(S+x,"px");return w.createElement(er,Kl({className:"recharts-errorBar",key:"bar-".concat(_.map(ne=>"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)))},d),_.map(ne=>{var ve=a?{transformOrigin:"".concat(ne.x1-5,"px")}:void 0;return w.createElement(ta,{from:{transform:"scaleY(0)",transformOrigin:D},to:{transform:"scaleY(1)",transformOrigin:D},begin:i,easing:o,isActive:a,duration:l,key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2),style:{transformOrigin:D}},w.createElement("line",Kl({},ne,{style:ve})))}))});return w.createElement(er,{className:"recharts-errorBars"},p)}var Kk=w.createContext(void 0);function N9(e){var t=w.useContext(Kk);return e??t??"x"}function qk(e){var{direction:t,children:r}=e;return w.createElement(Kk.Provider,{value:t},r)}var Hk={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function S9(e){var t=N9(e.direction),{width:r,isAnimationActive:n,animationBegin:a,animationDuration:i,animationEasing:l}=An(e,Hk);return w.createElement(w.Fragment,null,w.createElement(m9,{dataKey:e.dataKey,direction:t}),w.createElement(j9,Kl({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:a,animationDuration:i,animationEasing:l})))}class Vk extends w.Component{render(){return w.createElement(S9,this.props)}}Wk(Vk,"defaultProps",Hk);Wk(Vk,"displayName","ErrorBar");var _9="Invariant failed";function k9(e,t){throw new Error(_9)}var P9=["x","y"];function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jm.apply(null,arguments)}function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){C9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C9(e,t,r){return(t=A9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A9(e){var t=O9(e,"string");return typeof t=="symbol"?t:t+""}function O9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E9(e,t){if(e==null)return{};var r,n,a=T9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function T9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function M9(e,t){var{x:r,y:n}=e,a=E9(e,P9),i="".concat(r),l=parseInt(i,10),o="".concat(n),c=parseInt(o,10),d="".concat(t.height||a.height),u=parseInt(d,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Ri(Ri(Ri(Ri(Ri({},t),a),l?{x:l}:{}),c?{y:c}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Yk(e){return w.createElement(t9,Jm({shapeType:"rectangle",propTransformer:M9,activeClassName:"recharts-active-bar"},e))}var I9=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(H(t))return t;var i=H(n)||ge(n);return i?t(n,a):(i||k9(),r)}};function W0(e,t){var r,n,a=G(d=>En(d,e)),i=G(d=>ws(d,t)),l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Bt.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:zt.allowDataOverflow,c=l||o;return{needClip:c,needClipX:l,needClipY:o}}function Gk(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=ao(),{needClipX:i,needClipY:l,needClip:o}=W0(t,r);if(!o)return null;var{left:c,top:d,width:u,height:f}=a;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:i?c:c-u/2,y:l?d:d-f/2,width:i?u:u*2,height:l?f:f*2}))}var D9=["onMouseEnter","onMouseLeave","onClick"],$9=["value","background","tooltipPosition"],L9=["onMouseEnter","onClick","onMouseLeave"];function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ql.apply(null,arguments)}function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(r),!0).forEach(function(n){Vd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vd(e,t,r){return(t=R9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R9(e){var t=F9(e,"string");return typeof t=="symbol"?t:t+""}function F9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xm(e,t){if(e==null)return{};var r,n,a=U9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function U9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var B9=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Nd(r,t),payload:e}]};function z9(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Nd(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function W9(e){var t=G(ni),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=i,d=Xm(i,D9),u=Mk(l,n),f=Ik(o),h=Dk(c,n);if(!a||r==null)return null;var m=ue(a,!1);return w.createElement(w.Fragment,null,r.map((x,g)=>{var{value:b,background:p,tooltipPosition:y}=x,v=Xm(x,$9);if(!p)return null;var S=u(x,g),j=f(x,g),N=h(x,g),_=mt(mt(mt(mt(mt({option:a,isActive:String(g)===t},v),{},{fill:"#eee"},p),m),ld(d,x,g)),{},{onMouseEnter:S,onMouseLeave:j,onClick:N,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return w.createElement(Yk,ql({key:"background-bar-".concat(g)},_))}))}function Jk(e){var{data:t,props:r,showLabels:n}=e,a=ue(r,!1),{shape:i,dataKey:l,activeBar:o}=r,c=G(ni),d=G(ik),{onMouseEnter:u,onClick:f,onMouseLeave:h}=r,m=Xm(r,L9),x=Mk(u,l),g=Ik(h),b=Dk(f,l);return t?w.createElement(w.Fragment,null,t.map((p,y)=>{var v=o&&String(y)===c&&(d==null||l===d),S=v?o:i,j=mt(mt(mt({},a),p),{},{isActive:v,option:S,index:y,dataKey:l});return w.createElement(er,ql({className:"recharts-bar-rectangle"},ld(m,p,y),{onMouseEnter:x(p,y),onMouseLeave:g(p,y),onClick:b(p,y),key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(y)}),w.createElement(Yk,j))}),n&&as.renderCallByParent(r,t)):null}function K9(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,f=r.current,h=Rk(t,"recharts-bar-"),[m,x]=w.useState(!1),g=w.useCallback(()=>{typeof d=="function"&&d(),x(!1)},[d]),b=w.useCallback(()=>{typeof u=="function"&&u(),x(!0)},[u]);return w.createElement(ta,{begin:l,duration:o,isActive:i,easing:c,from:{t:0},to:{t:1},onAnimationEnd:g,onAnimationStart:b,key:h},p=>{var{t:y}=p,v=y===1?n:n.map((S,j)=>{var N=f&&f[j];if(N){var _=Er(N.x,S.x),k=Er(N.y,S.y),A=Er(N.width,S.width),O=Er(N.height,S.height);return mt(mt({},S),{},{x:_(y),y:k(y),width:A(y),height:O(y)})}if(a==="horizontal"){var P=Er(0,S.height),C=P(y);return mt(mt({},S),{},{y:S.y+S.height-C,height:C})}var E=Er(0,S.width),F=E(y);return mt(mt({},S),{},{width:F})});return y>0&&(r.current=v),w.createElement(er,null,w.createElement(Jk,{props:t,data:v,showLabels:!m}))})}function q9(e){var{data:t,isAnimationActive:r}=e,n=w.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?w.createElement(K9,{previousRectanglesRef:n,props:e}):w.createElement(Jk,{props:e,data:t,showLabels:!0})}var Xk=0,H9=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:gt(e,t)}};class V9 extends w.PureComponent{constructor(){super(...arguments),Vd(this,"id",Ya("recharts-bar-"))}render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:l,needClip:o,background:c,id:d,layout:u}=this.props;if(t)return null;var f=de("recharts-bar",a),h=ge(d)?this.id:d;return w.createElement(er,{className:f},o&&w.createElement("defs",null,w.createElement(Gk,{clipPathId:h,xAxisId:i,yAxisId:l})),w.createElement(er,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):null},w.createElement(W9,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),w.createElement(q9,this.props)),w.createElement(qk,{direction:u==="horizontal"?"y":"x"},this.props.children))}}var Qk={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!fi.isSsr,legendType:"rect",minPointSize:Xk,xAxisId:0,yAxisId:0};function Y9(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u}=An(e,Qk),{needClip:f}=W0(t,r),h=Pd(),m=St(),x=w.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:i,stackId:W2(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,i,e.stackId]),g=xg(e.children,wk),b=G(v=>j7(v,t,r,m,x,g));if(h!=="vertical"&&h!=="horizontal")return null;var p,y=b==null?void 0:b[0];return y==null||y.height==null||y.width==null?p=0:p=h==="vertical"?y.height/2:y.width/2,w.createElement(Bk,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:H9,errorBarOffset:p},w.createElement(V9,ql({},e,{layout:h,needClip:f,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function G9(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:f,offset:h,cells:m}=e,x=t==="horizontal"?o:l,g=u?x.scale.domain():null,b=C5({numericAxis:x});return f.map((p,y)=>{var v,S,j,N,_,k;u?v=N5(u[y],g):(v=gt(p,r),Array.isArray(v)||(v=[b,v]));var A=I9(n,Xk)(v[1],y);if(t==="horizontal"){var O,[P,C]=[o.scale(v[0]),o.scale(v[1])];S=py({axis:l,ticks:c,bandSize:i,offset:a.offset,entry:p,index:y}),j=(O=C??P)!==null&&O!==void 0?O:void 0,N=a.size;var E=P-C;if(_=Zt(E)?0:E,k={x:S,y:h.top,width:N,height:h.height},Math.abs(A)>0&&Math.abs(_)<Math.abs(A)){var F=Et(_||A)*(Math.abs(A)-Math.abs(_));j-=F,_+=F}}else{var[z,M]=[l.scale(v[0]),l.scale(v[1])];if(S=z,j=py({axis:o,ticks:d,bandSize:i,offset:a.offset,entry:p,index:y}),N=M-z,_=a.size,k={x:h.left,y:j,width:h.width,height:_},Math.abs(A)>0&&Math.abs(N)<Math.abs(A)){var U=Et(N||A)*(Math.abs(A)-Math.abs(N));N+=U}}return mt(mt({},p),{},{x:S,y:j,width:N,height:_,value:u?v:v[1],payload:p,background:k,tooltipPosition:{x:S+N/2,y:j+_/2}},m&&m[y]&&m[y].props)})}class cl extends w.PureComponent{render(){return w.createElement(zk,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},w.createElement(o9,null),w.createElement(Lk,{legendPayload:B9(this.props)}),w.createElement($k,{fn:z9,args:this.props}),w.createElement(Y9,this.props))}}Vd(cl,"displayName","Bar");Vd(cl,"defaultProps",Qk);function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){J9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J9(e,t,r){return(t=X9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X9(e){var t=Q9(e,"string");return typeof t=="symbol"?t:t+""}function Q9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z9=(e,t)=>t,e7=(e,t,r)=>r,t7=(e,t,r,n)=>n,K0=(e,t,r,n,a)=>a,r7=(e,t,r,n,a)=>a.maxBarSize,n7=(e,t,r,n,a,i)=>i,dw=(e,t,r)=>{var n=r??e;if(!ge(n))return Rr(n,t,0)},s7=T([me,Fd,Z9,e7,t7],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),a7=(e,t,r,n)=>{var a=me(e);return a==="horizontal"?zm(e,"yAxis",r,n):zm(e,"xAxis",t,n)},i7=(e,t,r)=>{var n=me(e);return n==="horizontal"?_b(e,"xAxis",t):_b(e,"yAxis",r)};function l7(e){return e.stackId!=null&&e.dataKey!=null}var o7=(e,t,r)=>{var n={},a=e.filter(l7),i=e.filter(d=>d.stackId==null),l=a.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),n),o=Object.entries(l).map(d=>{var[u,f]=d,h=f.map(x=>x.dataKey),m=dw(t,r,f[0].barSize);return{stackId:u,dataKeys:h,barSize:m}}),c=i.map(d=>{var u=[d.dataKey].filter(h=>h!=null),f=dw(t,r,d.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...o,...c]},c7=T([s7,oL,i7],o7),u7=(e,t,r,n,a)=>{var i,l,o=me(e),c=s_(e),{maxBarSize:d}=a,u=ge(d)?c:d,f,h;return o==="horizontal"?(f=tn(e,"xAxis",t,n),h=ds(e,"xAxis",t,n)):(f=tn(e,"yAxis",r,n),h=ds(e,"yAxis",r,n)),(i=(l=Dl(f,h,!0))!==null&&l!==void 0?l:u)!==null&&i!==void 0?i:0},Zk=(e,t,r,n)=>{var a=me(e),i,l;return a==="horizontal"?(i=tn(e,"xAxis",t,n),l=ds(e,"xAxis",t,n)):(i=tn(e,"yAxis",r,n),l=ds(e,"yAxis",r,n)),Dl(i,l)};function d7(e,t,r,n,a){var i=n.length;if(!(i<1)){var l=Rr(e,r,0,!0),o,c=[];if(nr(n[0].barSize)){var d=!1,u=r/i,f=n.reduce((p,y)=>p+(y.barSize||0),0);f+=(i-1)*l,f>=r&&(f-=(i-1)*l,l=0),f>=r&&u>0&&(d=!0,u*=.9,f=i*u);var h=(r-f)/2>>0,m={offset:h-l,size:0};o=n.reduce((p,y)=>{var v,S={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:m.offset+m.size+l,size:d?u:(v=y.barSize)!==null&&v!==void 0?v:0}},j=[...p,S];return m=j[j.length-1].position,j},c)}else{var x=Rr(t,r,0,!0);r-2*x-(i-1)*l<=0&&(l=0);var g=(r-2*x-(i-1)*l)/i;g>1&&(g>>=0);var b=nr(a)?Math.min(g,a):g;o=n.reduce((p,y,v)=>[...p,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:x+(g+l)*v+(g-b)/2,size:b}}],c)}return o}}var f7=(e,t,r,n,a,i,l)=>{var o=ge(l)?t:l,c=d7(r,n,a!==i?a:i,e,o);return a!==i&&c!=null&&(c=c.map(d=>Qo(Qo({},d),{},{position:Qo(Qo({},d.position),{},{offset:d.position.offset-a/2})}))),c},h7=T([c7,s_,lL,a_,u7,Zk,r7],f7),m7=(e,t,r,n)=>tn(e,"xAxis",t,n),p7=(e,t,r,n)=>tn(e,"yAxis",r,n),g7=(e,t,r,n)=>ds(e,"xAxis",t,n),x7=(e,t,r,n)=>ds(e,"yAxis",r,n),v7=T([h7,K0],(e,t)=>{if(e!=null){var r=e.find(n=>n.stackId===t.stackId&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),y7=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:a}=n;if(a){var i=a.find(l=>l.key===t.dataKey);return i}}}}},b7=T([Fd,K0],(e,t)=>{if(e.some(r=>r.type==="bar"&&t.dataKey===r.dataKey&&t.stackId===r.stackId&&t.stackId===r.stackId))return t}),w7=T([a7,K0],y7),j7=T([ot,m7,p7,g7,x7,v7,me,g0,Zk,w7,b7,n7],(e,t,r,n,a,i,l,o,c,d,u,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:x}=o;if(!(u==null||i==null||l!=="horizontal"&&l!=="vertical"||t==null||r==null||n==null||a==null||c==null)){var{data:g}=u,b;if(g!=null&&g.length>0?b=g:b=h==null?void 0:h.slice(m,x+1),b!=null)return G9({layout:l,barSettings:u,pos:i,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,stackedData:d,displayedData:b,offset:e,cells:f})}}),N7=e=>{var{chartData:t}=e,r=Fe(),n=St();return w.useEffect(()=>n?()=>{}:(r(Ib(t)),()=>{r(Ib(void 0))}),[t,r,n]),null},fw={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},S7=Nr({name:"brush",initialState:fw,reducers:{setBrushSettings(e,t){return t.payload==null?fw:t.payload}}}),_7=S7.reducer;function k7(e,t,r){return(t=P7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P7(e){var t=C7(e,"string");return typeof t=="symbol"?t:t+""}function C7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class q0{static create(t){return new q0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}k7(q0,"EPS",1e-4);function A7(e){return(e%180+180)%180}var O7=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=A7(a),l=i*Math.PI/180,o=Math.atan(n/r),c=l>o&&l<Math.PI-o?n/Math.sin(l):r/Math.cos(l);return Math.abs(c)},E7={dots:[],areas:[],lines:[]},T7=Nr({name:"referenceElements",initialState:E7,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ns(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ns(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ns(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),M7=T7.reducer,I7=w.createContext(void 0),D7=e=>{var{children:t}=e,[r]=w.useState("".concat(Ya("recharts"),"-clip")),n=ao();if(n==null)return null;var{left:a,top:i,height:l,width:o}=n;return w.createElement(I7.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function Zf(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function eP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function $7(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return O7(n,r)}function L7(e,t,r){var n=r==="width",{x:a,y:i,width:l,height:o}=e;return t===1?{start:n?a:i,end:n?a+l:i+o}:{start:n?a+l:i+o,end:n?a:i}}function yu(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function R7(e,t){return eP(e,t+1)}function F7(e,t,r,n,a){for(var i=(n||[]).slice(),{start:l,end:o}=t,c=0,d=1,u=l,f=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:eP(n,d)};var g=c,b,p=()=>(b===void 0&&(b=r(x,g)),b),y=x.coordinate,v=c===0||yu(e,y,p,u,o);v||(c=0,u=l,d+=1),v&&(u=y+e*(p()/2+a),c+=d)},h;d<=i.length;)if(h=f(),h)return h.v;return[]}function hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hw(Object(r),!0).forEach(function(n){U7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U7(e,t,r){return(t=B7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B7(e){var t=z7(e,"string");return typeof t=="symbol"?t:t+""}function z7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W7(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,{start:o}=t,{end:c}=t,d=function(h){var m=i[h],x,g=()=>(x===void 0&&(x=r(m,h)),x);if(h===l-1){var b=e*(m.coordinate+e*g()/2-c);i[h]=m=ft(ft({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else i[h]=m=ft(ft({},m),{},{tickCoord:m.coordinate});var p=yu(e,m.tickCoord,g,o,c);p&&(c=m.tickCoord-e*(g()/2+a),i[h]=ft(ft({},m),{},{isShow:!0}))},u=l-1;u>=0;u--)d(u);return i}function K7(e,t,r,n,a,i){var l=(n||[]).slice(),o=l.length,{start:c,end:d}=t;if(i){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-d);l[o-1]=u=ft(ft({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var m=yu(e,u.tickCoord,()=>f,c,d);m&&(d=u.tickCoord-e*(f/2+a),l[o-1]=ft(ft({},u),{},{isShow:!0}))}for(var x=i?o-1:o,g=function(y){var v=l[y],S,j=()=>(S===void 0&&(S=r(v,y)),S);if(y===0){var N=e*(v.coordinate-e*j()/2-c);l[y]=v=ft(ft({},v),{},{tickCoord:N<0?v.coordinate-N*e:v.coordinate})}else l[y]=v=ft(ft({},v),{},{tickCoord:v.coordinate});var _=yu(e,v.tickCoord,j,c,d);_&&(c=v.tickCoord+e*(j()/2+a),l[y]=ft(ft({},v),{},{isShow:!0}))},b=0;b<x;b++)g(b);return l}function H0(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:d,unit:u,angle:f}=e;if(!a||!a.length||!n)return[];if(H(c)||fi.isSsr){var h;return(h=R7(a,H(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],x=o==="top"||o==="bottom"?"width":"height",g=u&&x==="width"?ol(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(v,S)=>{var j=typeof d=="function"?d(v.value,S):v.value;return x==="width"?$7(ol(j,{fontSize:t,letterSpacing:r}),g,f):ol(j,{fontSize:t,letterSpacing:r})[x]},p=a.length>=2?Et(a[1].coordinate-a[0].coordinate):1,y=L7(i,p,x);return c==="equidistantPreserveStart"?F7(p,y,b,a,l):(c==="preserveStart"||c==="preserveStartEnd"?m=K7(p,y,b,a,l,c==="preserveStartEnd"):m=W7(p,y,b,a,l),m.filter(v=>v.isShow))}var q7=["viewBox"],H7=["viewBox"];function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ea.apply(null,arguments)}function mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(r),!0).forEach(function(n){V0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pw(e,t){if(e==null)return{};var r,n,a=V7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function V7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function V0(e,t,r){return(t=Y7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y7(e){var t=G7(e,"string");return typeof t=="symbol"?t:t+""}function G7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class js extends w.Component{constructor(t){super(t),this.tickRefs=w.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,a=pw(t,q7),i=this.props,{viewBox:l}=i,o=pw(i,H7);return!Zf(n,l)||!Zf(a,o)||!Zf(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:a,height:i,orientation:l,tickSize:o,mirror:c,tickMargin:d}=this.props,u,f,h,m,x,g,b=c?-1:1,p=t.tickSize||o,y=H(t.tickCoord)?t.tickCoord:t.coordinate;switch(l){case"top":u=f=t.coordinate,m=n+ +!c*i,h=m-b*p,g=h-b*d,x=y;break;case"left":h=m=t.coordinate,f=r+ +!c*a,u=f-b*p,x=u-b*d,g=y;break;case"right":h=m=t.coordinate,f=r+ +c*a,u=f+b*p,x=u+b*d,g=y;break;default:u=f=t.coordinate,m=n+ +c*i,h=m+b*p,g=h+b*d,x=y;break}return{line:{x1:u,y1:h,x2:f,y2:m},tick:{x,y:g}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:a,orientation:i,mirror:l,axisLine:o}=this.props,c=We(We(We({},ue(this.props,!1)),ue(o,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!l||i==="bottom"&&l);c=We(We({},c),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var u=+(i==="left"&&!l||i==="right"&&l);c=We(We({},c),{},{x1:t+u*n,y1:r,x2:t+u*n,y2:r+a})}return w.createElement("line",Ea({},c,{className:de("recharts-cartesian-axis-line",Qs(o,"className"))}))}static renderTickItem(t,r,n){var a,i=de(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))a=w.cloneElement(t,We(We({},r),{},{className:i}));else if(typeof t=="function")a=t(We(We({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=de(l,t.className)),a=w.createElement(B0,Ea({},r,{className:l}),n)}return a}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:i,tick:l,tickFormatter:o,unit:c}=this.props,d=H0(We(We({},this.props),{},{ticks:n}),t,r),u=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),h=ue(this.props,!1),m=ue(l,!1),x=We(We({},h),{},{fill:"none"},ue(a,!1)),g=d.map((b,p)=>{var{line:y,tick:v}=this.getTickLineCoord(b),S=We(We(We(We({textAnchor:u,verticalAnchor:f},h),{},{stroke:"none",fill:i},m),v),{},{index:p,payload:b,visibleTicksCount:d.length,tickFormatter:o});return w.createElement(er,Ea({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},ld(this.props,b,p)),a&&w.createElement("line",Ea({},x,y,{className:de("recharts-cartesian-axis-tick-line",Qs(a,"className"))})),l&&js.renderTickItem(l,S,"".concat(typeof o=="function"?o(b.value,p):b.value).concat(c||"")))});return g.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},g):null}render(){var{axisLine:t,width:r,height:n,className:a,hide:i}=this.props;if(i)return null;var{ticks:l}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:w.createElement(er,{className:de("recharts-cartesian-axis",a),ref:o=>{if(o){var c=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var d=c[0];if(d){var u=window.getComputedStyle(d).fontSize,f=window.getComputedStyle(d).letterSpacing;(u!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),Ht.renderCallByParent(this.props))}}V0(js,"displayName","CartesianAxis");V0(js,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var J7=["x1","y1","x2","y2","key"],X7=["offset"],Q7=["xAxisId","yAxisId"],Z7=["xAxisId","yAxisId"];function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){eU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eU(e,t,r){return(t=tU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tU(e){var t=rU(e,"string");return typeof t=="symbol"?t:t+""}function rU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Us.apply(null,arguments)}function bu(e,t){if(e==null)return{};var r,n,a=nU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sU=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:l,ry:o}=e;return w.createElement("rect",{x:n,y:a,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function tP(e,t){var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:l,key:o}=t,c=bu(t,J7),d=ue(c,!1),u=bu(d,X7);r=w.createElement("line",Us({},u,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:o}))}return r}function aU(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var i=bu(e,Q7),l=a.map((o,c)=>{var d=pt(pt({},i),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return tP(n,d)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function iU(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var i=bu(e,Z7),l=a.map((o,c)=>{var d=pt(pt({},i),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return tP(n,d)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function lU(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=o.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==d[0]&&d.unshift(0);var u=d.map((f,h)=>{var m=!d[h+1],x=m?a+l-f:d[h+1]-f;if(x<=0)return null;var g=h%t.length;return w.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:x,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function oU(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:l,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==d[0]&&d.unshift(0);var u=d.map((f,h)=>{var m=!d[h+1],x=m?a+l-f:d[h+1]-f;if(x<=0)return null;var g=h%r.length;return w.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:x,height:o,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var cU=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return B2(H0(pt(pt(pt({},js.defaultProps),r),{},{ticks:z2(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},uU=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return B2(H0(pt(pt(pt({},js.defaultProps),r),{},{ticks:z2(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},dU={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Qm(e){var t=Wg(),r=Kg(),n=ao(),a=pt(pt({},An(e,dU)),{},{x:H(e.x)?e.x:n.left,y:H(e.y)?e.y:n.top,width:H(e.width)?e.width:n.width,height:H(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:o,y:c,width:d,height:u,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,x=St(),g=G(A=>kb(A,"xAxis",i,x)),b=G(A=>kb(A,"yAxis",l,x));if(!H(d)||d<=0||!H(u)||u<=0||!H(o)||o!==+o||!H(c)||c!==+c)return null;var p=a.verticalCoordinatesGenerator||cU,y=a.horizontalCoordinatesGenerator||uU,{horizontalPoints:v,verticalPoints:S}=a;if((!v||!v.length)&&typeof y=="function"){var j=h&&h.length,N=y({yAxis:b?pt(pt({},b),{},{ticks:j?h:b.ticks}):void 0,width:t,height:r,offset:n},j?!0:f);ll(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(v=N)}if((!S||!S.length)&&typeof p=="function"){var _=m&&m.length,k=p({xAxis:g?pt(pt({},g),{},{ticks:_?m:g.ticks}):void 0,width:t,height:r,offset:n},_?!0:f);ll(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(S=k)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(sU,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(lU,Us({},a,{horizontalPoints:v})),w.createElement(oU,Us({},a,{verticalPoints:S})),w.createElement(aU,Us({},a,{offset:n,horizontalPoints:v,xAxis:g,yAxis:b})),w.createElement(iU,Us({},a,{offset:n,verticalPoints:S,xAxis:g,yAxis:b})))}Qm.displayName="CartesianGrid";var rP=(e,t,r,n)=>tn(e,"xAxis",t,n),nP=(e,t,r,n)=>ds(e,"xAxis",t,n),sP=(e,t,r,n)=>tn(e,"yAxis",r,n),aP=(e,t,r,n)=>ds(e,"yAxis",r,n),fU=T([me,rP,sP,nP,aP],(e,t,r,n,a)=>gs(e,"xAxis")?Dl(t,n,!1):Dl(r,a,!1)),hU=(e,t,r,n,a)=>a,mU=T([Fd,hU],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),pU=T([me,rP,sP,nP,aP,mU,fU,g0],(e,t,r,n,a,i,l,o)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{dataKey:f,data:h}=i,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(d,u+1),m!=null)return IU({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:l,displayedData:m})}}),gU=["type","layout","connectNulls","needClip"],xU=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function iP(e,t){if(e==null)return{};var r,n,a=vU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){Yd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yd(e,t,r){return(t=yU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yU(e){var t=bU(e,"string");return typeof t=="symbol"?t:t+""}function bU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},si.apply(null,arguments)}var wU=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Nd(r,t),payload:e}]};function jU(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Nd(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var lP=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function NU(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var SU=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return lP(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,o=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>i){o=[...r.slice(0,c),i-d];break}var u=o.length%2===0?[0,l]:[l];return[...NU(r,a),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function _U(e,t){var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=de("recharts-line-dot",typeof e!="boolean"?e.className:"");r=w.createElement(Ok,si({},t,{className:n}))}return r}function kU(e,t){return e==null?!1:t?!0:e.length===1}function PU(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n;if(!kU(r,a))return null;var o=SN(a),c=ue(n,!1),d=ue(a,!0),u=r.map((h,m)=>{var x=Tr(Tr(Tr({key:"dot-".concat(m),r:3},c),d),{},{index:m,cx:h.x,cy:h.y,dataKey:i,value:h.value,payload:h.payload,points:r});return _U(a,x)}),f={clipPath:l?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):null};return w.createElement(er,si({className:"recharts-line-dots",key:"dots"},f),u)}function Zm(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i,showLabels:l}=e,{type:o,layout:c,connectNulls:d,needClip:u}=i,f=iP(i,gU),h=Tr(Tr({},ue(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):null,points:n,type:o,layout:c,connectNulls:d,strokeDasharray:a??i.strokeDasharray});return w.createElement(w.Fragment,null,(n==null?void 0:n.length)>1&&w.createElement(Y2,si({},h,{pathRef:r})),w.createElement(PU,{points:n,clipPathId:t,props:i}),l&&as.renderCallByParent(i,n))}function CU(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function AU(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:f,animateNewValues:h,width:m,height:x,onAnimationEnd:g,onAnimationStart:b}=r,p=a.current,y=Rk(r,"recharts-line-"),[v,S]=w.useState(!1),j=w.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),N=w.useCallback(()=>{typeof b=="function"&&b(),S(!0)},[b]),_=CU(n.current),k=i.current;return w.createElement(ta,{begin:d,duration:u,isActive:c,easing:f,from:{t:0},to:{t:1},onAnimationEnd:j,onAnimationStart:N,key:y},A=>{var{t:O}=A,P=Er(k,_+k),C=Math.min(P(O),_),E;if(o){var F="".concat(o).split(/[,\s]+/gim).map(U=>parseFloat(U));E=SU(C,_,F)}else E=lP(_,C);if(p){var z=p.length/l.length,M=O===1?l:l.map((U,I)=>{var B=Math.floor(I*z);if(p[B]){var Y=p[B],R=Er(Y.x,U.x),D=Er(Y.y,U.y);return Tr(Tr({},U),{},{x:R(O),y:D(O)})}if(h){var ne=Er(m*2,U.x),ve=Er(x/2,U.y);return Tr(Tr({},U),{},{x:ne(O),y:ve(O)})}return Tr(Tr({},U),{},{x:U.x,y:U.y})});return a.current=M,w.createElement(Zm,{props:r,points:M,clipPathId:t,pathRef:n,showLabels:!v,strokeDasharray:E})}return O>0&&_>0&&(a.current=l,i.current=C),w.createElement(Zm,{props:r,points:l,clipPathId:t,pathRef:n,showLabels:!v,strokeDasharray:E})})}function OU(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:a}=r,i=w.useRef(null),l=w.useRef(0),o=w.useRef(null),c=i.current;return a&&n&&n.length&&c!==n?w.createElement(AU,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:l,pathRef:o}):w.createElement(Zm,{props:r,points:n,clipPathId:t,pathRef:o,showLabels:!0})}var EU=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:gt(e.payload,t)});class TU extends w.Component{constructor(){super(...arguments),Yd(this,"id",Ya("recharts-line-"))}render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:l,yAxisId:o,top:c,left:d,width:u,height:f,id:h,needClip:m,layout:x}=this.props;if(r)return null;var g=de("recharts-line",i),b=ge(h)?this.id:h,{r:p=3,strokeWidth:y=2}=(t=ue(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},v=SN(n),S=p*2+y;return w.createElement(w.Fragment,null,w.createElement(er,{className:g},m&&w.createElement("defs",null,w.createElement(Gk,{clipPathId:b,xAxisId:l,yAxisId:o}),!v&&w.createElement("clipPath",{id:"clipPath-dots-".concat(b)},w.createElement("rect",{x:d-S/2,y:c-S/2,width:u+S,height:f+S}))),w.createElement(OU,{props:this.props,clipPathId:b}),w.createElement(qk,{direction:x==="horizontal"?"y":"x"},w.createElement(Bk,{xAxisId:l,yAxisId:o,data:a,dataPointFormatter:EU,errorBarOffset:0},this.props.children))),w.createElement(l9,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var oP={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!fi.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function MU(e){var t=An(e,oP),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,hide:d,isAnimationActive:u,label:f,legendType:h,xAxisId:m,yAxisId:x}=t,g=iP(t,xU),{needClip:b}=W0(m,x),{height:p,width:y,left:v,top:S}=ao(),j=Pd(),N=St(),_=w.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),k=G(A=>pU(A,m,x,N,_));return j!=="horizontal"&&j!=="vertical"?null:w.createElement(TU,si({},g,{connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:u,hide:d,label:f,legendType:h,xAxisId:m,yAxisId:x,points:k,layout:j,height:p,width:y,left:v,top:S,needClip:b}))}function IU(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:c}=e;return c.map((d,u)=>{var f=gt(d,l);return t==="horizontal"?{x:my({axis:r,ticks:a,bandSize:o,entry:d,index:u}),y:ge(f)?null:n.scale(f),value:f,payload:d}:{x:ge(f)?null:r.scale(f),y:my({axis:n,ticks:i,bandSize:o,entry:d,index:u}),value:f,payload:d}})}class wu extends w.PureComponent{render(){return w.createElement(zk,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},w.createElement(Lk,{legendPayload:wU(this.props)}),w.createElement($k,{fn:jU,args:this.props}),w.createElement(MU,this.props))}}Yd(wu,"displayName","Line");Yd(wu,"defaultProps",oP);function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){DU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DU(e,t,r){return(t=$U(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $U(e){var t=LU(e,"string");return typeof t=="symbol"?t:t+""}function LU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RU={xAxis:{},yAxis:{},zAxis:{}},cP=Nr({name:"cartesianAxis",initialState:RU,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=yw(yw({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:FU,removeXAxis:UU,addYAxis:BU,removeYAxis:zU,addZAxis:Iz,removeZAxis:Dz,updateYAxisWidth:WU}=cP.actions,KU=cP.reducer,qU=["children"],HU=["dangerouslySetInnerHTML","ticks"];function uP(e,t,r){return(t=VU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VU(e){var t=YU(e,"string");return typeof t=="symbol"?t:t+""}function YU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ep(){return ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ep.apply(null,arguments)}function dP(e,t){if(e==null)return{};var r,n,a=GU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JU(e){var t=Fe(),r=w.useMemo(()=>{var i=dP(e,qU);return i},[e]),n=G(i=>En(i,r.id)),a=r===n;return w.useEffect(()=>(t(FU(r)),()=>{t(UU(r))}),[r,t]),a?e.children:null}var XU=e=>{var{xAxisId:t,className:r}=e,n=G(q2),a=St(),i="xAxis",l=G(f=>vi(f,i,t,a)),o=G(f=>B_(f,i,t,a)),c=G(f=>L_(f,t)),d=G(f=>tR(f,t));if(c==null||d==null)return null;var u=dP(e,HU);return w.createElement(js,ep({},u,{scale:l,x:d.x,y:d.y,width:c.width,height:c.height,className:de("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},QU=e=>{var t,r,n,a,i;return w.createElement(JU,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},w.createElement(XU,e))};class ju extends w.Component{render(){return w.createElement(QU,this.props)}}uP(ju,"displayName","XAxis");uP(ju,"defaultProps",{allowDataOverflow:Bt.allowDataOverflow,allowDecimals:Bt.allowDecimals,allowDuplicatedCategory:Bt.allowDuplicatedCategory,height:Bt.height,hide:!1,mirror:Bt.mirror,orientation:Bt.orientation,padding:Bt.padding,reversed:Bt.reversed,scale:Bt.scale,tickCount:Bt.tickCount,type:Bt.type,xAxisId:0});var ZU=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){t.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>l&&(l=f.width)}});var o=r?r.getBoundingClientRect().width:0,c=a+i,d=l+c+o+(r?n:0);return Math.round(d)}return 0},eB=["dangerouslySetInnerHTML","ticks"];function fP(e,t,r){return(t=tB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tB(e){var t=rB(e,"string");return typeof t=="symbol"?t:t+""}function rB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tp.apply(null,arguments)}function nB(e,t){if(e==null)return{};var r,n,a=sB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aB(e){var t=Fe();return w.useEffect(()=>(t(BU(e)),()=>{t(zU(e))}),[e,t]),null}var iB=e=>{var t,{yAxisId:r,className:n,width:a,label:i}=e,l=w.useRef(null),o=w.useRef(null),c=G(q2),d=St(),u=Fe(),f="yAxis",h=G(p=>vi(p,f,r,d)),m=G(p=>R_(p,r)),x=G(p=>rR(p,r)),g=G(p=>B_(p,f,r,d));if(w.useLayoutEffect(()=>{var p;if(!(a!=="auto"||!m||z0(i)||w.isValidElement(i))){var y=l.current,v=y==null||(p=y.tickRefs)===null||p===void 0?void 0:p.current,{tickSize:S,tickMargin:j}=y.props,N=ZU({ticks:v,label:o.current,labelGapWithTick:5,tickSize:S,tickMargin:j});Math.round(m.width)!==Math.round(N)&&u(WU({id:r,width:N}))}},[l,l==null||(t=l.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m==null?void 0:m.width,m,u,i,r,a]),m==null||x==null)return null;var b=nB(e,eB);return w.createElement(js,tp({},b,{ref:l,labelRef:o,scale:h,x:x.x,y:x.y,width:m.width,height:m.height,className:de("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:g}))},lB=e=>{var t,r,n,a,i;return w.createElement(w.Fragment,null,w.createElement(aB,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),w.createElement(iB,e))},oB={allowDataOverflow:zt.allowDataOverflow,allowDecimals:zt.allowDecimals,allowDuplicatedCategory:zt.allowDuplicatedCategory,hide:!1,mirror:zt.mirror,orientation:zt.orientation,padding:zt.padding,reversed:zt.reversed,scale:zt.scale,tickCount:zt.tickCount,type:zt.type,width:zt.width,yAxisId:0};class Nu extends w.Component{render(){return w.createElement(lB,this.props)}}fP(Nu,"displayName","YAxis");fP(Nu,"defaultProps",oB);var cB={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po=w;function uB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dB=typeof Object.is=="function"?Object.is:uB,fB=po.useSyncExternalStore,hB=po.useRef,mB=po.useEffect,pB=po.useMemo,gB=po.useDebugValue;cB.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=hB(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=pB(function(){function c(m){if(!d){if(d=!0,u=m,m=n(m),a!==void 0&&l.hasValue){var x=l.value;if(a(x,m))return f=x}return f=m}if(x=f,dB(u,m))return x;var g=n(m);return a!==void 0&&a(x,g)?(u=m,x):(u=m,f=g)}var d=!1,u,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=fB(e,i[0],i[1]);return mB(function(){l.hasValue=!0,l.value=o},[o]),gB(o),o};function xB(e){e()}function vB(){let e=null,t=null;return{clear(){e=null,t=null},notify(){xB(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var bw={notify(){},get:()=>[]};function yB(e,t){let r,n=bw,a=0,i=!1;function l(g){u();const b=n.subscribe(g);let p=!1;return()=>{p||(p=!0,b(),f())}}function o(){n.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return i}function u(){a++,r||(r=e.subscribe(c),n=vB())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=bw)}function h(){i||(i=!0,u())}function m(){i&&(i=!1,f())}const x={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return x}var bB=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wB=bB(),jB=()=>typeof navigator<"u"&&navigator.product==="ReactNative",NB=jB(),SB=()=>wB||NB?w.useLayoutEffect:w.useEffect,_B=SB(),eh=Symbol.for("react-redux-context"),th=typeof globalThis<"u"?globalThis:{};function kB(){if(!w.createContext)return{};const e=th[eh]??(th[eh]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var PB=kB();function CB(e){const{children:t,context:r,serverState:n,store:a}=e,i=w.useMemo(()=>{const c=yB(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),l=w.useMemo(()=>a.getState(),[a]);_B(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=r||PB;return w.createElement(o.Provider,{value:i},t)}var AB=CB,OB=(e,t)=>t,Y0=T([OB,me,mL,tt,tk,Tn,r8,ot],c8),G0=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},hP=br("mouseClick"),mP=so();mP.startListening({actionCreator:hP,effect:(e,t)=>{var r=e.payload,n=Y0(t.getState(),G0(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(pR({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var rp=br("mouseMove"),pP=so();pP.startListening({actionCreator:rp,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=M0(n,n.tooltip.settings.shared),i=Y0(n,G0(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(G_({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(Y_()))}});function EB(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var ww={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},gP=Nr({name:"rootProps",initialState:ww,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:ww.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),TB=gP.reducer,{updateOptions:MB}=gP.actions,IB=Nr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),DB=IB.reducer,xP=br("keyDown"),vP=br("focus"),J0=so();J0.startListening({actionCreator:xP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(I0(a,ca(r))),o=Tn(r);if(i==="Enter"){var c=pu(r,"axis","hover",String(a.index));t.dispatch(Km({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var d=iR(r),u=d==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=l+f*u;if(!(o==null||h>=o.length||h<0)){var m=pu(r,"axis","hover",String(h));t.dispatch(Km({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});J0.startListening({actionCreator:vP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",l=pu(r,"axis","hover",String(i));t.dispatch(Km({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var ur=br("externalEvent"),yP=so();yP.startListening({actionCreator:ur,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:qR(r),activeDataKey:ik(r),activeIndex:ni(r),activeLabel:ak(r),activeTooltipIndex:ni(r),isTooltipActive:HR(r)};e.payload.handler(n,e.payload.reactEvent)}}});var $B=T([yi],e=>e.tooltipItemPayloads),LB=T([$B,Kd,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var l=t(i,r);return l}}}),bP=br("touchMove"),wP=so();wP.startListening({actionCreator:bP,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=M0(n,n.tooltip.settings.shared);if(a==="axis"){var i=Y0(n,G0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(G_({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute($5),u=(l=c.getAttribute(L5))!==null&&l!==void 0?l:void 0,f=LB(t.getState(),d,u);t.dispatch(V_({activeDataKey:u,activeIndex:d,activeCoordinate:f}))}}});var RB=v2({brush:_7,cartesianAxis:KU,chartData:S8,graphicalItems:LF,layout:i5,legend:X5,options:y8,polarAxis:EF,polarOptions:DB,referenceElements:M7,rootProps:TB,tooltip:gR}),FB=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return E6({reducer:RB,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([mP.middleware,pP.middleware,J0.middleware,yP.middleware,wP.middleware]),devTools:{serialize:{replacer:EB},name:"recharts-".concat(r)}})};function UB(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=St(),i=w.useRef(null);if(a)return r;i.current==null&&(i.current=FB(t,n));var l=Tg;return w.createElement(AB,{context:l,store:i.current},r)}function BB(e){var{layout:t,width:r,height:n,margin:a}=e,i=Fe(),l=St();return w.useEffect(()=>{l||(i(n5(t)),i(s5({width:r,height:n})),i(r5(a)))},[i,l,t,r,n,a]),null}function zB(e){var t=Fe();return w.useEffect(()=>{t(MB(e))},[t,e]),null}var WB=["children"];function KB(e,t){if(e==null)return{};var r,n,a=qB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Su.apply(null,arguments)}var HB={width:"100%",height:"100%"},VB=w.forwardRef((e,t)=>{var r=Wg(),n=Kg(),a=V2();if(!eu(r)||!eu(n))return null;var{children:i,otherAttributes:l,title:o,desc:c}=e,d,u;return typeof l.tabIndex=="number"?d=l.tabIndex:d=a?0:void 0,typeof l.role=="string"?u=l.role:u=a?"application":void 0,w.createElement(vg,Su({},l,{title:o,desc:c,role:u,tabIndex:d,width:r,height:n,style:HB,ref:t}),i)}),YB=e=>{var{children:t}=e,r=G(kd);if(!r)return null;var{width:n,height:a,y:i,x:l}=r;return w.createElement(vg,{width:n,height:a,x:l,y:i},t)},jw=w.forwardRef((e,t)=>{var{children:r}=e,n=KB(e,WB),a=St();return a?w.createElement(YB,null,r):w.createElement(VB,Su({ref:t},n),r)});function GB(){var e=Fe(),[t,r]=w.useState(null),n=G(D5);return w.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;nr(i)&&i!==n&&e(a5(i))}},[t,e,n]),r}function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){XB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XB(e,t,r){return(t=QB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QB(e){var t=ZB(e,"string");return typeof t=="symbol"?t:t+""}function ZB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ez=w.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:x,onTouchStart:g,style:b,width:p}=e,y=Fe(),[v,S]=w.useState(null),[j,N]=w.useState(null);P8();var _=GB(),k=w.useCallback(D=>{_(D),typeof t=="function"&&t(D),S(D),N(D)},[_,t,S,N]),A=w.useCallback(D=>{y(hP(D)),y(ur({handler:i,reactEvent:D}))},[y,i]),O=w.useCallback(D=>{y(rp(D)),y(ur({handler:d,reactEvent:D}))},[y,d]),P=w.useCallback(D=>{y(Y_()),y(ur({handler:u,reactEvent:D}))},[y,u]),C=w.useCallback(D=>{y(rp(D)),y(ur({handler:f,reactEvent:D}))},[y,f]),E=w.useCallback(()=>{y(vP())},[y]),F=w.useCallback(D=>{y(xP(D.key))},[y]),z=w.useCallback(D=>{y(ur({handler:l,reactEvent:D}))},[y,l]),M=w.useCallback(D=>{y(ur({handler:o,reactEvent:D}))},[y,o]),U=w.useCallback(D=>{y(ur({handler:c,reactEvent:D}))},[y,c]),I=w.useCallback(D=>{y(ur({handler:h,reactEvent:D}))},[y,h]),B=w.useCallback(D=>{y(ur({handler:g,reactEvent:D}))},[y,g]),Y=w.useCallback(D=>{y(bP(D)),y(ur({handler:x,reactEvent:D}))},[y,x]),R=w.useCallback(D=>{y(ur({handler:m,reactEvent:D}))},[y,m]);return w.createElement(fk.Provider,{value:v},w.createElement(_N.Provider,{value:j},w.createElement("div",{className:de("recharts-wrapper",n),style:JB({position:"relative",cursor:"default",width:p,height:a},b),role:"application",onClick:A,onContextMenu:z,onDoubleClick:M,onFocus:E,onKeyDown:F,onMouseDown:U,onMouseEnter:O,onMouseLeave:P,onMouseMove:C,onMouseUp:I,onTouchEnd:R,onTouchMove:Y,onTouchStart:B,ref:k},r)))}),tz=["children","className","width","height","style","compact","title","desc"];function rz(e,t){if(e==null)return{};var r,n,a=nz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sz=w.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:l,compact:o,title:c,desc:d}=e,u=rz(e,tz),f=ue(u,!1);return o?w.createElement(jw,{otherAttributes:f,title:c,desc:d},r):w.createElement(ez,{className:n,style:l,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(jw,{otherAttributes:f,title:c,desc:d,ref:t},w.createElement(D7,null,r)))}),az=["width","height"];function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},np.apply(null,arguments)}function iz(e,t){if(e==null)return{};var r,n,a=lz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oz={top:5,right:5,bottom:5,left:5},cz={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:oz,reverseStackOrder:!1,syncMethod:"index"},jP=w.forwardRef(function(t,r){var n,a=An(t.categoricalChartProps,cz),{width:i,height:l}=a,o=iz(a,az);if(!eu(i)||!eu(l))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return w.createElement(UB,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},w.createElement(N7,{chartData:h.data}),w.createElement(BB,{width:i,height:l,layout:a.layout,margin:a.margin}),w.createElement(zB,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),w.createElement(sz,np({},o,{width:i,height:l,ref:r})))}),uz=["axis"],dz=w.forwardRef((e,t)=>w.createElement(jP,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uz,tooltipPayloadSearcher:mk,categoricalChartProps:e,ref:t})),fz=["axis","item"],hz=w.forwardRef((e,t)=>w.createElement(jP,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fz,tooltipPayloadSearcher:mk,categoricalChartProps:e,ref:t}));function rh(e,t,r){const n={};return e.forEach(a=>{const i=new Date(a[t]),l=`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}`;n[l]=(n[l]||0)+(r?Number(a[r]):1)}),n}const mz=()=>{const{orders:e,transactions:t,campaigns:r,talents:n,founders:a}=xe(),i=rh(t.filter(b=>{var p;return b.type==="credit"&&((p=b.description)==null?void 0:p.toLowerCase().includes("admin fee"))}),"createdAt","amount"),l=rh(t.filter(b=>{var p;return b.type==="credit"&&((p=b.description)==null?void 0:p.toLowerCase().includes("payment received"))}),"createdAt","amount"),o=rh(r,"createdAt"),c=new Set([...Object.keys(i),...Object.keys(l),...Object.keys(o)]),u=Array.from(c).sort().map(b=>({month:b,Revenue:i[b]||0,"Talent Payments":l[b]||0,Campaigns:o[b]||0})),f=Object.values(i).reduce((b,p)=>b+p,0),h=Object.values(l).reduce((b,p)=>b+p,0),m=r.length,x=n.length,g=a.length;return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Platform Analytics"}),s.jsx("p",{className:"text-gray-600",children:"See platform growth, revenue, and activity over time"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6 flex flex-col items-center",children:[s.jsx(wn,{className:"h-8 w-8 text-green-600 mb-2"}),s.jsx("span",{className:"text-lg font-semibold text-gray-700",children:m}),s.jsx("span",{className:"text-xs text-gray-500",children:"Total Campaigns"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6 flex flex-col items-center",children:[s.jsx(ie,{className:"h-8 w-8 text-blue-600 mb-2"}),s.jsx("span",{className:"text-lg font-semibold text-gray-700",children:f.toLocaleString("ms-MY",{style:"currency",currency:"MYR"})}),s.jsx("span",{className:"text-xs text-gray-500",children:"Total Revenue"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6 flex flex-col items-center",children:[s.jsx(Ce,{className:"h-8 w-8 text-purple-600 mb-2"}),s.jsx("span",{className:"text-lg font-semibold text-gray-700",children:h.toLocaleString("ms-MY",{style:"currency",currency:"MYR"})}),s.jsx("span",{className:"text-xs text-gray-500",children:"Talent Payouts"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6 flex flex-col items-center",children:[s.jsx(He,{className:"h-8 w-8 text-blue-500 mb-2"}),s.jsx("span",{className:"text-lg font-semibold text-gray-700",children:x}),s.jsx("span",{className:"text-xs text-gray-500",children:"Talents"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6 flex flex-col items-center",children:[s.jsx($t,{className:"h-8 w-8 text-yellow-500 mb-2"}),s.jsx("span",{className:"text-lg font-semibold text-gray-700",children:g}),s.jsx("span",{className:"text-xs text-gray-500",children:"Founders"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Revenue & Campaign Activity"}),s.jsx("div",{className:"w-full h-96",children:s.jsx(Ub,{width:"100%",height:"100%",children:s.jsxs(hz,{data:u,children:[s.jsx(Qm,{strokeDasharray:"3 3"}),s.jsx(ju,{dataKey:"month"}),s.jsx(Nu,{}),s.jsx(Rb,{}),s.jsx($l,{}),s.jsx(cl,{dataKey:"Revenue",fill:"#22d3ee",radius:[6,6,0,0]}),s.jsx(cl,{dataKey:"Talent Payments",fill:"#818cf8",radius:[6,6,0,0]}),s.jsx(cl,{dataKey:"Campaigns",fill:"#fde047",radius:[6,6,0,0]})]})})})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Revenue vs Talent Payouts"}),s.jsx("div",{className:"w-full h-80",children:s.jsx(Ub,{width:"100%",height:"100%",children:s.jsxs(dz,{data:u,children:[s.jsx(Qm,{strokeDasharray:"3 3"}),s.jsx(ju,{dataKey:"month"}),s.jsx(Nu,{}),s.jsx(Rb,{}),s.jsx($l,{}),s.jsx(wu,{type:"monotone",dataKey:"Revenue",stroke:"#22d3ee",strokeWidth:3,dot:{r:5}}),s.jsx(wu,{type:"monotone",dataKey:"Talent Payments",stroke:"#818cf8",strokeWidth:3,dot:{r:5}})]})})})]})]})},X0=({onClose:e,onSave:t,title:r,currentImage:n})=>{const[a,i]=w.useState(n||null),[l,o]=w.useState(null),[c,d]=w.useState(!1),u=w.useRef(null),[f,h]=w.useState(!1),m=b=>{var y;const p=(y=b.target.files)==null?void 0:y[0];if(p){if(!p.type.startsWith("image/")){alert("Please select a valid image file.");return}if(p.size>5*1024*1024){alert("Image size must be less than 5MB.");return}h(!0),o(p);const v=new FileReader;v.onload=S=>{var j;i((j=S.target)==null?void 0:j.result),h(!1)},v.readAsDataURL(p)}},x=async()=>{if(l){d(!0);try{const{data:{user:b},error:p}=await J.auth.getUser();if(p||!b)throw new Error("User not authenticated");const y=l.name.split(".").pop(),v=`${b.id}/avatar-${Date.now()}.${y}`,{data:S,error:j}=await J.storage.from("avatars").upload(v,l,{cacheControl:"3600",upsert:!0});if(j)throw j;const{data:N}=J.storage.from("avatars").getPublicUrl(S.path);t(N.publicUrl)}catch(b){console.error("Error uploading image:",b),alert("Failed to upload image. Please try again.")}finally{d(!1)}}},g=()=>{i(null),o(null),u.current&&(u.current.value="")};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:r}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"text-center",children:a?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:a,alt:"Selected",className:"w-32 h-32 object-cover rounded-full border-4 border-gray-200"}),s.jsx("button",{onClick:g,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Te,{className:"h-4 w-4"})})]}):s.jsx("div",{className:"w-32 h-32 mx-auto bg-gray-100 rounded-full flex items-center justify-center border-4 border-gray-200",children:s.jsx(Qt,{className:"h-8 w-8 text-gray-400"})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(us,{className:"w-8 h-8 mb-2 text-gray-400"}),f?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin h-5 w-5 mb-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("p",{className:"mb-2 text-sm text-gray-500 font-semibold",children:"Loading preview..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG or JPEG (MAX. 5MB)"})]})]}),s.jsx("input",{ref:u,type:"file",className:"hidden",accept:"image/*",onChange:m})]})}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-1",children:"Image Guidelines"}),s.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[s.jsx("li",{children:" Use a clear, professional photo"}),s.jsx("li",{children:" Square images work best (1:1 ratio)"}),s.jsx("li",{children:" Ensure good lighting and focus"}),s.jsx("li",{children:" Avoid group photos or distracting backgrounds"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:x,disabled:!a||c,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s.jsx(to,{className:"h-4 w-4"}),s.jsx("span",{children:c?"Uploading...":"Save Image"})]})]})]})})},pz=({onClose:e})=>{const{user:t,updateProfile:r}=Ae(),n=t,[a,i]=w.useState(!1),[l,o]=w.useState(!1),[c,d]=w.useState(n.avatar||""),[u,f]=w.useState({name:n.name||"",email:n.email||"",company:n.company||"",phone:n.phone||"",address:n.address||""}),h=b=>{const{name:p,value:y}=b.target;f(v=>({...v,[p]:y}))},m=b=>{d(b),o(!1)},x=async b=>{b.preventDefault(),i(!0);try{await new Promise(y=>setTimeout(y,1e3));const p={...n,...u,avatar:c};r==null||r(p),e()}catch(p){console.error("Failed to update profile:",p)}finally{i(!1)}},g=b=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(b);return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Settings"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"relative",children:[c?s.jsx("img",{src:c,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}):s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:n.name.charAt(0).toUpperCase()}),s.jsx("button",{type:"button",onClick:()=>o(!0),className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-lg border border-gray-200 hover:bg-gray-50 transition-colors",title:"Change Avatar",children:s.jsx(Qt,{className:"h-4 w-4 text-gray-600"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n.name}),s.jsx("p",{className:"text-gray-600",children:n.email}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[s.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-blue-100 text-blue-800",children:"Founder"}),s.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-green-50 to-blue-50 px-3 py-1 rounded-full border border-green-200",children:[s.jsx(qt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm font-semibold text-green-700",children:g(n.walletBalance||0)})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Xr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:u.name,onChange:h,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Cn,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:u.email,onChange:h,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Business Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Al,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"company",name:"company",value:u.company,onChange:h,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your company name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ig,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:h,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your phone number"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute top-3 left-3 pointer-events-none",children:s.jsx(Gr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("textarea",{id:"address",name:"address",rows:3,value:u.address,onChange:h,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your business address"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(qt,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Wallet Balance"}),s.jsx("p",{className:"text-xl font-bold text-green-900",children:g(n.walletBalance||0)})]})]})}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Al,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Campaigns"}),s.jsx("p",{className:"text-xl font-bold text-blue-900",children:"4"})]})]})}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Xr,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Member Since"}),s.jsx("p",{className:"text-xl font-bold text-purple-900",children:n.createdAt.toLocaleDateString("en-US",{month:"short",year:"numeric"})})]})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s.jsx(to,{className:"h-4 w-4"}),s.jsx("span",{children:a?"Saving...":"Save Changes"})]})]})]})]}),l&&s.jsx(X0,{onClose:()=>o(!1),onSave:m,title:"Update Profile Picture",currentImage:c})]})},gz=({onClose:e})=>{var I,B,Y;const{user:t,updateProfile:r}=Ae(),{earnings:n,refreshData:a}=xe(),i=t,[l,o]=w.useState(!1),[c,d]=w.useState(!1),[u,f]=w.useState(i.avatar||""),[h,m]=w.useState({name:i.name||"",email:i.email||"",bio:i.bio||"",skills:i.skills||[],socialMedia:{instagram:((I=i.socialMedia)==null?void 0:I.instagram)||"",youtube:((B=i.socialMedia)==null?void 0:B.youtube)||""}}),[x,g]=w.useState("");w.useState([]);const[b,p]=w.useState(!1),[y,v]=w.useState(((Y=i.portfolio)==null?void 0:Y.map(R=>({url:R,type:R.includes(".mp4")||R.includes("video")?"video":"image"})))||[]),S=w.useRef(null),j=R=>{const{name:D,value:ne}=R.target;if(D.startsWith("socialMedia.")){const ve=D.split(".")[1];m(oe=>({...oe,socialMedia:{...oe.socialMedia,[ve]:ne}}))}else m(ve=>({...ve,[D]:ne}))},N=()=>{x.trim()&&!h.skills.includes(x.trim())&&(m(R=>({...R,skills:[...R.skills,x.trim()]})),g(""))},_=R=>{m(D=>({...D,skills:D.skills.filter(ne=>ne!==R)}))},k=()=>{var R;(R=S.current)==null||R.click()},A=async R=>{const D=R.target.files;if(!(!D||D.length===0)){p(!0);try{const{data:{user:ne}}=await J.auth.getUser();if(!ne)throw new Error("User not authenticated");const ve=[];for(let oe=0;oe<D.length;oe++){const $e=D[oe];if(!$e.type.startsWith("image/")&&!$e.type.startsWith("video/")){console.warn(`${$e.name} is not a valid image or video file.`);continue}if($e.size>10*1024*1024){console.warn(`${$e.name} is too large. Maximum size is 10MB.`);continue}const Br=$e.type.startsWith("image/")?"image":"video",Gd=$e.name.split(".").pop(),q=`${ne.id}/portfolio-${Date.now()}-${oe}.${Gd}`,{data:ee,error:se}=await J.storage.from("portfolio").upload(q,$e,{cacheControl:"3600",upsert:!0});if(se){console.error("Error uploading file:",se);continue}const{data:L}=J.storage.from("portfolio").getPublicUrl(ee.path);ve.push({url:L.publicUrl,type:Br})}v(oe=>[...oe,...ve]),S.current&&(S.current.value="")}catch(ne){console.error("Error uploading portfolio items:",ne),alert("Failed to upload some files. Please try again.")}finally{p(!1)}}},O=async R=>{try{const D=y[R],ve=new URL(D.url).pathname.match(/\/portfolio\/(.+)$/);if(ve&&ve[1]){const oe=decodeURIComponent(ve[1]),{error:$e}=await J.storage.from("portfolio").remove([oe]);$e&&console.error("Error removing file from storage:",$e)}v(oe=>oe.filter(($e,Br)=>Br!==R))}catch(D){console.error("Error removing portfolio item:",D)}},P=R=>{f(R),d(!1)},C=async R=>{R.preventDefault(),o(!0);try{const D={...i,...h,avatar:u,portfolio:y.map(ne=>ne.url)};await(r==null?void 0:r(D)),await a(),e()}catch(D){console.error("Failed to update profile:",D),alert("Failed to update profile. Please try again.")}finally{o(!1)}},E=R=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(R),F=n.filter(R=>R.talentId===i.id&&R.status==="paid").reduce((R,D)=>R+D.amount,0),z=n.filter(R=>R.talentId===i.id&&R.status==="paid").length,M=n.filter(R=>R.talentId===i.id&&R.status==="pending").reduce((R,D)=>R+D.amount,0),U=R=>{switch(R){case 1:return"bg-green-100 text-green-800";case 2:return"bg-blue-100 text-blue-800";case 3:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Settings"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"relative",children:[u?s.jsx("img",{src:u,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}):s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:i.name.charAt(0).toUpperCase()}),s.jsx("button",{type:"button",onClick:()=>d(!0),className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-lg border border-gray-200 hover:bg-gray-50 transition-colors",title:"Change Avatar",children:s.jsx(Qt,{className:"h-4 w-4 text-gray-600"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i.name}),s.jsx("p",{className:"text-gray-600",children:i.email}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[s.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-purple-100 text-purple-800",children:"Talent"}),s.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${U(i.rateLevel)}`,children:[i.rateLevel," Star Level"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:E(F)}),s.jsx("div",{className:"text-sm text-green-700",children:"Total Earnings"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:z}),s.jsx("div",{className:"text-sm text-blue-700",children:"Completed Jobs"})]}),s.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:E(M)}),s.jsx("div",{className:"text-sm text-yellow-700",children:"Pending Earnings"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Xr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:h.name,onChange:j,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Cn,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:h.email,onChange:j,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),s.jsx("textarea",{id:"bio",name:"bio",rows:4,value:h.bio,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tell us about yourself, your experience, and what makes you unique as a content creator..."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Skills & Expertise"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:x,onChange:R=>g(R.target.value),onKeyPress:R=>R.key==="Enter"&&(R.preventDefault(),N()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add a skill (e.g., Photography, Video Editing)"}),s.jsxs("button",{type:"button",onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-1",children:[s.jsx(il,{className:"h-4 w-4"}),s.jsx("span",{children:"Add"})]})]}),h.skills.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:h.skills.map((R,D)=>s.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[R,s.jsx("button",{type:"button",onClick:()=>_(R),className:"ml-2 text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx(Te,{className:"h-3 w-3"})})]},D))})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Social Media"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"socialMedia.instagram",className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(eo,{className:"h-5 w-5 text-pink-500"})}),s.jsx("input",{type:"text",id:"socialMedia.instagram",name:"socialMedia.instagram",value:h.socialMedia.instagram,onChange:j,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"@username"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"socialMedia.youtube",className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ro,{className:"h-5 w-5 text-red-500"})}),s.jsx("input",{type:"text",id:"socialMedia.youtube",name:"socialMedia.youtube",value:h.socialMedia.youtube,onChange:j,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Channel URL"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Portfolio"}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx(us,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Upload images or videos to showcase your work"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",onChange:A,className:"hidden",ref:S}),s.jsx("button",{type:"button",onClick:k,disabled:b,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:b?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}):s.jsx(s.Fragment,{children:"Choose Files"})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Max file size: 10MB. Supported formats: JPG, PNG, MP4, MOV"})]})}),y.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Portfolio Gallery"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:y.map((R,D)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:R.type==="image"?s.jsx("img",{src:R.url,alt:`Portfolio ${D+1}`,className:"w-full h-full object-cover"}):s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("video",{src:R.url,className:"w-full h-full object-cover",controls:!0}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Qr,{className:"h-8 w-8 text-white drop-shadow-lg"})})]})}),s.jsx("button",{type:"button",onClick:()=>O(D),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(di,{className:"h-4 w-4"})})]},D))})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:l||b,className:"inline-flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(to,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})]})}),c&&s.jsx(X0,{onClose:()=>d(!1),onSave:P,title:"Update Profile Picture",currentImage:u})]})},xz=({onClose:e})=>{var x;const{user:t,updateProfile:r}=Ae(),[n,a]=w.useState(!1),[i,l]=w.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",address:(t==null?void 0:t.address)||""}),[o,c]=w.useState((t==null?void 0:t.avatar)||""),[d,u]=w.useState(!1),f=g=>{c(g),u(!1)},h=g=>{const{name:b,value:p}=g.target;l(y=>({...y,[b]:p}))},m=async g=>{g.preventDefault(),a(!0);try{await new Promise(p=>setTimeout(p,1e3));const b={...t,...i,avatar:o};r==null||r(b),e()}catch(b){console.error("Failed to update profile:",b)}finally{a(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Admin Profile Settings"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Te,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"relative",children:[o?s.jsx("img",{src:o,alt:"Avatar",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}):s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-red-500 to-orange-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:t==null?void 0:t.name.charAt(0).toUpperCase()}),s.jsx("button",{type:"button",className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-lg border border-gray-200 hover:bg-gray-50 transition-colors",title:"Change Avatar",onClick:()=>u(!0),children:s.jsx(Qt,{className:"h-4 w-4 text-gray-600"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t==null?void 0:t.name}),s.jsx("p",{className:"text-gray-600",children:t==null?void 0:t.email}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[s.jsxs("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-red-100 text-red-800 flex items-center space-x-1",children:[s.jsx(lm,{className:"h-3 w-3"}),s.jsx("span",{children:"Administrator"})]}),s.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-green-100 text-green-800",children:"Super User"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Xr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:i.name,onChange:h,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your full name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Cn,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:i.email,onChange:h,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your email"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:i.phone,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("input",{type:"text",id:"address",name:"address",value:i.address,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your address"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Admin Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(lm,{className:"h-8 w-8 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Admin Level"}),s.jsx("p",{className:"text-xl font-bold text-red-900",children:"Super Admin"})]})]})}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Tl,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"System Access"}),s.jsx("p",{className:"text-xl font-bold text-blue-900",children:"Full Access"})]})]})}),s.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ke,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Member Since"}),s.jsx("p",{className:"text-xl font-bold text-green-900",children:(x=t==null?void 0:t.createdAt)==null?void 0:x.toLocaleDateString("en-US",{month:"short",year:"numeric"})})]})]})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Permissions"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-700",children:"User Management"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Campaign Management"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Payment Management"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-700",children:"System Analytics"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Content Moderation"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Financial Reports"})]})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-gradient-to-r from-red-600 to-orange-600 text-white rounded-lg hover:from-red-700 hover:to-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s.jsx(to,{className:"h-4 w-4"}),s.jsx("span",{children:n?"Saving...":"Save Changes"})]})]})]})]})}),d&&s.jsx(X0,{onClose:()=>u(!1),onSave:f,title:"Update Admin Avatar",currentImage:o})]})},vz=()=>{const{user:e,loading:t}=Ae(),[r,n]=w.useState(!1),[a,i]=w.useState("dashboard"),[l,o]=w.useState(!1);if(w.useEffect(()=>{const d=()=>{o(!0)};return window.addEventListener("openProfileModal",d),()=>{window.removeEventListener("openProfileModal",d)}},[]),t)return s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(!e)return r?s.jsx(R4,{onSwitchToLogin:()=>n(!1)}):s.jsx(L4,{onSwitchToRegister:()=>n(!0)});const c=()=>{switch(a){case"dashboard":if(e.role==="admin")return s.jsx(_s,{});if(e.role==="founder")return s.jsx(In,{});if(e.role==="talent")return s.jsx(nn,{});break;case"founders":return e.role==="admin"?s.jsx(lT,{}):(i("dashboard"),e.role==="founder"?s.jsx(In,{}):s.jsx(nn,{}));case"talents":return e.role==="admin"?s.jsx(uT,{}):(i("dashboard"),e.role==="founder"?s.jsx(In,{}):s.jsx(nn,{}));case"payments":return e.role==="admin"?s.jsx(hT,{}):(i("dashboard"),e.role==="founder"?s.jsx(In,{}):s.jsx(nn,{}));case"analytics":return e.role==="admin"?s.jsx(mz,{}):(i("dashboard"),e.role==="founder"?s.jsx(In,{}):s.jsx(nn,{}));case"marketplace":return e.role==="talent"?s.jsx(W4,{}):(i("dashboard"),e.role==="founder"?s.jsx(In,{}):s.jsx(_s,{}));case"campaigns":return e.role==="founder"?s.jsx(Y4,{}):e.role==="admin"?s.jsx(fT,{}):(i("dashboard"),s.jsx(nn,{}));case"orders":return e.role==="founder"?s.jsx(X4,{}):(i("dashboard"),e.role==="admin"?s.jsx(_s,{}):s.jsx(nn,{}));case"jobs":return e.role==="talent"?s.jsx(eT,{}):(i("dashboard"),e.role==="admin"?s.jsx(_s,{}):s.jsx(In,{}));case"reviews":return e.role==="founder"?s.jsx(rT,{}):(i("dashboard"),e.role==="admin"?s.jsx(_s,{}):s.jsx(nn,{}));case"wallet":return e.role==="founder"?s.jsx(sT,{}):(i("dashboard"),e.role==="admin"?s.jsx(_s,{}):s.jsx(nn,{}));case"earnings":return e.role==="talent"?s.jsx(aT,{}):(i("dashboard"),e.role==="admin"?s.jsx(_s,{}):s.jsx(In,{}));default:return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:a.charAt(0).toUpperCase()+a.slice(1)}),s.jsx("p",{className:"text-gray-600",children:"This page is under development"})]})})}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(F4,{}),s.jsxs("div",{className:"flex",children:[s.jsx(U4,{currentPage:a,onPageChange:i}),s.jsx("main",{className:"flex-1 p-6",children:c()})]}),l&&e.role==="founder"&&s.jsx(pz,{onClose:()=>o(!1)}),l&&e.role==="talent"&&s.jsx(gz,{onClose:()=>o(!1)}),l&&e.role==="admin"&&s.jsx(xz,{onClose:()=>o(!1)})]})};function yz(){return s.jsx(k4,{children:s.jsx(P4,{children:s.jsx(vz,{})})})}$1(document.getElementById("root")).render(s.jsx(w.StrictMode,{children:s.jsx(yz,{})}));
